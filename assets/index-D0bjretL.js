import{c as cc,a as Xt,u as gt,j as e,B as dc,P as be,V as jn,b as xa,d as Jt,e as qa,f as ue,R as uc,g as wn,h as kn,i as mc,k as Qa,A as Hs,D as Nn,C as Sn,S as Cn,l as hc,m as Pn,n as Xa,o as _n,p as Nt,O as ga,q as va,r as Ja,T as ba,s as ya,t as Bs,v as Vs,w as Dn,I as pc,x as Tn,y as Mn,z as fc,E as En,F as xc,L as Rn,G as An,H as gc,J as vc,K as Fn,M as bc,N as yc,Q as In,U as On,W as jc,X as wc,Y as kc,Z as Nc,_ as Sc,$ as Ln,a0 as Cc,a1 as Pc,a2 as _c,a3 as Kn,a4 as $n,a5 as Dc,a6 as qn,a7 as zn,a8 as Wn,a9 as Hn,aa as Bn,ab as Vn,ac as Yn,ad as Tc,ae as Mc}from"./ui-vendor-BXKYZ-5F.js";import{b as Gn,r as u,a as M,c as Ec}from"./react-vendor-5TN-mbr2.js";import{c as Un,R as Rc,L as Ac,C as Fc,X as Ic,Y as Oc,T as Lc,a as Kc,b as zr}from"./chart-vendor-C86-1S-I.js";import{u as Ne,a as De,b as Te,Q as $c,c as qc}from"./query-vendor-CL5tQ0SI.js";import{u as Ys,L as Cs,a as Qn,B as zc,R as Wr,b as Ve}from"./router-vendor-Dek2Lha6.js";import{c as Wc}from"./supabase-vendor-BsR3LEGY.js";import{o as Hc,r as Bc,a as Vc,u as Yc,F as Gc,C as Uc,b as Rt,s as lt,n as Mt,c as St,d as Gs,e as Xn,f as Ps}from"./form-vendor-Cc0LdXMe.js";import{E as Us,a as zt}from"./pdf-vendor-B0XmBuCr.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var Jn,Hr=Gn;Jn=Hr.createRoot,Hr.hydrateRoot;const Qc=1,Xc=1e6;let hs=0;function Jc(){return hs=(hs+1)%Number.MAX_SAFE_INTEGER,hs.toString()}const ps=new Map,Br=t=>{if(ps.has(t))return;const s=setTimeout(()=>{ps.delete(t),ua({type:"REMOVE_TOAST",toastId:t})},Xc);ps.set(t,s)},Zc=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Qc)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?Br(a):t.toasts.forEach(r=>{Br(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},Fa=[];let Ia={toasts:[]};function ua(t){Ia=Zc(Ia,t),Fa.forEach(s=>{s(Ia)})}function ed({...t}){const s=Jc(),a=n=>ua({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>ua({type:"DISMISS_TOAST",toastId:s});return ua({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function ve(){const[t,s]=u.useState(Ia);return u.useEffect(()=>(Fa.push(s),()=>{const a=Fa.indexOf(s);a>-1&&Fa.splice(a,1)}),[t]),{...t,toast:ed,dismiss:a=>ua({type:"DISMISS_TOAST",toastId:a})}}var Qs="ToastProvider",[Xs,td,ad]=cc("Toast"),[Zn,Yv]=Xt("Toast",[ad]),[sd,Za]=Zn(Qs),eo=t=>{const{__scopeToast:s,label:a="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=t,[l,c]=u.useState(null),[d,h]=u.useState(0),p=u.useRef(!1),m=u.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qs}\`. Expected non-empty \`string\`.`),e.jsx(Xs.Provider,{scope:s,children:e.jsx(sd,{scope:s,label:a,duration:r,swipeDirection:n,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>h(f=>f+1),[]),onToastRemove:u.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:i})})};eo.displayName=Qs;var to="ToastViewport",rd=["F8"],_s="toast.viewportPause",Ds="toast.viewportResume",ao=u.forwardRef((t,s)=>{const{__scopeToast:a,hotkey:r=rd,label:n="Notifications ({hotkey})",...o}=t,i=Za(to,a),l=td(a),c=u.useRef(null),d=u.useRef(null),h=u.useRef(null),p=u.useRef(null),m=gt(s,p,i.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;u.useEffect(()=>{const v=y=>{r.length!==0&&r.every(P=>y[P]||y.code===P)&&p.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),u.useEffect(()=>{const v=c.current,y=p.current;if(g&&v&&y){const b=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(_s);y.dispatchEvent(C),i.isClosePausedRef.current=!0}},P=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(Ds);y.dispatchEvent(C),i.isClosePausedRef.current=!1}},_=C=>{!v.contains(C.relatedTarget)&&P()},T=()=>{v.contains(document.activeElement)||P()};return v.addEventListener("focusin",b),v.addEventListener("focusout",_),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",P),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",P)}}},[g,i.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:v})=>{const b=l().map(P=>{const _=P.ref.current,T=[_,...gd(_)];return v==="forwards"?T:T.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return u.useEffect(()=>{const v=p.current;if(v){const y=b=>{const P=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!P){const T=document.activeElement,C=b.shiftKey;if(b.target===v&&C){d.current?.focus();return}const xe=x({tabbingDirection:C?"backwards":"forwards"}),ce=xe.findIndex(U=>U===T);fs(xe.slice(ce+1))?b.preventDefault():C?d.current?.focus():h.current?.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,x]),e.jsxs(dc,{ref:c,role:"region","aria-label":n.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&e.jsx(Ts,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});fs(v)}}),e.jsx(Xs.Slot,{scope:a,children:e.jsx(be.ol,{tabIndex:-1,...o,ref:m})}),g&&e.jsx(Ts,{ref:h,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});fs(v)}})]})});ao.displayName=to;var so="ToastFocusProxy",Ts=u.forwardRef((t,s)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...n}=t,o=Za(so,a);return e.jsx(jn,{"aria-hidden":!0,tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:i=>{const l=i.relatedTarget;!o.viewport?.contains(l)&&r()}})});Ts.displayName=so;var es="Toast",nd="toast.swipeStart",od="toast.swipeMove",id="toast.swipeCancel",ld="toast.swipeEnd",ro=u.forwardRef((t,s)=>{const{forceMount:a,open:r,defaultOpen:n,onOpenChange:o,...i}=t,[l=!0,c]=xa({prop:r,defaultProp:n,onChange:o});return e.jsx(Jt,{present:a||l,children:e.jsx(ud,{open:l,...i,ref:s,onClose:()=>c(!1),onPause:qa(t.onPause),onResume:qa(t.onResume),onSwipeStart:ue(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ue(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});ro.displayName=es;var[cd,dd]=Zn(es,{onClose(){}}),ud=u.forwardRef((t,s)=>{const{__scopeToast:a,type:r="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:f,...g}=t,x=Za(es,a),[v,y]=u.useState(null),b=gt(s,K=>y(K)),P=u.useRef(null),_=u.useRef(null),T=n||x.duration,C=u.useRef(0),A=u.useRef(T),ie=u.useRef(0),{onToastAdd:xe,onToastRemove:ce}=x,U=qa(()=>{v?.contains(document.activeElement)&&x.viewport?.focus(),i()}),z=u.useCallback(K=>{!K||K===1/0||(window.clearTimeout(ie.current),C.current=new Date().getTime(),ie.current=window.setTimeout(U,K))},[U]);u.useEffect(()=>{const K=x.viewport;if(K){const oe=()=>{z(A.current),d?.()},J=()=>{const R=new Date().getTime()-C.current;A.current=A.current-R,window.clearTimeout(ie.current),c?.()};return K.addEventListener(_s,J),K.addEventListener(Ds,oe),()=>{K.removeEventListener(_s,J),K.removeEventListener(Ds,oe)}}},[x.viewport,T,c,d,z]),u.useEffect(()=>{o&&!x.isClosePausedRef.current&&z(T)},[o,T,x.isClosePausedRef,z]),u.useEffect(()=>(xe(),()=>ce()),[xe,ce]);const ge=u.useMemo(()=>v?mo(v):null,[v]);return x.viewport?e.jsxs(e.Fragment,{children:[ge&&e.jsx(md,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ge}),e.jsx(cd,{scope:a,onClose:U,children:Gn.createPortal(e.jsx(Xs.ItemSlot,{scope:a,children:e.jsx(uc,{asChild:!0,onEscapeKeyDown:ue(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||U(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,K=>{K.key==="Escape"&&(l?.(K.nativeEvent),K.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:ue(t.onPointerDown,K=>{K.button===0&&(P.current={x:K.clientX,y:K.clientY})}),onPointerMove:ue(t.onPointerMove,K=>{if(!P.current)return;const oe=K.clientX-P.current.x,J=K.clientY-P.current.y,R=!!_.current,j=["left","right"].includes(x.swipeDirection),se=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,re=j?se(0,oe):0,q=j?0:se(0,J),te=K.pointerType==="touch"?10:2,Z={x:re,y:q},_e={originalEvent:K,delta:Z};R?(_.current=Z,Ea(od,p,_e,{discrete:!1})):Vr(Z,x.swipeDirection,te)?(_.current=Z,Ea(nd,h,_e,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(oe)>te||Math.abs(J)>te)&&(P.current=null)}),onPointerUp:ue(t.onPointerUp,K=>{const oe=_.current,J=K.target;if(J.hasPointerCapture(K.pointerId)&&J.releasePointerCapture(K.pointerId),_.current=null,P.current=null,oe){const R=K.currentTarget,j={originalEvent:K,delta:oe};Vr(oe,x.swipeDirection,x.swipeThreshold)?Ea(ld,f,j,{discrete:!0}):Ea(id,m,j,{discrete:!0}),R.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),md=t=>{const{__scopeToast:s,children:a,...r}=t,n=Za(es,s),[o,i]=u.useState(!1),[l,c]=u.useState(!1);return fd(()=>i(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:e.jsx(wn,{asChild:!0,children:e.jsx(jn,{...r,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",a]})})})},hd="ToastTitle",no=u.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(be.div,{...r,ref:s})});no.displayName=hd;var pd="ToastDescription",oo=u.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(be.div,{...r,ref:s})});oo.displayName=pd;var io="ToastAction",lo=u.forwardRef((t,s)=>{const{altText:a,...r}=t;return a.trim()?e.jsx(uo,{altText:a,asChild:!0,children:e.jsx(Js,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${io}\`. Expected non-empty \`string\`.`),null)});lo.displayName=io;var co="ToastClose",Js=u.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t,n=dd(co,a);return e.jsx(uo,{asChild:!0,children:e.jsx(be.button,{type:"button",...r,ref:s,onClick:ue(t.onClick,n.onClose)})})});Js.displayName=co;var uo=u.forwardRef((t,s)=>{const{__scopeToast:a,altText:r,...n}=t;return e.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:s})});function mo(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),xd(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&s.push(i)}else s.push(...mo(r))}}),s}function Ea(t,s,a,{discrete:r}){const n=a.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?mc(n,o):n.dispatchEvent(o)}var Vr=(t,s,a=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),o=r>n;return s==="left"||s==="right"?o&&r>a:!o&&n>a};function fd(t=()=>{}){const s=qa(t);kn(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[s])}function xd(t){return t.nodeType===t.ELEMENT_NODE}function gd(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function fs(t){const s=document.activeElement;return t.some(a=>a===s?!0:(a.focus(),document.activeElement!==s))}var vd=eo,ho=ao,po=ro,fo=no,xo=oo,go=lo,vo=Js;const Yr=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gr=Un,At=(t,s)=>a=>{var r;if(s?.variants==null)return Gr(t,a?.class,a?.className);const{variants:n,defaultVariants:o}=s,i=Object.keys(n).map(d=>{const h=a?.[d],p=o?.[d];if(h===null)return null;const m=Yr(h)||Yr(p);return n[d][m]}),l=a&&Object.entries(a).reduce((d,h)=>{let[p,m]=h;return m===void 0||(d[p]=m),d},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:m,...f}=h;return Object.entries(f).every(g=>{let[x,v]=g;return Array.isArray(v)?v.includes({...o,...l}[x]):{...o,...l}[x]===v})?[...d,p,m]:d},[]);return Gr(t,i,c,a?.class,a?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bo=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=u.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...yd,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:bo("lucide",n),...l},[...i.map(([d,h])=>u.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(t,s)=>{const a=u.forwardRef(({className:r,...n},o)=>u.createElement(jd,{ref:o,iconNode:s,className:bo(`lucide-${bd(t)}`,r),...n}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Y("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Y("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Y("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Y("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Y("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Y("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Y("Component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Y("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Y("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Y("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Y("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Y("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Y("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Y("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Y("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Y("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Y("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Y("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nr="-",Id=t=>{const s=Ld(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const l=i.split(nr);return l[0]===""&&l.length!==1&&l.shift(),No(l,s)||Od(i)},getConflictingClassGroupIds:(i,l)=>{const c=a[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},No=(t,s)=>{if(t.length===0)return s.classGroupId;const a=t[0],r=s.nextPart.get(a),n=r?No(t.slice(1),r):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(nr);return s.validators.find(({validator:i})=>i(o))?.classGroupId},Xr=/^\[(.+)\]$/,Od=t=>{if(Xr.test(t)){const s=Xr.exec(t)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},Ld=t=>{const{theme:s,prefix:a}=t,r={nextPart:new Map,validators:[]};return $d(Object.entries(t.classGroups),a).forEach(([o,i])=>{Rs(i,r,o,s)}),r},Rs=(t,s,a,r)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:Jr(s,n);o.classGroupId=a;return}if(typeof n=="function"){if(Kd(n)){Rs(n(r),s,a,r);return}s.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([o,i])=>{Rs(i,Jr(s,o),a,r)})})},Jr=(t,s)=>{let a=t;return s.split(nr).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},Kd=t=>t.isThemeGetter,$d=(t,s)=>s?t.map(([a,r])=>{const n=r.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[s+i,l])):o);return[a,n]}):t,qd=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,r=new Map;const n=(o,i)=>{a.set(o,i),s++,s>t&&(s=0,r=a,a=new Map)};return{get(o){let i=a.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return n(o,i),i},set(o,i){a.has(o)?a.set(o,i):n(o,i)}}},So="!",zd=t=>{const{separator:s,experimentalParseClassName:a}=t,r=s.length===1,n=s[0],o=s.length,i=l=>{const c=[];let d=0,h=0,p;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===n&&(r||l.slice(v,v+o)===s)){c.push(l.slice(h,v)),h=v+o;continue}if(y==="/"){p=v;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(h),f=m.startsWith(So),g=f?m.substring(1):m,x=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:x}};return a?l=>a({className:l,parseClassName:i}):i},Wd=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(r=>{r[0]==="["?(s.push(...a.sort(),r),a=[]):a.push(r)}),s.push(...a.sort()),s},Hd=t=>({cache:qd(t.cacheSize),parseClassName:zd(t),...Id(t)}),Bd=/\s+/,Vd=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n}=s,o=[],i=t.trim().split(Bd);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:f}=a(d);let g=!!f,x=r(g?m.substring(0,f):m);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const v=Wd(h).join(":"),y=p?v+So:v,b=y+x;if(o.includes(b))continue;o.push(b);const P=n(x,g);for(let _=0;_<P.length;++_){const T=P[_];o.push(y+T)}l=d+(l.length>0?" "+l:l)}return l};function Yd(){let t=0,s,a,r="";for(;t<arguments.length;)(s=arguments[t++])&&(a=Co(s))&&(r&&(r+=" "),r+=a);return r}const Co=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=Co(t[r]))&&(a&&(a+=" "),a+=s);return a};function Gd(t,...s){let a,r,n,o=i;function i(c){const d=s.reduce((h,p)=>p(h),t());return a=Hd(d),r=a.cache.get,n=a.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=Vd(c,a);return n(c,h),h}return function(){return o(Yd.apply(null,arguments))}}const pe=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},Po=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ud=/^\d+\/\d+$/,Qd=new Set(["px","full","screen"]),Xd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ot=t=>Ht(t)||Qd.has(t)||Ud.test(t),yt=t=>ea(t,"length",cu),Ht=t=>!!t&&!Number.isNaN(Number(t)),xs=t=>ea(t,"number",Ht),na=t=>!!t&&Number.isInteger(Number(t)),au=t=>t.endsWith("%")&&Ht(t.slice(0,-1)),B=t=>Po.test(t),jt=t=>Xd.test(t),su=new Set(["length","size","percentage"]),ru=t=>ea(t,su,_o),nu=t=>ea(t,"position",_o),ou=new Set(["image","url"]),iu=t=>ea(t,ou,uu),lu=t=>ea(t,"",du),oa=()=>!0,ea=(t,s,a)=>{const r=Po.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):a(r[2]):!1},cu=t=>Jd.test(t)&&!Zd.test(t),_o=()=>!1,du=t=>eu.test(t),uu=t=>tu.test(t),mu=()=>{const t=pe("colors"),s=pe("spacing"),a=pe("blur"),r=pe("brightness"),n=pe("borderColor"),o=pe("borderRadius"),i=pe("borderSpacing"),l=pe("borderWidth"),c=pe("contrast"),d=pe("grayscale"),h=pe("hueRotate"),p=pe("invert"),m=pe("gap"),f=pe("gradientColorStops"),g=pe("gradientColorStopPositions"),x=pe("inset"),v=pe("margin"),y=pe("opacity"),b=pe("padding"),P=pe("saturate"),_=pe("scale"),T=pe("sepia"),C=pe("skew"),A=pe("space"),ie=pe("translate"),xe=()=>["auto","contain","none"],ce=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",B,s],z=()=>[B,s],ge=()=>["",ot,yt],K=()=>["auto",Ht,B],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",B],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Ht,B];return{cacheSize:500,separator:":",theme:{colors:[oa],spacing:[ot,yt],blur:["none","",jt,B],brightness:q(),borderColor:[t],borderRadius:["none","","full",jt,B],borderSpacing:z(),borderWidth:ge(),contrast:q(),grayscale:se(),hueRotate:q(),invert:se(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[au,yt],inset:U(),margin:U(),opacity:q(),padding:z(),saturate:q(),scale:q(),sepia:se(),skew:q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[jt]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),B]}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:xe()}],"overscroll-x":[{"overscroll-x":xe()}],"overscroll-y":[{"overscroll-y":xe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",na,B]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",na,B]}],"grid-cols":[{"grid-cols":[oa]}],"col-start-end":[{col:["auto",{span:["full",na,B]},B]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[oa]}],"row-start-end":[{row:["auto",{span:[na,B]},B]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,s]}],"min-w":[{"min-w":[B,s,"min","max","fit"]}],"max-w":[{"max-w":[B,s,"none","full","min","max","fit","prose",{screen:[jt]},jt]}],h:[{h:[B,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,s,"auto","min","max","fit"]}],"font-size":[{text:["base",jt,yt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xs]}],"font-family":[{font:[oa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",Ht,xs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ot,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ot,yt]}],"underline-offset":[{"underline-offset":["auto",ot,B]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),nu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ru]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iu]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[ot,B]}],"outline-w":[{outline:[ot,yt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ot,yt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jt,lu]}],"shadow-color":[{shadow:[oa]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jt,B]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[P]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[na,B]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ot,yt,xs]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hu=Gd(mu);function w(...t){return hu(Un(t))}const pu=vd,Do=u.forwardRef(({className:t,...s},a)=>e.jsx(ho,{ref:a,className:w("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Do.displayName=ho.displayName;const fu=At("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),To=u.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(po,{ref:r,className:w(fu({variant:s}),t),...a}));To.displayName=po.displayName;const xu=u.forwardRef(({className:t,...s},a)=>e.jsx(go,{ref:a,className:w("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));xu.displayName=go.displayName;const Mo=u.forwardRef(({className:t,...s},a)=>e.jsx(vo,{ref:a,className:w("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ts,{className:"h-4 w-4"})}));Mo.displayName=vo.displayName;const Eo=u.forwardRef(({className:t,...s},a)=>e.jsx(fo,{ref:a,className:w("text-sm font-semibold",t),...s}));Eo.displayName=fo.displayName;const Ro=u.forwardRef(({className:t,...s},a)=>e.jsx(xo,{ref:a,className:w("text-sm opacity-90",t),...s}));Ro.displayName=xo.displayName;function gu(){const{toasts:t}=ve();return e.jsxs(pu,{children:[t.map(function({id:s,title:a,description:r,action:n,...o}){return e.jsxs(To,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Eo,{children:a}),r&&e.jsx(Ro,{children:r})]}),n,e.jsx(Mo,{})]},s)}),e.jsx(Do,{})]})}var Zr=["light","dark"],vu="(prefers-color-scheme: dark)",bu=u.createContext(void 0),yu={setTheme:t=>{},themes:[]},ju=()=>{var t;return(t=u.useContext(bu))!=null?t:yu};u.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",h=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,p=n?Zr.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,x=!1,v=!0)=>{let y=i?i[g]:g,b=x?g+"|| ''":`'${y}'`,P="";return n&&v&&!x&&Zr.includes(g)&&(P+=`d.style.colorScheme = '${g}';`),a==="class"?x||y?P+=`c.add(${b})`:P+="null":y&&(P+=`d[s](n,${b})`),P},f=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${d})){var t='${vu}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${d?"":"else{"+m(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${s}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${p}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var wu=t=>{switch(t){case"success":return Su;case"info":return Pu;case"warning":return Cu;case"error":return _u;default:return null}},ku=Array(12).fill(0),Nu=({visible:t})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},M.createElement("div",{className:"sonner-spinner"},ku.map((s,a)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),Su=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Cu=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Pu=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_u=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Du=()=>{let[t,s]=M.useState(document.hidden);return M.useEffect(()=>{let a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t},As=1,Tu=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:a,...r}=t,n=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:As++,o=this.toasts.find(l=>l.id===n),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:a}),{...l,...t,id:n,dismissible:i,title:a}):l):this.addToast({title:a,...r,dismissible:i,id:n}),n},this.dismiss=t=>(t||this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let r=t instanceof Promise?t:t(),n=a!==void 0;return r.then(async o=>{if(Eu(o)&&!o.ok){n=!1;let i=typeof s.error=="function"?await s.error(`HTTP error! status: ${o.status}`):s.error,l=typeof s.description=="function"?await s.description(`HTTP error! status: ${o.status}`):s.description;this.create({id:a,type:"error",message:i,description:l})}else if(s.success!==void 0){n=!1;let i=typeof s.success=="function"?await s.success(o):s.success,l=typeof s.description=="function"?await s.description(o):s.description;this.create({id:a,type:"success",message:i,description:l})}}).catch(async o=>{if(s.error!==void 0){n=!1;let i=typeof s.error=="function"?await s.error(o):s.error,l=typeof s.description=="function"?await s.description(o):s.description;this.create({id:a,type:"error",message:i,description:l})}}).finally(()=>{var o;n&&(this.dismiss(a),a=void 0),(o=s.finally)==null||o.call(s)}),a},this.custom=(t,s)=>{let a=s?.id||As++;return this.create({jsx:t(a),id:a,...s}),a},this.subscribers=[],this.toasts=[]}},Ye=new Tu,Mu=(t,s)=>{let a=s?.id||As++;return Ye.addToast({title:t,...s,id:a}),a},Eu=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ru=Mu,Au=()=>Ye.toasts;Object.assign(Ru,{success:Ye.success,info:Ye.info,warning:Ye.warning,error:Ye.error,custom:Ye.custom,message:Ye.message,promise:Ye.promise,dismiss:Ye.dismiss,loading:Ye.loading},{getHistory:Au});function Fu(t,{insertAt:s}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Fu(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ra(t){return t.label!==void 0}var Iu=3,Ou="32px",Lu=4e3,Ku=356,$u=14,qu=20,zu=200;function Wu(...t){return t.filter(Boolean).join(" ")}var Hu=t=>{var s,a,r,n,o,i,l,c,d,h;let{invert:p,toast:m,unstyled:f,interacting:g,setHeights:x,visibleToasts:v,heights:y,index:b,toasts:P,expanded:_,removeToast:T,defaultRichColors:C,closeButton:A,style:ie,cancelButtonStyle:xe,actionButtonStyle:ce,className:U="",descriptionClassName:z="",duration:ge,position:K,gap:oe,loadingIcon:J,expandByDefault:R,classNames:j,icons:se,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:q,cn:te}=t,[Z,_e]=M.useState(!1),[E,W]=M.useState(!1),[nt,aa]=M.useState(!1),[sa,ra]=M.useState(!1),[Jl,ds]=M.useState(0),[Zl,Fr]=M.useState(0),Ir=M.useRef(null),Ot=M.useRef(null),ec=b===0,tc=b+1<=v,Ue=m.type,Lt=m.dismissible!==!1,ac=m.className||"",sc=m.descriptionClassName||"",Ta=M.useMemo(()=>y.findIndex(H=>H.toastId===m.id)||0,[y,m.id]),rc=M.useMemo(()=>{var H;return(H=m.closeButton)!=null?H:A},[m.closeButton,A]),Or=M.useMemo(()=>m.duration||ge||Lu,[m.duration,ge]),us=M.useRef(0),Kt=M.useRef(0),Lr=M.useRef(0),$t=M.useRef(null),[Kr,nc]=K.split("-"),$r=M.useMemo(()=>y.reduce((H,he,de)=>de>=Ta?H:H+he.height,0),[y,Ta]),qr=Du(),oc=m.invert||p,ms=Ue==="loading";Kt.current=M.useMemo(()=>Ta*oe+$r,[Ta,$r]),M.useEffect(()=>{_e(!0)},[]),M.useLayoutEffect(()=>{if(!Z)return;let H=Ot.current,he=H.style.height;H.style.height="auto";let de=H.getBoundingClientRect().height;H.style.height=he,Fr(de),x(et=>et.find(tt=>tt.toastId===m.id)?et.map(tt=>tt.toastId===m.id?{...tt,height:de}:tt):[{toastId:m.id,height:de,position:m.position},...et])},[Z,m.title,m.description,x,m.id]);let bt=M.useCallback(()=>{W(!0),ds(Kt.current),x(H=>H.filter(he=>he.toastId!==m.id)),setTimeout(()=>{T(m)},zu)},[m,T,x,Kt]);M.useEffect(()=>{if(m.promise&&Ue==="loading"||m.duration===1/0||m.type==="loading")return;let H,he=Or;return _||g||q&&qr?(()=>{if(Lr.current<us.current){let de=new Date().getTime()-us.current;he=he-de}Lr.current=new Date().getTime()})():he!==1/0&&(us.current=new Date().getTime(),H=setTimeout(()=>{var de;(de=m.onAutoClose)==null||de.call(m,m),bt()},he)),()=>clearTimeout(H)},[_,g,R,m,Or,bt,m.promise,Ue,q,qr]),M.useEffect(()=>{let H=Ot.current;if(H){let he=H.getBoundingClientRect().height;return Fr(he),x(de=>[{toastId:m.id,height:he,position:m.position},...de]),()=>x(de=>de.filter(et=>et.toastId!==m.id))}},[x,m.id]),M.useEffect(()=>{m.delete&&bt()},[bt,m.delete]);function ic(){return se!=null&&se.loading?M.createElement("div",{className:"sonner-loader","data-visible":Ue==="loading"},se.loading):J?M.createElement("div",{className:"sonner-loader","data-visible":Ue==="loading"},J):M.createElement(Nu,{visible:Ue==="loading"})}return M.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ot,className:te(U,ac,j?.toast,(s=m?.classNames)==null?void 0:s.toast,j?.default,j?.[Ue],(a=m?.classNames)==null?void 0:a[Ue]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||f),"data-mounted":Z,"data-promise":!!m.promise,"data-removed":E,"data-visible":tc,"data-y-position":Kr,"data-x-position":nc,"data-index":b,"data-front":ec,"data-swiping":nt,"data-dismissible":Lt,"data-type":Ue,"data-invert":oc,"data-swipe-out":sa,"data-expanded":!!(_||R&&Z),style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${E?Jl:Kt.current}px`,"--initial-height":R?"auto":`${Zl}px`,...ie,...m.style},onPointerDown:H=>{ms||!Lt||(Ir.current=new Date,ds(Kt.current),H.target.setPointerCapture(H.pointerId),H.target.tagName!=="BUTTON"&&(aa(!0),$t.current={x:H.clientX,y:H.clientY}))},onPointerUp:()=>{var H,he,de,et;if(sa||!Lt)return;$t.current=null;let tt=Number(((H=Ot.current)==null?void 0:H.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ma=new Date().getTime()-((he=Ir.current)==null?void 0:he.getTime()),lc=Math.abs(tt)/Ma;if(Math.abs(tt)>=qu||lc>.11){ds(Kt.current),(de=m.onDismiss)==null||de.call(m,m),bt(),ra(!0);return}(et=Ot.current)==null||et.style.setProperty("--swipe-amount","0px"),aa(!1)},onPointerMove:H=>{var he;if(!$t.current||!Lt)return;let de=H.clientY-$t.current.y,et=H.clientX-$t.current.x,tt=(Kr==="top"?Math.min:Math.max)(0,de),Ma=H.pointerType==="touch"?10:2;Math.abs(tt)>Ma?(he=Ot.current)==null||he.style.setProperty("--swipe-amount",`${de}px`):Math.abs(et)>Ma&&($t.current=null)}},rc&&!m.jsx?M.createElement("button",{"aria-label":re,"data-disabled":ms,"data-close-button":!0,onClick:ms||!Lt?()=>{}:()=>{var H;bt(),(H=m.onDismiss)==null||H.call(m,m)},className:te(j?.closeButton,(n=m?.classNames)==null?void 0:n.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||M.isValidElement(m.title)?m.jsx||m.title:M.createElement(M.Fragment,null,Ue||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:te(j?.icon,(o=m?.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ic():null,m.type!=="loading"?m.icon||se?.[Ue]||wu(Ue):null):null,M.createElement("div",{"data-content":"",className:te(j?.content,(i=m?.classNames)==null?void 0:i.content)},M.createElement("div",{"data-title":"",className:te(j?.title,(l=m?.classNames)==null?void 0:l.title)},m.title),m.description?M.createElement("div",{"data-description":"",className:te(z,sc,j?.description,(c=m?.classNames)==null?void 0:c.description)},m.description):null),M.isValidElement(m.cancel)?m.cancel:m.cancel&&Ra(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||xe,onClick:H=>{var he,de;Ra(m.cancel)&&Lt&&((de=(he=m.cancel).onClick)==null||de.call(he,H),bt())},className:te(j?.cancelButton,(d=m?.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,M.isValidElement(m.action)?m.action:m.action&&Ra(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||ce,onClick:H=>{var he,de;Ra(m.action)&&(H.defaultPrevented||((de=(he=m.action).onClick)==null||de.call(he,H),bt()))},className:te(j?.actionButton,(h=m?.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function en(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Bu=t=>{let{invert:s,position:a="bottom-right",hotkey:r=["altKey","KeyT"],expand:n,closeButton:o,className:i,offset:l,theme:c="light",richColors:d,duration:h,style:p,visibleToasts:m=Iu,toastOptions:f,dir:g=en(),gap:x=$u,loadingIcon:v,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:P,cn:_=Wu}=t,[T,C]=M.useState([]),A=M.useMemo(()=>Array.from(new Set([a].concat(T.filter(q=>q.position).map(q=>q.position)))),[T,a]),[ie,xe]=M.useState([]),[ce,U]=M.useState(!1),[z,ge]=M.useState(!1),[K,oe]=M.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=M.useRef(null),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=M.useRef(null),se=M.useRef(!1),re=M.useCallback(q=>{var te;(te=T.find(Z=>Z.id===q.id))!=null&&te.delete||Ye.dismiss(q.id),C(Z=>Z.filter(({id:_e})=>_e!==q.id))},[T]);return M.useEffect(()=>Ye.subscribe(q=>{if(q.dismiss){C(te=>te.map(Z=>Z.id===q.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Ec.flushSync(()=>{C(te=>{let Z=te.findIndex(_e=>_e.id===q.id);return Z!==-1?[...te.slice(0,Z),{...te[Z],...q},...te.slice(Z+1)]:[q,...te]})})})}),[]),M.useEffect(()=>{if(c!=="system"){oe(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{oe(q?"dark":"light")})},[c]),M.useEffect(()=>{T.length<=1&&U(!1)},[T]),M.useEffect(()=>{let q=te=>{var Z,_e;r.every(E=>te[E]||te.code===E)&&(U(!0),(Z=J.current)==null||Z.focus()),te.code==="Escape"&&(document.activeElement===J.current||(_e=J.current)!=null&&_e.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),M.useEffect(()=>{if(J.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,se.current=!1)}},[J.current]),T.length?M.createElement("section",{"aria-label":`${b} ${R}`,tabIndex:-1},A.map((q,te)=>{var Z;let[_e,E]=q.split("-");return M.createElement("ol",{key:q,dir:g==="auto"?en():g,tabIndex:-1,ref:J,className:i,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":_e,"data-x-position":E,style:{"--front-toast-height":`${((Z=ie[0])==null?void 0:Z.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Ou,"--width":`${Ku}px`,"--gap":`${x}px`,...p},onBlur:W=>{se.current&&!W.currentTarget.contains(W.relatedTarget)&&(se.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||se.current||(se.current=!0,j.current=W.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{z||U(!1)},onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},T.filter(W=>!W.position&&te===0||W.position===q).map((W,nt)=>{var aa,sa;return M.createElement(Hu,{key:W.id,icons:y,index:nt,toast:W,defaultRichColors:d,duration:(aa=f?.duration)!=null?aa:h,className:f?.className,descriptionClassName:f?.descriptionClassName,invert:s,visibleToasts:m,closeButton:(sa=f?.closeButton)!=null?sa:o,interacting:z,position:q,style:f?.style,unstyled:f?.unstyled,classNames:f?.classNames,cancelButtonStyle:f?.cancelButtonStyle,actionButtonStyle:f?.actionButtonStyle,removeToast:re,toasts:T.filter(ra=>ra.position==W.position),heights:ie.filter(ra=>ra.position==W.position),setHeights:xe,expandByDefault:n,gap:x,loadingIcon:v,expanded:ce,pauseWhenPageIsHidden:P,cn:_})}))})):null};const Vu=({...t})=>{const{theme:s="system"}=ju();return e.jsx(Bu,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var[as,Gv]=Xt("Tooltip",[Qa]),ss=Qa(),Ao="TooltipProvider",Yu=700,Fs="tooltip.open",[Gu,or]=as(Ao),Fo=t=>{const{__scopeTooltip:s,delayDuration:a=Yu,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:o}=t,[i,l]=u.useState(!0),c=u.useRef(!1),d=u.useRef(0);return u.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),e.jsx(Gu,{scope:s,isOpenDelayed:i,delayDuration:a,onOpen:u.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:u.useCallback(h=>{c.current=h},[]),disableHoverableContent:n,children:o})};Fo.displayName=Ao;var rs="Tooltip",[Uu,ns]=as(rs),Io=t=>{const{__scopeTooltip:s,children:a,open:r,defaultOpen:n=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=t,c=or(rs,t.__scopeTooltip),d=ss(s),[h,p]=u.useState(null),m=Xa(),f=u.useRef(0),g=i??c.disableHoverableContent,x=l??c.delayDuration,v=u.useRef(!1),[y=!1,b]=xa({prop:r,defaultProp:n,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(Fs))):c.onClose(),o?.(A)}}),P=u.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),_=u.useCallback(()=>{window.clearTimeout(f.current),f.current=0,v.current=!1,b(!0)},[b]),T=u.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),C=u.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{v.current=!0,b(!0),f.current=0},x)},[x,b]);return u.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),e.jsx(_n,{...d,children:e.jsx(Uu,{scope:s,contentId:m,open:y,stateAttribute:P,trigger:h,onTriggerChange:p,onTriggerEnter:u.useCallback(()=>{c.isOpenDelayed?C():_()},[c.isOpenDelayed,C,_]),onTriggerLeave:u.useCallback(()=>{g?T():(window.clearTimeout(f.current),f.current=0)},[T,g]),onOpen:_,onClose:T,disableHoverableContent:g,children:a})})};Io.displayName=rs;var Is="TooltipTrigger",Oo=u.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=ns(Is,a),o=or(Is,a),i=ss(a),l=u.useRef(null),c=gt(s,l,n.onTriggerChange),d=u.useRef(!1),h=u.useRef(!1),p=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(Hs,{asChild:!0,...i,children:e.jsx(be.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:c,onPointerMove:ue(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),h.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{n.onTriggerLeave(),h.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ue(t.onFocus,()=>{d.current||n.onOpen()}),onBlur:ue(t.onBlur,n.onClose),onClick:ue(t.onClick,n.onClose)})})});Oo.displayName=Is;var Qu="TooltipPortal",[Uv,Xu]=as(Qu,{forceMount:void 0}),Yt="TooltipContent",Lo=u.forwardRef((t,s)=>{const a=Xu(Yt,t.__scopeTooltip),{forceMount:r=a.forceMount,side:n="top",...o}=t,i=ns(Yt,t.__scopeTooltip);return e.jsx(Jt,{present:r||i.open,children:i.disableHoverableContent?e.jsx(Ko,{side:n,...o,ref:s}):e.jsx(Ju,{side:n,...o,ref:s})})}),Ju=u.forwardRef((t,s)=>{const a=ns(Yt,t.__scopeTooltip),r=or(Yt,t.__scopeTooltip),n=u.useRef(null),o=gt(s,n),[i,l]=u.useState(null),{trigger:c,onClose:d}=a,h=n.current,{onPointerInTransitChange:p}=r,m=u.useCallback(()=>{l(null),p(!1)},[p]),f=u.useCallback((g,x)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},b=am(y,v.getBoundingClientRect()),P=sm(y,b),_=rm(x.getBoundingClientRect()),T=om([...P,..._]);l(T),p(!0)},[p]);return u.useEffect(()=>()=>m(),[m]),u.useEffect(()=>{if(c&&h){const g=v=>f(v,h),x=v=>f(v,c);return c.addEventListener("pointerleave",g),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",x)}}},[c,h,f,m]),u.useEffect(()=>{if(i){const g=x=>{const v=x.target,y={x:x.clientX,y:x.clientY},b=c?.contains(v)||h?.contains(v),P=!nm(y,i);b?m():P&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,h,i,d,m]),e.jsx(Ko,{...t,ref:o})}),[Zu,em]=as(rs,{isInside:!1}),Ko=u.forwardRef((t,s)=>{const{__scopeTooltip:a,children:r,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=ns(Yt,a),d=ss(a),{onClose:h}=c;return u.useEffect(()=>(document.addEventListener(Fs,h),()=>document.removeEventListener(Fs,h)),[h]),u.useEffect(()=>{if(c.trigger){const p=m=>{m.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),e.jsx(Nn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:e.jsxs(Sn,{"data-state":c.stateAttribute,...d,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Cn,{children:r}),e.jsx(Zu,{scope:a,isInside:!0,children:e.jsx(hc,{id:c.contentId,role:"tooltip",children:n||r})})]})})});Lo.displayName=Yt;var $o="TooltipArrow",tm=u.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=ss(a);return em($o,a).isInside?null:e.jsx(Pn,{...n,...r,ref:s})});tm.displayName=$o;function am(t,s){const a=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(a,r,n,o)){case o:return"left";case n:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sm(t,s,a=5){const r=[];switch(s){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function rm(t){const{top:s,right:a,bottom:r,left:n}=t;return[{x:n,y:s},{x:a,y:s},{x:a,y:r},{x:n,y:r}]}function nm(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o].x,c=s[o].y,d=s[i].x,h=s[i].y;c>r!=h>r&&a<(d-l)*(r-c)/(h-c)+l&&(n=!n)}return n}function om(t){const s=t.slice();return s.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),im(s)}function im(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const n=t[r];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))s.pop();else break}s.push(n)}s.pop();const a=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;a.length>=2;){const o=a[a.length-1],i=a[a.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))a.pop();else break}a.push(n)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var lm=Fo,cm=Io,dm=Oo,qo=Lo;const zo=lm,um=cm,mm=dm,Wo=u.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(qo,{ref:r,sideOffset:s,className:w("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Wo.displayName=qo.displayName;const gs=768;function Ze(){const[t,s]=u.useState(void 0);return u.useEffect(()=>{const a=window.matchMedia(`(max-width: ${gs-1}px)`),r=()=>{s(window.innerWidth<gs)};return a.addEventListener("change",r),s(window.innerWidth<gs),()=>a.removeEventListener("change",r)},[]),!!t}const Gt=At("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=u.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},o)=>{const i=r?Nt:"button";return e.jsx(i,{className:w(Gt({variant:s,size:a,className:t})),ref:o,...n})});S.displayName="Button";const G=u.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:w("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));G.displayName="Input";var hm="Separator",tn="horizontal",pm=["horizontal","vertical"],Ho=u.forwardRef((t,s)=>{const{decorative:a,orientation:r=tn,...n}=t,o=fm(r)?r:tn,l=a?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(be.div,{"data-orientation":o,...l,...n,ref:s})});Ho.displayName=hm;function fm(t){return pm.includes(t)}var Bo=Ho;const Vo=u.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx(Bo,{ref:n,decorative:a,orientation:s,className:w("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Vo.displayName=Bo.displayName;const xm=Bs,gm=Vs,Yo=u.forwardRef(({className:t,...s},a)=>e.jsx(ga,{className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));Yo.displayName=ga.displayName;const vm=At("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Go=u.forwardRef(({side:t="right",className:s,children:a,...r},n)=>e.jsxs(gm,{children:[e.jsx(Yo,{}),e.jsxs(va,{ref:n,className:w(vm({side:t}),s),...r,children:[a,e.jsxs(Ja,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Go.displayName=va.displayName;const bm=u.forwardRef(({className:t,...s},a)=>e.jsx(ba,{ref:a,className:w("text-lg font-semibold text-foreground",t),...s}));bm.displayName=ba.displayName;const ym=u.forwardRef(({className:t,...s},a)=>e.jsx(ya,{ref:a,className:w("text-sm text-muted-foreground",t),...s}));ym.displayName=ya.displayName;function ae({className:t,...s}){return e.jsx("div",{className:w("animate-pulse rounded-md bg-muted",t),...s})}const jm="sidebar:state",wm=60*60*24*7,km="16rem",Nm="18rem",Sm="3rem",Cm="b",Uo=u.createContext(null);function os(){const t=u.useContext(Uo);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Qo=u.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:a,className:r,style:n,children:o,...i},l)=>{const c=Ze(),[d,h]=u.useState(!1),[p,m]=u.useState(t),f=s??p,g=u.useCallback(b=>{const P=typeof b=="function"?b(f):b;a?a(P):m(P),document.cookie=`${jm}=${P}; path=/; max-age=${wm}`},[a,f]),x=u.useCallback(()=>c?h(b=>!b):g(b=>!b),[c,g,h]);u.useEffect(()=>{const b=P=>{P.key===Cm&&(P.metaKey||P.ctrlKey)&&(P.preventDefault(),x())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[x]);const v=f?"expanded":"collapsed",y=u.useMemo(()=>({state:v,open:f,setOpen:g,isMobile:c,openMobile:d,setOpenMobile:h,toggleSidebar:x}),[v,f,g,c,d,h,x]);return e.jsx(Uo.Provider,{value:y,children:e.jsx(zo,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":km,"--sidebar-width-icon":Sm,...n},className:w("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});Qo.displayName="SidebarProvider";const Xo=u.forwardRef(({side:t="left",variant:s="sidebar",collapsible:a="offcanvas",className:r,children:n,...o},i)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:h}=os();return a==="none"?e.jsx("div",{className:w("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:n}):l?e.jsx(xm,{open:d,onOpenChange:h,...o,children:e.jsx(Go,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Nm},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:n})})}):e.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?a:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:w("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:w("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});Xo.displayName="Sidebar";const Jo=u.forwardRef(({className:t,onClick:s,...a},r)=>{const{toggleSidebar:n}=os();return e.jsxs(S,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:w("h-7 w-7",t),onClick:o=>{s?.(o),n()},...a,children:[e.jsx(Ed,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Jo.displayName="SidebarTrigger";const Pm=u.forwardRef(({className:t,...s},a)=>{const{toggleSidebar:r}=os();return e.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:w("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});Pm.displayName="SidebarRail";const _m=u.forwardRef(({className:t,...s},a)=>e.jsx("main",{ref:a,className:w("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));_m.displayName="SidebarInset";const Dm=u.forwardRef(({className:t,...s},a)=>e.jsx(G,{ref:a,"data-sidebar":"input",className:w("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));Dm.displayName="SidebarInput";const Zo=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"header",className:w("flex flex-col gap-2 p-2",t),...s}));Zo.displayName="SidebarHeader";const ei=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"footer",className:w("flex flex-col gap-2 p-2",t),...s}));ei.displayName="SidebarFooter";const Tm=u.forwardRef(({className:t,...s},a)=>e.jsx(Vo,{ref:a,"data-sidebar":"separator",className:w("mx-2 w-auto bg-sidebar-border",t),...s}));Tm.displayName="SidebarSeparator";const ti=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"content",className:w("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));ti.displayName="SidebarContent";const ai=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"group",className:w("relative flex w-full min-w-0 flex-col p-2",t),...s}));ai.displayName="SidebarGroup";const si=u.forwardRef(({className:t,asChild:s=!1,...a},r)=>{const n=s?Nt:"div";return e.jsx(n,{ref:r,"data-sidebar":"group-label",className:w("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...a})});si.displayName="SidebarGroupLabel";const Mm=u.forwardRef(({className:t,asChild:s=!1,...a},r)=>{const n=s?Nt:"button";return e.jsx(n,{ref:r,"data-sidebar":"group-action",className:w("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...a})});Mm.displayName="SidebarGroupAction";const ri=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"group-content",className:w("w-full text-sm",t),...s}));ri.displayName="SidebarGroupContent";const ni=u.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu",className:w("flex w-full min-w-0 flex-col gap-1",t),...s}));ni.displayName="SidebarMenu";const Wa=u.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,"data-sidebar":"menu-item",className:w("group/menu-item relative",t),...s}));Wa.displayName="SidebarMenuItem";const Em=At("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ha=u.forwardRef(({asChild:t=!1,isActive:s=!1,variant:a="default",size:r="default",tooltip:n,className:o,...i},l)=>{const c=t?Nt:"button",{isMobile:d,state:h}=os(),p=e.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":s,className:w(Em({variant:a,size:r}),o),...i});return n?(typeof n=="string"&&(n={children:n}),e.jsxs(um,{children:[e.jsx(mm,{asChild:!0,children:p}),e.jsx(Wo,{side:"right",align:"center",hidden:h!=="collapsed"||d,...n})]})):p});Ha.displayName="SidebarMenuButton";const Rm=u.forwardRef(({className:t,asChild:s=!1,showOnHover:a=!1,...r},n)=>{const o=s?Nt:"button";return e.jsx(o,{ref:n,"data-sidebar":"menu-action",className:w("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});Rm.displayName="SidebarMenuAction";const Am=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:w("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));Am.displayName="SidebarMenuBadge";const Fm=u.forwardRef(({className:t,showIcon:s=!1,...a},r)=>{const n=u.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:w("rounded-md h-8 flex gap-2 px-2 items-center",t),...a,children:[s&&e.jsx(ae,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(ae,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});Fm.displayName="SidebarMenuSkeleton";const oi=u.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:w("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));oi.displayName="SidebarMenuSub";const ii=u.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));ii.displayName="SidebarMenuSubItem";const li=u.forwardRef(({asChild:t=!1,size:s="md",isActive:a,className:r,...n},o)=>{const i=t?Nt:"a";return e.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":s,"data-active":a,className:w("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...n})});li.displayName="SidebarMenuSubButton";const Im=At("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function X({className:t,variant:s,...a}){return e.jsx("div",{className:w(Im({variant:s}),t),...a})}const Om="https://rvptaxltjsozroylqknt.supabase.co",Lm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2cHRheGx0anNvenJveWxxa250Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxNzU5MzcsImV4cCI6MjA2NDc1MTkzN30.5dI29A0EPpG3CnSbsBKt7UdU27CTcnbCgftU57WcVI0",D=Wc(Om,Lm),ci=u.createContext(void 0);function Km({children:t}){const[s,a]=u.useState(null),[r,n]=u.useState(null),[o,i]=u.useState(!0),[l,c]=u.useState(null);u.useEffect(()=>{const{data:{subscription:g}}=D.auth.onAuthStateChange(async(x,v)=>{n(v),a(v?.user??null),v?.user?setTimeout(async()=>{try{const{data:y}=await D.from("user_roles").select("role").eq("user_id",v.user.id).single();c(y?.role||null)}catch(y){console.error("Error fetching user role:",y),c(null)}},0):c(null),i(!1)});return D.auth.getSession().then(({data:{session:x}})=>{n(x),a(x?.user??null),i(!1)}),()=>g.unsubscribe()},[]);const f={user:s,session:r,loading:o,userRole:l,hasRole:g=>l===g,signIn:async(g,x)=>{const{error:v}=await D.auth.signInWithPassword({email:g,password:x});return{error:v}},signUp:async(g,x,v)=>{const y=`${window.location.origin}/`,{error:b}=await D.auth.signUp({email:g,password:x,options:{emailRedirectTo:y,data:{full_name:v||""}}});return{error:b}},signOut:async()=>{const{error:g}=await D.auth.signOut();g&&console.error("Error signing out:",g)}};return e.jsx(ci.Provider,{value:f,children:t})}function wa(){const t=u.useContext(ci);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const an=[{title:"Dashboard",url:"/",icon:Dd},{title:"Produk",url:"/produk",icon:Vt},{title:"SPK",url:"/spk",icon:tr},{title:"Stok",url:"/stok",icon:ja},{title:"Kebutuhan Produksi",url:"/kebutuhan-produksi",icon:_d},{title:"Pembiayaan",url:"/pembiayaan",icon:ar},{title:"Laporan",url:"/laporan",icon:rr},{title:"Pengguna",url:"/pengguna",icon:Es}],sn=[{title:"HPP Produk",url:"/hpp-produk",icon:Zs},{title:"Komponen",url:"/komponen",icon:wo}];var ir="Collapsible",[$m,Qv]=Xt(ir),[qm,lr]=$m(ir),di=u.forwardRef((t,s)=>{const{__scopeCollapsible:a,open:r,defaultOpen:n,disabled:o,onOpenChange:i,...l}=t,[c=!1,d]=xa({prop:r,defaultProp:n,onChange:i});return e.jsx(qm,{scope:a,disabled:o,contentId:Xa(),open:c,onOpenToggle:u.useCallback(()=>d(h=>!h),[d]),children:e.jsx(be.div,{"data-state":dr(c),"data-disabled":o?"":void 0,...l,ref:s})})});di.displayName=ir;var ui="CollapsibleTrigger",mi=u.forwardRef((t,s)=>{const{__scopeCollapsible:a,...r}=t,n=lr(ui,a);return e.jsx(be.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":dr(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:s,onClick:ue(t.onClick,n.onOpenToggle)})});mi.displayName=ui;var cr="CollapsibleContent",hi=u.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=lr(cr,t.__scopeCollapsible);return e.jsx(Jt,{present:a||n.open,children:({present:o})=>e.jsx(zm,{...r,ref:s,present:o})})});hi.displayName=cr;var zm=u.forwardRef((t,s)=>{const{__scopeCollapsible:a,present:r,children:n,...o}=t,i=lr(cr,a),[l,c]=u.useState(r),d=u.useRef(null),h=gt(s,d),p=u.useRef(0),m=p.current,f=u.useRef(0),g=f.current,x=i.open||l,v=u.useRef(x),y=u.useRef();return u.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),kn(()=>{const b=d.current;if(b){y.current=y.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const P=b.getBoundingClientRect();p.current=P.height,f.current=P.width,v.current||(b.style.transitionDuration=y.current.transitionDuration,b.style.animationName=y.current.animationName),c(r)}},[i.open,r]),e.jsx(be.div,{"data-state":dr(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:x&&n})});function dr(t){return t?"open":"closed"}var Wm=di;const ur=Wm,mr=mi,hr=hi;function Hm(){const t=Ys(),[s,a]=u.useState(()=>t.pathname==="/hpp-produk"||t.pathname==="/komponen"),r=sn.some(n=>t.pathname===n.url);return e.jsx(Wa,{children:e.jsxs(ur,{open:s,onOpenChange:a,children:[e.jsx(mr,{asChild:!0,children:e.jsxs(Ha,{className:`smooth-transition hover:bg-sidebar-accent ${r?"bg-sidebar-accent font-medium text-sidebar-accent-foreground":""}`,children:[e.jsx(Zs,{className:"h-5 w-5"}),e.jsx("span",{children:"Costing Bahan"}),s?e.jsx(er,{className:"h-4 w-4 ml-auto"}):e.jsx(Zt,{className:"h-4 w-4 ml-auto"})]})}),e.jsx(hr,{children:e.jsx(oi,{children:sn.map(n=>e.jsx(ii,{children:e.jsx(li,{asChild:!0,isActive:t.pathname===n.url,className:"smooth-transition hover:bg-sidebar-accent",children:e.jsxs(Cs,{to:n.url,className:"flex items-center gap-3",children:[e.jsx(n.icon,{className:"h-4 w-4"}),e.jsx("span",{children:n.title})]})})},n.title))})})]})})}function Bm(){const t=Ys(),{user:s,userRole:a,signOut:r}=wa();return e.jsxs(Xo,{className:"slide-in",children:[e.jsx(Zo,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-8 w-8 flex items-center justify-center bg-primary rounded text-primary-foreground text-lg font-bold",children:"BM"}),e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Bisnis Manager"})]})}),e.jsx(ti,{children:e.jsxs(ai,{children:[e.jsx(si,{children:"Menu Utama"}),e.jsx(ri,{children:e.jsxs(ni,{children:[an.slice(0,4).map(n=>e.jsx(Wa,{children:e.jsx(Ha,{asChild:!0,isActive:t.pathname===n.url,className:"smooth-transition hover:bg-sidebar-accent",children:e.jsxs(Cs,{to:n.url,className:"flex items-center gap-3",children:[e.jsx(n.icon,{className:"h-5 w-5"}),e.jsx("span",{children:n.title})]})})},n.title)),e.jsx(Hm,{}),an.slice(4).map(n=>e.jsx(Wa,{children:e.jsx(Ha,{asChild:!0,isActive:t.pathname===n.url,className:"smooth-transition hover:bg-sidebar-accent",children:e.jsxs(Cs,{to:n.url,className:"flex items-center gap-3",children:[e.jsx(n.icon,{className:"h-5 w-5"}),e.jsx("span",{children:n.title})]})})},n.title))]})})]})}),e.jsxs(ei,{className:"p-6 space-y-4",children:[s&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-sidebar-accent rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:e.jsx(Fd,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.email}),a&&e.jsx(X,{variant:"secondary",className:"text-xs",children:a})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:r,className:"w-full justify-start",children:[e.jsx(Td,{className:"h-4 w-4 mr-2"}),"Keluar"]})]}),e.jsx("div",{className:"text-sm text-muted-foreground text-center",children:" 2024 Bisnis Manager"})]})]})}const rn=({children:t,requiredRole:s})=>{const{user:a,loading:r,userRole:n,hasRole:o}=wa(),i=Qn();return u.useEffect(()=>{!r&&!a&&i("/auth")},[a,r,i]),r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ms,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Memuat..."})]})}):a?s&&!o(s)&&!o("admin")?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Akses Ditolak"}),e.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki izin untuk mengakses halaman ini."}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Role yang diperlukan: ",s," | Role Anda: ",n||"Tidak ada"]})]})}):e.jsx(e.Fragment,{children:t}):null},Vm=()=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(Wt,{className:"h-8 w-8 text-primary"}),"Dashboard"]}),e.jsx("p",{className:"text-muted-foreground",children:"Selamat datang di sistem manajemen bisnis Anda"})]}),F=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:w("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));F.displayName="Card";const I=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:w("flex flex-col space-y-1.5 p-6",t),...s}));I.displayName="CardHeader";const L=u.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:w("text-2xl font-semibold leading-none tracking-tight",t),...s}));L.displayName="CardTitle";const ye=u.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:w("text-sm text-muted-foreground",t),...s}));ye.displayName="CardDescription";const O=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:w("p-6 pt-0",t),...s}));O.displayName="CardContent";const Ym=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:w("flex items-center p-6 pt-0",t),...s}));Ym.displayName="CardFooter";const Gm=["bg-blue-50","bg-green-50","bg-orange-50","bg-purple-50"],Um=["text-blue-700","text-green-700","text-orange-700","text-purple-700"],nn=({stats:t,loading:s})=>{const a=Ze(),r=a?"grid gap-2 grid-cols-2":"grid gap-4 md:grid-cols-2 lg:grid-cols-4",n=a?"p-2":"p-6",o=a?"text-xs font-medium":"text-sm font-medium",i=a?"text-lg font-bold":"text-2xl font-bold",l=a?"h-4 w-4":"h-5 w-5",c=a?"flex flex-row items-center justify-between space-y-0 pb-1 px-2 pt-2":"flex flex-row items-center justify-between space-y-0 pb-2",d=a?"px-2 pb-2 pt-0":"";if(s)return e.jsx("div",{className:r,children:[...Array(4)].map((p,m)=>e.jsxs(F,{className:`${Gm[m]} ${Um[m]} ${n}`,children:[e.jsxs(I,{className:c,children:[e.jsx(ae,{className:a?"h-3 w-16":"h-4 w-24"}),e.jsx(ae,{className:a?"h-5 w-10":"h-6 w-16"})]}),e.jsxs(O,{className:d,children:[e.jsx(ae,{className:a?"h-6 w-8":"h-8 w-12"}),e.jsx(ae,{className:a?"h-2 w-12 mt-1":"h-3 w-20 mt-1"})]})]},m))});const h=[{title:"Total Produk",value:t?.total_products||0,description:"Produk aktif",icon:Vt,iconColor:"text-blue-600",textColor:"text-blue-700",bgColor:"bg-blue-50"},{title:"Total SPK",value:t?.total_spk||0,description:"SPK yang dibuat",icon:tr,iconColor:"text-green-600",textColor:"text-green-700",bgColor:"bg-green-50"},{title:"SPK Aktif",value:t?.active_spk||0,description:"SPK bulan ini",icon:wd,iconColor:"text-orange-600",textColor:"text-orange-700",bgColor:"bg-orange-50"},{title:"Transaksi Stok",value:t?.total_stock_transactions||0,description:"Total transaksi",icon:ja,iconColor:"text-purple-600",textColor:"text-purple-700",bgColor:"bg-purple-50"}];return e.jsx("div",{className:r,children:h.map((p,m)=>e.jsxs(F,{className:`card-hover ${p.bgColor} ${p.textColor} ${n}`,children:[e.jsxs(I,{className:c,children:[e.jsx(L,{className:o,children:p.title}),e.jsx(p.icon,{className:`${l} ${p.iconColor}`})]}),e.jsxs(O,{className:d,children:[e.jsx("div",{className:i+" "+p.textColor,children:p.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},m))})};function Qm(t,s=[]){let a=[];function r(o,i){const l=u.createContext(i),c=a.length;a=[...a,i];function d(p){const{scope:m,children:f,...g}=p,x=m?.[t][c]||l,v=u.useMemo(()=>g,Object.values(g));return e.jsx(x.Provider,{value:v,children:f})}function h(p,m){const f=m?.[t][c]||l,g=u.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,h]}const n=()=>{const o=a.map(i=>u.createContext(i));return function(l){const c=l?.[t]||o;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,Xm(n,...s)]}function Xm(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const p=c(o)[`__scope${d}`];return{...l,...p}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var pr="Progress",fr=100,[Jm,Xv]=Qm(pr),[Zm,eh]=Jm(pr),pi=u.forwardRef((t,s)=>{const{__scopeProgress:a,value:r=null,max:n,getValueLabel:o=th,...i}=t;(n||n===0)&&!on(n)&&console.error(ah(`${n}`,"Progress"));const l=on(n)?n:fr;r!==null&&!ln(r,l)&&console.error(sh(`${r}`,"Progress"));const c=ln(r,l)?r:null,d=Ba(c)?o(c,l):void 0;return e.jsx(Zm,{scope:a,value:c,max:l,children:e.jsx(be.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ba(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":gi(c,l),"data-value":c??void 0,"data-max":l,...i,ref:s})})});pi.displayName=pr;var fi="ProgressIndicator",xi=u.forwardRef((t,s)=>{const{__scopeProgress:a,...r}=t,n=eh(fi,a);return e.jsx(be.div,{"data-state":gi(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:s})});xi.displayName=fi;function th(t,s){return`${Math.round(t/s*100)}%`}function gi(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function Ba(t){return typeof t=="number"}function on(t){return Ba(t)&&!isNaN(t)&&t>0}function ln(t,s){return Ba(t)&&!isNaN(t)&&t<=s&&t>=0}function ah(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fr}\`.`}function sh(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fr} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vi=pi,rh=xi;const bi=u.forwardRef(({className:t,value:s,indicatorClassName:a,...r},n)=>e.jsx(vi,{ref:n,className:w("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(rh,{className:w("h-full w-full flex-1 bg-primary transition-all",a),style:{transform:`translateX(-${100-(s||0)}%)`}})}));bi.displayName=vi.displayName;const je=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:w("w-full caption-bottom text-sm",t),...s})}));je.displayName="Table";const we=u.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:w("[&_tr]:border-b",t),...s}));we.displayName="TableHeader";const ke=u.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:w("[&_tr:last-child]:border-0",t),...s}));ke.displayName="TableBody";const nh=u.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:w("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));nh.displayName="TableFooter";const V=u.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:w("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));V.displayName="TableRow";const N=u.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:w("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));N.displayName="TableHead";const k=u.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:w("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));k.displayName="TableCell";const oh=u.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:w("mt-4 text-sm text-muted-foreground",t),...s}));oh.displayName="TableCaption";const ih=()=>Ne({queryKey:["product-analysis"],queryFn:async()=>{const{data:t,error:s}=await D.from("produk").select("*").eq("status","aktif");if(s)throw s;const a=[];for(const r of t){const{data:n,error:o}=await D.from("transakasi_stok").select("masuk, keluar").eq("produk_id",r.id);if(o)throw o;const i=n?.reduce((m,f)=>m+(f.masuk||0),0)||0,l=n?.reduce((m,f)=>m+(f.keluar||0),0)||0,{data:c,error:d}=await D.from("item_spk").select(`
            qty,
            no_spk
          `).eq("produk_id",r.id);if(d)throw d;let h=0;for(const m of c||[]){const{data:f,error:g}=await D.from("transakasi_stok").select("masuk").eq("no_spk",m.no_spk).eq("produk_id",r.id).eq("jenis_in","masuk");if(g)throw g;const x=f?.reduce((y,b)=>y+(b.masuk||0),0)||0,v=Math.max(0,m.qty-x);h+=v}const p=i+h-l;a.push({produk_id:r.id,nama_produk:r.nama,variant:r.variant,stok_masuk:i,sisa_spk:h,stok_keluar:l,sisa:p,limit:r.limit||0,alokasi:r.alokasi||0})}return a}}),lh=()=>{const{data:t,isLoading:s,error:a}=ih(),r=Ze(),n=(l,c,d)=>l<0?"from-pink-500 via-red-500 to-red-700":l<c?"from-red-500 via-amber-500 to-yellow-500":l<=c+d?"from-yellow-400 via-yellow-300 to-green-300":"from-green-400 via-emerald-400 to-lime-400",o=(l,c,d)=>{const h=c+d;return h<=0?0:Math.min(Math.max(l/h*100,0),100)},i=(l,c,d)=>l<0?e.jsx(X,{variant:"destructive",children:"Overload"}):l<c?e.jsx(X,{variant:"destructive",children:"Bahaya"}):l<=c+d?e.jsx(X,{variant:"secondary",className:"bg-yellow-500 text-white",children:"Perhatian"}):e.jsx(X,{variant:"default",className:"bg-green-500",children:"Aman"});return s?e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-primary"}),"Analisa Data Produk"]}),e.jsx(ye,{children:"Loading..."})]}),e.jsx(O,{children:e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,c)=>e.jsx(ae,{className:"h-12 w-full"},c))})})]}):a?e.jsx(F,{className:"card-hover",children:e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-primary"}),"Analisa Data Produk"]}),e.jsx(ye,{children:"Error loading data"})]})}):e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-primary"}),"Analisa Data Produk"]}),e.jsx(ye,{children:"Analisa stok dan status limit berdasarkan data terkini"})]}),e.jsx(O,{children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Produk"}),!r&&e.jsx(N,{children:"Stok Masuk"}),!r&&e.jsx(N,{children:"Sisa SPK"}),!r&&e.jsx(N,{children:"Stok Keluar"}),e.jsx(N,{children:"Sisa"}),e.jsx(N,{children:"Status Limit"}),!r&&e.jsx(N,{children:"Status"})]})}),e.jsx(ke,{children:t?.map(l=>e.jsxs(V,{className:"smooth-transition hover:bg-muted/50",children:[e.jsxs(k,{className:"font-medium",children:[l.nama_produk," - ",l.variant]}),!r&&e.jsx(k,{children:l.stok_masuk}),!r&&e.jsx(k,{children:l.sisa_spk}),!r&&e.jsx(k,{children:l.stok_keluar}),e.jsx(k,{className:"font-medium",children:l.sisa}),e.jsx(k,{className:"w-44 min-w-32",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(bi,{value:o(l.sisa,l.limit,l.alokasi),className:"h-4 bg-gradient-to-r from-zinc-100 to-zinc-200/60 rounded-xl shadow-inner",indicatorClassName:`rounded-xl transition-all duration-700 
                          bg-gradient-to-r ${n(l.sisa,l.limit,l.alokasi)}
                          shadow-[0_2px_8px_rgba(80,200,120,0.12)]`}),e.jsxs("div",{className:"absolute right-1 top-1 text-xs font-bold text-zinc-600/70 select-none",style:{pointerEvents:"none"},children:[Math.round(o(l.sisa,l.limit,l.alokasi)),"%"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["0  ",l.limit,"  ",l.limit+l.alokasi]})]})}),!r&&e.jsx(k,{children:i(l.sisa,l.limit,l.alokasi)})]},l.produk_id))})]})})]})},He=bc,Be=yc,Oe=u.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Dn,{ref:r,className:w("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(pc,{asChild:!0,children:e.jsx(er,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=Dn.displayName;const yi=u.forwardRef(({className:t,...s},a)=>e.jsx(Tn,{ref:a,className:w("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Sd,{className:"h-4 w-4"})}));yi.displayName=Tn.displayName;const ji=u.forwardRef(({className:t,...s},a)=>e.jsx(Mn,{ref:a,className:w("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(er,{className:"h-4 w-4"})}));ji.displayName=Mn.displayName;const Le=u.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(fc,{children:e.jsxs(En,{ref:n,className:w("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(yi,{}),e.jsx(xc,{className:w("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(ji,{})]})}));Le.displayName=En.displayName;const ch=u.forwardRef(({className:t,...s},a)=>e.jsx(Rn,{ref:a,className:w("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));ch.displayName=Rn.displayName;const le=u.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(An,{ref:r,className:w("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(gc,{children:e.jsx(yo,{className:"h-4 w-4"})})}),e.jsx(vc,{children:s})]}));le.displayName=An.displayName;const dh=u.forwardRef(({className:t,...s},a)=>e.jsx(Fn,{ref:a,className:w("-mx-1 my-1 h-px bg-muted",t),...s}));dh.displayName=Fn.displayName;function ee(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function Ge(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function Ee(t,s){const a=ee(t);return isNaN(s)?Ge(t,NaN):(s&&a.setDate(a.getDate()+s),a)}function Xe(t,s){const a=ee(t);if(isNaN(s))return Ge(t,NaN);if(!s)return a;const r=a.getDate(),n=Ge(t,a.getTime());n.setMonth(a.getMonth()+s+1,0);const o=n.getDate();return r>=o?n:(a.setFullYear(n.getFullYear(),n.getMonth(),r),a)}const xr=6048e5,uh=864e5,wi=6e4,ki=36e5;let mh={};function ka(){return mh}function rt(t,s){const a=ka(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=ee(t),o=n.getDay(),i=(o<r?7:0)+o-r;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function Et(t){return rt(t,{weekStartsOn:1})}function Ni(t){const s=ee(t),a=s.getFullYear(),r=Ge(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=Et(r),o=Ge(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const i=Et(o);return s.getTime()>=n.getTime()?a+1:s.getTime()>=i.getTime()?a:a-1}function Ut(t){const s=ee(t);return s.setHours(0,0,0,0),s}function Va(t){const s=ee(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function at(t,s){const a=Ut(t),r=Ut(s),n=+a-Va(a),o=+r-Va(r);return Math.round((n-o)/uh)}function hh(t){const s=Ni(t),a=Ge(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Et(a)}function Os(t,s){const a=s*7;return Ee(t,a)}function ph(t,s){return Xe(t,s*12)}function fh(t){let s;return t.forEach(function(a){const r=ee(a);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function xh(t){let s;return t.forEach(a=>{const r=ee(a);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function $e(t,s){const a=Ut(t),r=Ut(s);return+a==+r}function gr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gh(t){if(!gr(t)&&typeof t!="number")return!1;const s=ee(t);return!isNaN(Number(s))}function pa(t,s){const a=ee(t),r=ee(s),n=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return n*12+o}function vh(t,s,a){const r=rt(t,a),n=rt(s,a),o=+r-Va(r),i=+n-Va(n);return Math.round((o-i)/xr)}function vr(t){const s=ee(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function ze(t){const s=ee(t);return s.setDate(1),s.setHours(0,0,0,0),s}function Si(t){const s=ee(t),a=Ge(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}function br(t,s){const a=ka(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=ee(t),o=n.getDay(),i=(o<r?-7:0)+6-(o-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Ci(t){return br(t,{weekStartsOn:1})}const bh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yh=(t,s,a)=>{let r;const n=bh[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function vs(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const jh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nh={date:vs({formats:jh,defaultWidth:"full"}),time:vs({formats:wh,defaultWidth:"full"}),dateTime:vs({formats:kh,defaultWidth:"full"})},Sh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ch=(t,s,a,r)=>Sh[t];function ia(t){return(s,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=a?.width?String(a.width):i;n=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=a?.width?String(a.width):t.defaultWidth;n=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(s):s;return n[o]}}const Ph={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_h={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Th={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Eh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rh=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ah={ordinalNumber:Rh,era:ia({values:Ph,defaultWidth:"wide"}),quarter:ia({values:_h,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ia({values:Dh,defaultWidth:"wide"}),day:ia({values:Th,defaultWidth:"wide"}),dayPeriod:ia({values:Mh,defaultWidth:"wide",formattingValues:Eh,defaultFormattingWidth:"wide"})};function la(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=s.match(n);if(!o)return null;const i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Ih(l,p=>p.test(i)):Fh(l,p=>p.test(i));let d;d=t.valueCallback?t.valueCallback(c):c,d=a.valueCallback?a.valueCallback(d):d;const h=s.slice(i.length);return{value:d,rest:h}}}function Fh(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function Ih(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function Oh(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],o=s.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=a.valueCallback?a.valueCallback(i):i;const l=s.slice(n.length);return{value:i,rest:l}}}const Lh=/^(\d+)(th|st|nd|rd)?/i,Kh=/\d+/i,$h={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qh={any:[/^b/i,/^(a|c)/i]},zh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wh={any:[/1/i,/2/i,/3/i,/4/i]},Hh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bh={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vh={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yh={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gh={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qh={ordinalNumber:Oh({matchPattern:Lh,parsePattern:Kh,valueCallback:t=>parseInt(t,10)}),era:la({matchPatterns:$h,defaultMatchWidth:"wide",parsePatterns:qh,defaultParseWidth:"any"}),quarter:la({matchPatterns:zh,defaultMatchWidth:"wide",parsePatterns:Wh,defaultParseWidth:"any",valueCallback:t=>t+1}),month:la({matchPatterns:Hh,defaultMatchWidth:"wide",parsePatterns:Bh,defaultParseWidth:"any"}),day:la({matchPatterns:Vh,defaultMatchWidth:"wide",parsePatterns:Yh,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:Gh,defaultMatchWidth:"any",parsePatterns:Uh,defaultParseWidth:"any"})},Pi={code:"en-US",formatDistance:yh,formatLong:Nh,formatRelative:Ch,localize:Ah,match:Qh,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xh(t){const s=ee(t);return at(s,Si(s))+1}function _i(t){const s=ee(t),a=+Et(s)-+hh(s);return Math.round(a/xr)+1}function Di(t,s){const a=ee(t),r=a.getFullYear(),n=ka(),o=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Ge(t,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=rt(i,s),c=Ge(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=rt(c,s);return a.getTime()>=l.getTime()?r+1:a.getTime()>=d.getTime()?r:r-1}function Jh(t,s){const a=ka(),r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=Di(t,s),o=Ge(t,0);return o.setFullYear(n,0,r),o.setHours(0,0,0,0),rt(o,s)}function Ti(t,s){const a=ee(t),r=+rt(a,s)-+Jh(a,s);return Math.round(r/xr)+1}function ne(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const wt={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return ne(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):ne(a+1,2)},d(t,s){return ne(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return ne(t.getHours()%12||12,s.length)},H(t,s){return ne(t.getHours(),s.length)},m(t,s){return ne(t.getMinutes(),s.length)},s(t,s){return ne(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return ne(n,s.length)}},qt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cn={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return wt.y(t,s)},Y:function(t,s,a,r){const n=Di(t,r),o=n>0?n:1-n;if(s==="YY"){const i=o%100;return ne(i,2)}return s==="Yo"?a.ordinalNumber(o,{unit:"year"}):ne(o,s.length)},R:function(t,s){const a=Ni(t);return ne(a,s.length)},u:function(t,s){const a=t.getFullYear();return ne(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return ne(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return ne(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return wt.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return ne(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=Ti(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):ne(n,s.length)},I:function(t,s,a){const r=_i(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):ne(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):wt.d(t,s)},D:function(t,s,a){const r=Xh(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):ne(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return ne(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return ne(o,s.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return ne(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=qt.noon:r===0?n=qt.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=qt.evening:r>=12?n=qt.afternoon:r>=4?n=qt.morning:n=qt.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return wt.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):wt.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):ne(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):ne(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):wt.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):wt.s(t,s)},S:function(t,s){return wt.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return un(r);case"XXXX":case"XX":return _t(r);case"XXXXX":case"XXX":default:return _t(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return un(r);case"xxxx":case"xx":return _t(r);case"xxxxx":case"xxx":default:return _t(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+dn(r,":");case"OOOO":default:return"GMT"+_t(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+dn(r,":");case"zzzz":default:return"GMT"+_t(r,":")}},t:function(t,s,a){const r=Math.trunc(t.getTime()/1e3);return ne(r,s.length)},T:function(t,s,a){const r=t.getTime();return ne(r,s.length)}};function dn(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),o=r%60;return o===0?a+String(n):a+String(n)+s+ne(o,2)}function un(t,s){return t%60===0?(t>0?"-":"+")+ne(Math.abs(t)/60,2):_t(t,s)}function _t(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=ne(Math.trunc(r/60),2),o=ne(r%60,2);return a+n+s+o}const mn=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Mi=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},Zh=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return mn(t,s);let o;switch(r){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",mn(r,s)).replace("{{time}}",Mi(n,s))},ep={p:Mi,P:Zh},tp=/^D+$/,ap=/^Y+$/,sp=["D","DD","YY","YYYY"];function rp(t){return tp.test(t)}function np(t){return ap.test(t)}function op(t,s,a){const r=ip(t,s,a);if(console.warn(r),sp.includes(t))throw new RangeError(r)}function ip(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dp=/^'([^]*?)'?$/,up=/''/g,mp=/[a-zA-Z]/;function fe(t,s,a){const r=ka(),n=a?.locale??r.locale??Pi,o=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=ee(t);if(!gh(l))throw new RangeError("Invalid time value");let c=s.match(cp).map(h=>{const p=h[0];if(p==="p"||p==="P"){const m=ep[p];return m(h,n.formatLong)}return h}).join("").match(lp).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:hp(h)};if(cn[p])return{isToken:!0,value:h};if(p.match(mp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:n};return c.map(h=>{if(!h.isToken)return h.value;const p=h.value;(!a?.useAdditionalWeekYearTokens&&np(p)||!a?.useAdditionalDayOfYearTokens&&rp(p))&&op(p,s,String(t));const m=cn[p[0]];return m(l,p,n.localize,d)}).join("")}function hp(t){const s=t.match(dp);return s?s[1].replace(up,"'"):t}function pp(t){const s=ee(t),a=s.getFullYear(),r=s.getMonth(),n=Ge(t,0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function fp(t){return Math.trunc(+ee(t)/1e3)}function xp(t){const s=ee(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(0,0,0,0),s}function gp(t,s){return vh(xp(t),ze(t),s)+1}function Ls(t,s){const a=ee(t),r=ee(s);return a.getTime()>r.getTime()}function yr(t,s){const a=ee(t),r=ee(s);return+a<+r}function jr(t,s){const a=ee(t),r=ee(s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function vp(t,s){const a=ee(t),r=ee(s);return a.getFullYear()===r.getFullYear()}function bs(t,s){return Ee(t,-s)}function hn(t,s){const r=wp(t);let n;if(r.date){const c=kp(r.date,2);n=Np(c.restDateString,c.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);const o=n.getTime();let i=0,l;if(r.time&&(i=Sp(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=Cp(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+i+l)}const Aa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bp=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yp=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jp=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wp(t){const s={},a=t.split(Aa.dateTimeDelimiter);let r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],Aa.timeZoneDelimiter.test(s.date)&&(s.date=t.split(Aa.timeZoneDelimiter)[0],r=t.substr(s.date.length,t.length))),r){const n=Aa.timezone.exec(r);n?(s.time=r.replace(n[1],""),s.timezone=n[1]):s.time=r}return s}function kp(t,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?n:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function Np(t,s){if(s===null)return new Date(NaN);const a=t.match(bp);if(!a)return new Date(NaN);const r=!!a[4],n=ca(a[1]),o=ca(a[2])-1,i=ca(a[3]),l=ca(a[4]),c=ca(a[5])-1;if(r)return Mp(s,l,c)?Pp(s,l,c):new Date(NaN);{const d=new Date(0);return!Dp(s,o,i)||!Tp(s,n)?new Date(NaN):(d.setUTCFullYear(s,o,Math.max(n,i)),d)}}function ca(t){return t?parseInt(t):1}function Sp(t){const s=t.match(yp);if(!s)return NaN;const a=ys(s[1]),r=ys(s[2]),n=ys(s[3]);return Ep(a,r,n)?a*ki+r*wi+n*1e3:NaN}function ys(t){return t&&parseFloat(t.replace(",","."))||0}function Cp(t){if(t==="Z")return 0;const s=t.match(jp);if(!s)return 0;const a=s[1]==="+"?-1:1,r=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return Rp(r,n)?a*(r*ki+n*wi):NaN}function Pp(t,s,a){const r=new Date(0);r.setUTCFullYear(t,0,4);const n=r.getUTCDay()||7,o=(s-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+o),r}const _p=[31,null,31,30,31,30,31,31,30,31,30,31];function Ei(t){return t%400===0||t%4===0&&t%100!==0}function Dp(t,s,a){return s>=0&&s<=11&&a>=1&&a<=(_p[s]||(Ei(t)?29:28))}function Tp(t,s){return s>=1&&s<=(Ei(t)?366:365)}function Mp(t,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function Ep(t,s,a){return t===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25}function Rp(t,s){return s>=0&&s<=59}function js(t,s){const a=ee(t),r=a.getFullYear(),n=a.getDate(),o=Ge(t,0);o.setFullYear(r,s,15),o.setHours(0,0,0,0);const i=pp(o);return a.setMonth(s,Math.min(n,i)),a}function pn(t,s){const a=ee(t);return isNaN(+a)?Ge(t,NaN):(a.setFullYear(s),a)}function Oa(t){const s=fe(new Date,"yyyy-MM-dd");return{start:fe(new Date(Date.now()-(t-1)*24*60*60*1e3),"yyyy-MM-dd"),end:s}}function Ap({start:t,end:s}){return Ne({queryKey:["dashboard-stock-trend",t,s],queryFn:async()=>{const{data:a,error:r}=await D.from("transakasi_stok").select("tanggal, masuk, keluar").gte("tanggal",t).lte("tanggal",s);if(r)throw r;const n={};(a||[]).forEach(c=>{const d=c.tanggal;n[d]||(n[d]={masuk:0,keluar:0}),n[d].masuk+=c.masuk??0,n[d].keluar+=c.keluar??0});const o=[];let i=hn(t);const l=hn(s);for(;!yr(l,i);)o.push(fe(i,"yyyy-MM-dd")),i=new Date(i.getTime()+24*60*60*1e3);return o.map(c=>({tanggal:c,masuk:n[c]?.masuk||0,keluar:n[c]?.keluar||0}))}})}const La={week:{label:"Minggu (7 hari terakhir)",days:7},month:{label:"Bulan (30 hari terakhir)",days:30},custom:{label:"Kustom",days:7}};function fn(t,s){fe(new Date,"yyyy-MM-dd");for(const a of["week","month"]){const r=La[a],n=Oa(r.days);if(t===n.start&&s===n.end)return a}return"custom"}function Fp(){const t=Oa(7),[{start:s,end:a},r]=u.useState(t),[n,o]=u.useState("week"),{data:i,isLoading:l,error:c}=Ap({start:s,end:a});function d(f){if(f==="custom")return;const{start:g,end:x}=Oa(La[f].days);r({start:g,end:x}),o(f)}function h(f){r(g=>{const x={...g,start:f};return o(fn(x.start,x.end)),x})}function p(f){r(g=>{const x={...g,end:f};return o(fn(x.start,x.end)),x})}function m(){const f=Oa(7);r(f),o("week")}return e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ha,{className:"h-5 w-5 text-blue-600"}),"Chart Trend Stok Masuk & Keluar"]}),e.jsxs(ye,{children:["Trend per hari rentang ",s," s/d ",a]})]}),e.jsxs(O,{children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Periode"}),e.jsxs(He,{value:n,onValueChange:f=>d(f),children:[e.jsx(Oe,{className:"h-8 text-xs w-[220px]",children:e.jsx(Be,{})}),e.jsxs(Le,{children:[e.jsx(le,{value:"week",children:La.week.label}),e.jsx(le,{value:"month",children:La.month.label}),e.jsx(le,{value:"custom",children:"Kustom"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Tanggal Mulai"}),e.jsx(G,{type:"date",value:s,max:a,onChange:f=>h(f.target.value),className:"h-8 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Tanggal Akhir"}),e.jsx(G,{type:"date",value:a,min:s,onChange:f=>p(f.target.value),className:"h-8 text-xs"})]}),e.jsx(S,{type:"button",size:"sm",variant:"outline",className:"h-8 text-xs",onClick:m,children:"Reset"})]}),l&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Memuat data tren stok..."}),c&&e.jsx("div",{className:"text-xs text-destructive",children:"Gagal load data chart."}),i&&i.length>0&&e.jsx("div",{className:"w-full h-[300px] mt-2",children:e.jsx(Rc,{children:e.jsxs(Ac,{data:i,children:[e.jsx(Fc,{strokeDasharray:"3 3"}),e.jsx(Ic,{dataKey:"tanggal",fontSize:12}),e.jsx(Oc,{fontSize:12}),e.jsx(Lc,{}),e.jsx(Kc,{}),e.jsx(zr,{type:"monotone",dataKey:"masuk",stroke:"#38bdf8",dot:{r:4},name:"Stok Masuk",activeDot:{r:6}}),e.jsx(zr,{type:"monotone",dataKey:"keluar",stroke:"#ef4444",dot:{r:4},name:"Stok Keluar",activeDot:{r:6}})]})})}),i&&i.length===0&&!l&&e.jsx("div",{className:"text-xs text-muted-foreground py-4",children:"Tidak ada data stok pada periode ini."})]})]})}const Ip=()=>{const[t,s]=u.useState(null),[a,r]=u.useState(!0),{user:n}=wa(),{toast:o}=ve();return u.useEffect(()=>{n&&(async()=>{try{r(!0);const{data:l,error:c}=await D.rpc("get_admin_dashboard_stats");if(c||!l){console.error("Error fetching dashboard stats:",c),o({title:"Error",description:"Gagal memuat statistik dashboard",variant:"destructive"}),r(!1);return}const d=l,{count:h,error:p}=await D.from("spk").select("no_spk",{count:"exact",head:!0}).neq("status","Selesai");p&&console.error("Error fetching SPK Aktif:",p),s({...d,active_spk:h??0})}catch(l){console.error("Error:",l),o({title:"Error",description:"Terjadi kesalahan saat memuat data",variant:"destructive"})}finally{r(!1)}})()},[n,o]),a?e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ae,{className:"h-8 w-64"}),e.jsx(ae,{className:"h-4 w-96"})]}),e.jsx(nn,{stats:null,loading:!0})]}):e.jsxs("div",{className:"p-6 flex flex-col gap-6 fade-in max-w-screen-xl w-full mx-auto",children:[e.jsx(Vm,{}),e.jsx(nn,{stats:t,loading:!1}),e.jsx(lh,{}),e.jsx(Fp,{})]})},Me=Bs,Ri=In,Op=Vs,Ai=u.forwardRef(({className:t,...s},a)=>e.jsx(ga,{ref:a,className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Ai.displayName=ga.displayName;const Se=u.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Op,{children:[e.jsx(Ai,{}),e.jsxs(va,{ref:r,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(Ja,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Se.displayName=va.displayName;const Ce=({className:t,...s})=>e.jsx("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Ce.displayName="DialogHeader";const Ft=({className:t,...s})=>e.jsx("div",{className:w("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ft.displayName="DialogFooter";const Pe=u.forwardRef(({className:t,...s},a)=>e.jsx(ba,{ref:a,className:w("text-lg font-semibold leading-none tracking-tight",t),...s}));Pe.displayName=ba.displayName;const Ke=u.forwardRef(({className:t,...s},a)=>e.jsx(ya,{ref:a,className:w("text-sm text-muted-foreground",t),...s}));Ke.displayName=ya.displayName;var Lp="Label",Fi=u.forwardRef((t,s)=>e.jsx(be.label,{...t,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Fi.displayName=Lp;var Ii=Fi;const Kp=At("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=u.forwardRef(({className:t,...s},a)=>e.jsx(Ii,{ref:a,className:w(Kp(),t),...s}));Q.displayName=Ii.displayName;const It=u.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:w("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));It.displayName="Textarea";var Oi="AlertDialog",[$p,Jv]=Xt(Oi,[On]),vt=On(),Li=t=>{const{__scopeAlertDialog:s,...a}=t,r=vt(s);return e.jsx(Bs,{...r,...a,modal:!0})};Li.displayName=Oi;var qp="AlertDialogTrigger",Ki=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=vt(a);return e.jsx(In,{...n,...r,ref:s})});Ki.displayName=qp;var zp="AlertDialogPortal",$i=t=>{const{__scopeAlertDialog:s,...a}=t,r=vt(s);return e.jsx(Vs,{...r,...a})};$i.displayName=zp;var Wp="AlertDialogOverlay",qi=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=vt(a);return e.jsx(ga,{...n,...r,ref:s})});qi.displayName=Wp;var Bt="AlertDialogContent",[Hp,Bp]=$p(Bt),zi=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:r,...n}=t,o=vt(a),i=u.useRef(null),l=gt(s,i),c=u.useRef(null);return e.jsx(jc,{contentName:Bt,titleName:Wi,docsSlug:"alert-dialog",children:e.jsx(Hp,{scope:a,cancelRef:c,children:e.jsxs(va,{role:"alertdialog",...o,...n,ref:l,onOpenAutoFocus:ue(n.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(Cn,{children:r}),e.jsx(Yp,{contentRef:i})]})})})});zi.displayName=Bt;var Wi="AlertDialogTitle",Hi=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=vt(a);return e.jsx(ba,{...n,...r,ref:s})});Hi.displayName=Wi;var Bi="AlertDialogDescription",Vi=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=vt(a);return e.jsx(ya,{...n,...r,ref:s})});Vi.displayName=Bi;var Vp="AlertDialogAction",Yi=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=vt(a);return e.jsx(Ja,{...n,...r,ref:s})});Yi.displayName=Vp;var Gi="AlertDialogCancel",Ui=u.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,{cancelRef:n}=Bp(Gi,a),o=vt(a),i=gt(s,n);return e.jsx(Ja,{...o,...r,ref:i})});Ui.displayName=Gi;var Yp=({contentRef:t})=>{const s=`\`${Bt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bt}\` by passing a \`${Bi}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},Gp=Li,Up=Ki,Qp=$i,Qi=qi,Xi=zi,Ji=Yi,Zi=Ui,el=Hi,tl=Vi;const kt=Gp,fa=Up,Xp=Qp,al=u.forwardRef(({className:t,...s},a)=>e.jsx(Qi,{className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));al.displayName=Qi.displayName;const dt=u.forwardRef(({className:t,...s},a)=>e.jsxs(Xp,{children:[e.jsx(al,{}),e.jsx(Xi,{ref:a,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));dt.displayName=Xi.displayName;const ut=({className:t,...s})=>e.jsx("div",{className:w("flex flex-col space-y-2 text-center sm:text-left",t),...s});ut.displayName="AlertDialogHeader";const mt=({className:t,...s})=>e.jsx("div",{className:w("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});mt.displayName="AlertDialogFooter";const ht=u.forwardRef(({className:t,...s},a)=>e.jsx(el,{ref:a,className:w("text-lg font-semibold",t),...s}));ht.displayName=el.displayName;const pt=u.forwardRef(({className:t,...s},a)=>e.jsx(tl,{ref:a,className:w("text-sm text-muted-foreground",t),...s}));pt.displayName=tl.displayName;const ft=u.forwardRef(({className:t,...s},a)=>e.jsx(Ji,{ref:a,className:w(Gt(),t),...s}));ft.displayName=Ji.displayName;const xt=u.forwardRef(({className:t,...s},a)=>e.jsx(Zi,{ref:a,className:w(Gt({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));xt.displayName=Zi.displayName;const sl=()=>Ne({queryKey:["product-hpp"],queryFn:async()=>{const{data:t,error:s}=await D.from("produk").select("*").eq("status","aktif").order("nama");if(s)throw s;return await Promise.all(t.map(async r=>{const{data:n,error:o}=await D.from("konsumsi").select(`
              *,
              komponen (*)
            `).eq("produk_id",r.id);if(o)return console.error("Error fetching consumption:",o),{...r,total_hpp:0,consumption:[]};const i=n?.reduce((l,c)=>l+(c.subtotal||0),0)||0;return{...r,total_hpp:i,consumption:n||[]}}))}}),Jp=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{data:r,error:n}=await D.from("konsumsi").insert(a).select().single();if(n)throw n;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["product-hpp"]}),s({title:"Success",description:"Konsumsi komponen berhasil ditambahkan"})},onError:a=>{s({title:"Error",description:"Gagal menambahkan konsumsi: "+a.message,variant:"destructive"})}})},Zp=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async({id:a,data:r})=>{const{data:n,error:o}=await D.from("konsumsi").update(r).eq("id",a).select().single();if(o)throw o;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["product-hpp"]}),s({title:"Success",description:"Konsumsi komponen berhasil diperbarui"})},onError:a=>{s({title:"Error",description:"Gagal memperbarui konsumsi: "+a.message,variant:"destructive"})}})},ef=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{error:r}=await D.from("konsumsi").delete().eq("id",a);if(r)throw r},onSuccess:()=>{t.invalidateQueries({queryKey:["product-hpp"]}),s({title:"Success",description:"Konsumsi komponen berhasil dihapus"})},onError:a=>{s({title:"Error",description:"Gagal menghapus konsumsi: "+a.message,variant:"destructive"})}})};var tf=function(t,s){for(var a={};t.length;){var r=t[0],n=r.code,o=r.message,i=r.path.join(".");if(!a[i])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];a[i]={message:l.message,type:l.code}}else a[i]={message:o,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return t.push(p)})}),s){var c=a[i].types,d=c&&c[r.code];a[i]=Vc(i,s,a,n,d?[].concat(d,r.message):r.message)}t.shift()}return a},Na=function(t,s,a){return a===void 0&&(a={}),function(r,n,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(t[a.mode==="sync"?"parse":"parseAsync"](r,s)).then(function(d){return o.shouldUseNativeValidation&&Hc({},o),{errors:{},values:a.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l?.errors)}(i))return{values:{},errors:Bc(tf(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}};const Sa=Gc,rl=u.createContext({}),qe=({...t})=>e.jsx(rl.Provider,{value:{name:t.name},children:e.jsx(Uc,{...t})}),is=()=>{const t=u.useContext(rl),s=u.useContext(nl),{getFieldState:a,formState:r}=Yc(),n=a(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=s;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},nl=u.createContext({}),Re=u.forwardRef(({className:t,...s},a)=>{const r=u.useId();return e.jsx(nl.Provider,{value:{id:r},children:e.jsx("div",{ref:a,className:w("space-y-2",t),...s})})});Re.displayName="FormItem";const Ae=u.forwardRef(({className:t,...s},a)=>{const{error:r,formItemId:n}=is();return e.jsx(Q,{ref:a,className:w(r&&"text-destructive",t),htmlFor:n,...s})});Ae.displayName="FormLabel";const Fe=u.forwardRef(({...t},s)=>{const{error:a,formItemId:r,formDescriptionId:n,formMessageId:o}=is();return e.jsx(Nt,{ref:s,id:r,"aria-describedby":a?`${n} ${o}`:`${n}`,"aria-invalid":!!a,...t})});Fe.displayName="FormControl";const af=u.forwardRef(({className:t,...s},a)=>{const{formDescriptionId:r}=is();return e.jsx("p",{ref:a,id:r,className:w("text-sm text-muted-foreground",t),...s})});af.displayName="FormDescription";const Ie=u.forwardRef(({className:t,children:s,...a},r)=>{const{error:n,formMessageId:o}=is(),i=n?String(n?.message):s;return i?e.jsx("p",{ref:r,id:o,className:w("text-sm font-medium text-destructive",t),...a,children:i}):null});Ie.displayName="FormMessage";const wr=()=>Ne({queryKey:["components"],queryFn:async()=>{const{data:t,error:s}=await D.from("komponen").select("*").order("nama");if(s)throw s;return t}}),sf=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{data:r,error:n}=await D.from("komponen").insert(a).select().single();if(n)throw n;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["components"]}),s({title:"Success",description:"Komponen berhasil ditambahkan"})},onError:a=>{s({title:"Error",description:"Gagal menambahkan komponen: "+a.message,variant:"destructive"})}})},rf=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async({id:a,data:r})=>{const{data:n,error:o}=await D.from("komponen").update(r).eq("id",a).select().single();if(o)throw o;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["components"]}),s({title:"Success",description:"Komponen berhasil diperbarui"})},onError:a=>{s({title:"Error",description:"Gagal memperbarui komponen: "+a.message,variant:"destructive"})}})},nf=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{error:r}=await D.from("komponen").delete().eq("id",a);if(r)throw r},onSuccess:()=>{t.invalidateQueries({queryKey:["components"]}),s({title:"Success",description:"Komponen berhasil dihapus"})},onError:a=>{s({title:"Error",description:"Gagal menghapus komponen: "+a.message,variant:"destructive"})}})},of=Rt({komponen_id:lt().min(1,"Komponen harus dipilih"),qty:Mt().min(1,"Qty harus lebih dari 0"),harga:Mt().min(0,"Harga tidak boleh negatif")}),lf=({open:t,onOpenChange:s,consumption:a})=>{const{data:r}=wr(),n=Zp(),o=St({resolver:Na(of),defaultValues:{komponen_id:"",qty:1,harga:0}});u.useEffect(()=>{a&&t&&(o.setValue("komponen_id",a.komponen_id||""),o.setValue("qty",a.qty||1),o.setValue("harga",a.harga||0))},[a,t,o]);const i=o.watch("qty"),l=o.watch("harga"),c=i*l,d=p=>{const m=r?.find(f=>f.id===p);m?.harga&&o.setValue("harga",m.harga)},h=async p=>{if(!a)return;const m={...p,subtotal:p.qty*p.harga};await n.mutateAsync({id:a.id,data:m}),s(!1)};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"sm:max-w-md",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Edit Konsumsi Komponen"}),e.jsx(Ke,{children:"Perbarui data konsumsi komponen"})]}),e.jsx(Sa,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(h),className:"space-y-4",children:[e.jsx(qe,{control:o.control,name:"komponen_id",render:({field:p})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Komponen"}),e.jsxs(He,{onValueChange:m=>{p.onChange(m),d(m)},value:p.value,children:[e.jsx(Fe,{children:e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih komponen"})})}),e.jsx(Le,{children:r?.map(m=>e.jsxs(le,{value:m.id,children:[m.nama," - ",m.satuan]},m.id))})]}),e.jsx(Ie,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qe,{control:o.control,name:"qty",render:({field:p})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Qty"}),e.jsx(Fe,{children:e.jsx(G,{type:"number",min:"1",...p,onChange:m=>p.onChange(parseInt(m.target.value)||0)})}),e.jsx(Ie,{})]})}),e.jsx(qe,{control:o.control,name:"harga",render:({field:p})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Harga"}),e.jsx(Fe,{children:e.jsx(G,{type:"number",min:"0",...p,onChange:m=>p.onChange(parseFloat(m.target.value)||0)})}),e.jsx(Ie,{})]})})]}),e.jsx("div",{className:"p-3 bg-muted rounded-md",children:e.jsxs("div",{className:"text-sm font-medium",children:["Subtotal: Rp ",c.toLocaleString()]})}),e.jsxs(Ft,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",disabled:n.isPending,children:n.isPending?"Menyimpan...":"Simpan"})]})]})})]})})},ol=({open:t,onOpenChange:s,product:a})=>{const[r,n]=u.useState(null),[o,i]=u.useState(!1),l=ef(),c=p=>{n(p),i(!0)},d=async p=>{await l.mutateAsync(p)},h=()=>{i(!1),n(null)};return a?e.jsxs(e.Fragment,{children:[e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"sm:max-w-4xl",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Detail HPP Produk"}),e.jsxs(Ke,{children:[a.nama," - ",a.variant]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Total HPP"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["Rp ",(a.total_hpp||0).toLocaleString()]})]}),e.jsxs(X,{variant:"secondary",children:[a.consumption?.length||0," komponen"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-3",children:"Detail Konsumsi Komponen"}),a.consumption&&a.consumption.length>0?e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Komponen"}),e.jsx(N,{children:"Satuan"}),e.jsx(N,{children:"Qty"}),e.jsx(N,{children:"Harga"}),e.jsx(N,{children:"Subtotal"}),e.jsx(N,{children:"Aksi"})]})}),e.jsx(ke,{children:a.consumption.map(p=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:p.komponen?.nama}),e.jsx(k,{children:p.komponen?.satuan}),e.jsx(k,{children:p.qty}),e.jsxs(k,{children:["Rp ",(p.harga||0).toLocaleString()]}),e.jsxs(k,{className:"font-medium",children:["Rp ",(p.subtotal||0).toLocaleString()]}),e.jsx(k,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",onClick:()=>c(p),children:e.jsx(st,{className:"h-4 w-4"})}),e.jsxs(kt,{children:[e.jsx(fa,{asChild:!0,children:e.jsx(S,{size:"sm",variant:"outline",className:"text-destructive",children:e.jsx(We,{className:"h-4 w-4"})})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Konsumsi"}),e.jsxs(pt,{children:['Apakah Anda yakin ingin menghapus konsumsi komponen "',p.komponen?.nama,'"?']})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:()=>d(p.id),className:"bg-destructive text-destructive-foreground",children:"Hapus"})]})]})]})]})})]},p.id))})]}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Belum ada konsumsi komponen untuk produk ini"})]})]})]})}),e.jsx(lf,{open:o,onOpenChange:h,consumption:r})]}):null},cf=()=>{const[t,s]=u.useState([]),[a,r]=u.useState(!0),[n,o]=u.useState(""),[i,l]=u.useState("all"),[c,d]=u.useState(!1),[h,p]=u.useState(null),[m,f]=u.useState(!1),[g,x]=u.useState(!1),[v,y]=u.useState(null),[b,P]=u.useState("aktif"),_=Ze(),{user:T}=wa(),{toast:C}=ve(),{data:A}=sl(),{register:ie,handleSubmit:xe,reset:ce,setValue:U,watch:z,formState:{errors:ge}}=St({defaultValues:{status:"aktif"}}),K=z("status",b),oe=E=>A?.find(nt=>nt.id===E)?.total_hpp||0,J=async()=>{try{r(!0);const{data:E,error:W}=await D.from("produk").select("*").order("created_at",{ascending:!1});if(W){console.error("Error fetching products:",W),C({title:"Error",description:"Gagal memuat data produk",variant:"destructive"});return}s(E||[])}catch(E){console.error("Error:",E),C({title:"Error",description:"Terjadi kesalahan saat memuat data",variant:"destructive"})}finally{r(!1)}};u.useEffect(()=>{T&&J()},[T]);const R=async E=>{try{if(f(!0),h){const{error:W}=await D.from("produk").update({...E,updated_at:new Date().toISOString()}).eq("id",h.id);if(W){console.error("Error updating product:",W),C({title:"Error",description:"Gagal memperbarui produk",variant:"destructive"});return}C({title:"Sukses",description:"Produk berhasil diperbarui"})}else{const{error:W}=await D.from("produk").insert([E]);if(W){console.error("Error creating product:",W),C({title:"Error",description:"Gagal membuat produk baru",variant:"destructive"});return}C({title:"Sukses",description:"Produk baru berhasil dibuat"})}await J(),te()}catch(W){console.error("Error:",W),C({title:"Error",description:"Terjadi kesalahan saat menyimpan produk",variant:"destructive"})}finally{f(!1)}},j=async E=>{try{const{error:W}=await D.from("produk").delete().eq("id",E);if(W){console.error("Error deleting product:",W),C({title:"Error",description:"Gagal menghapus produk",variant:"destructive"});return}C({title:"Sukses",description:"Produk berhasil dihapus"}),await J()}catch(W){console.error("Error:",W),C({title:"Error",description:"Terjadi kesalahan saat menghapus produk",variant:"destructive"})}},se=E=>{p(E),U("nama",E.nama),U("variant",E.variant),U("deskripsi_produk",E.deskripsi_produk||""),U("biaya_produksi",E.biaya_produksi||0),U("limit",E.limit||0),U("alokasi",E.alokasi||0),U("status",E.status),P(E.status),d(!0)},re=()=>{p(null),ce({status:"aktif"}),P("aktif"),d(!0)},q=E=>{const W=A?.find(nt=>nt.id===E.id);y(W),x(!0)},te=()=>{d(!1),p(null),ce()},Z=t.filter(E=>{const W=E.nama.toLowerCase().includes(n.toLowerCase())||E.variant.toLowerCase().includes(n.toLowerCase())||E.deskripsi_produk&&E.deskripsi_produk.toLowerCase().includes(n.toLowerCase()),nt=i==="all"||E.status===i;return W&&nt}),_e=E=>{switch(E){case"aktif":return"default";case"tidak aktif":return"secondary";case"habis":return"destructive";default:return"outline"}};return a?e.jsxs("div",{className:`${_?"p-2 space-y-4":"p-6 space-y-6"} fade-in`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:_?"space-y-1":"space-y-2",children:[e.jsx(ae,{className:_?"h-6 w-40":"h-8 w-64"}),e.jsx(ae,{className:_?"h-3 w-60":"h-4 w-96"})]}),e.jsx(ae,{className:_?"h-8 w-24":"h-10 w-32"})]}),e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(ae,{className:_?"h-4 w-32":"h-6 w-48"})}),e.jsx(O,{className:_?"space-y-2":"space-y-4",children:[...Array(5)].map((E,W)=>e.jsx(ae,{className:_?"h-8 w-full":"h-12 w-full"},W))})]})]}):e.jsxs("div",{className:`${_?"p-2 space-y-3":"p-6 space-y-6"} fade-in`,children:[e.jsxs("div",{className:`flex ${_?"flex-col gap-2":"justify-between items-center"}`,children:[e.jsxs("div",{className:_?"space-y-1":"space-y-2",children:[e.jsxs("h1",{className:`${_?"text-xl":"text-3xl"} font-bold tracking-tight flex items-center gap-2`,children:[e.jsx(Vt,{className:_?"h-6 w-6 text-primary":"h-8 w-8 text-primary"}),"Manajemen Produk"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Kelola produk dan inventori bisnis Anda"})]}),e.jsxs(Me,{open:c,onOpenChange:d,children:[e.jsx(Ri,{asChild:!0,children:e.jsxs(S,{className:`button-hover ${_?"w-full py-1.5 text-sm":""}`,onClick:re,children:[e.jsx(Qe,{className:`${_?"h-3 w-3 mr-1":"h-4 w-4 mr-2"}`}),"Tambah Produk"]})}),e.jsxs(Se,{className:`${_?"max-w-full px-2":"max-w-2xl"}`,children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:h?"Edit Produk":"Tambah Produk Baru"}),e.jsx(Ke,{children:h?"Perbarui informasi produk":"Masukkan informasi produk baru"})]}),e.jsxs("form",{onSubmit:xe(R),className:"space-y-4",children:[e.jsxs("div",{className:`${_?"grid grid-cols-1 gap-2":"grid grid-cols-2 gap-4"}`,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"nama",children:"Nama Produk"}),e.jsx(G,{id:"nama",...ie("nama",{required:"Nama produk wajib diisi"}),placeholder:"Masukkan nama produk"}),ge.nama&&e.jsx("p",{className:"text-sm text-destructive",children:ge.nama.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"variant",children:"Varian"}),e.jsx(G,{id:"variant",...ie("variant",{required:"Varian wajib diisi"}),placeholder:"Masukkan varian produk"}),ge.variant&&e.jsx("p",{className:"text-sm text-destructive",children:ge.variant.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"deskripsi_produk",children:"Deskripsi"}),e.jsx(It,{id:"deskripsi_produk",...ie("deskripsi_produk"),placeholder:"Masukkan deskripsi produk",rows:3})]}),e.jsxs("div",{className:`${_?"grid grid-cols-1 gap-2":"grid grid-cols-3 gap-4"}`,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"biaya_produksi",children:"Biaya Produksi"}),e.jsx(G,{id:"biaya_produksi",type:"number",...ie("biaya_produksi",{min:0}),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"limit",children:"Limit"}),e.jsx(G,{id:"limit",type:"number",...ie("limit",{min:0}),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"alokasi",children:"Alokasi"}),e.jsx(G,{id:"alokasi",type:"number",...ie("alokasi",{min:0}),placeholder:"0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"status",children:"Status"}),e.jsxs(He,{value:K||"aktif",onValueChange:E=>{U("status",E),P(E)},children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih status"})}),e.jsxs(Le,{children:[e.jsx(le,{value:"aktif",children:"Aktif"}),e.jsx(le,{value:"tidak aktif",children:"Tidak Aktif"}),e.jsx(le,{value:"habis",children:"Habis"})]})]})]}),e.jsxs("div",{className:`flex justify-end gap-2 pt-4 ${_?"flex-col":""}`,children:[e.jsxs(S,{type:"button",variant:"outline",onClick:te,className:_?"w-full mb-1":"",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Batal"]}),e.jsxs(S,{type:"submit",disabled:m,className:_?"w-full":"",children:[e.jsx(Rd,{className:"h-4 w-4 mr-2"}),m?"Menyimpan...":h?"Perbarui":"Simpan"]})]})]})]})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{className:_?"p-3 pb-2":"",children:e.jsx(L,{className:_?"text-base":"",children:"Filter & Pencarian"})}),e.jsx(O,{className:_?"p-3 pt-0":"",children:e.jsxs("div",{className:`flex ${_?"flex-col gap-2":"gap-4"}`,children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari produk...",value:n,onChange:E=>o(E.target.value),className:`${_?"pl-9 py-2 text-sm":"pl-10"}`})]}),e.jsxs(He,{value:i,onValueChange:l,children:[e.jsx(Oe,{className:_?"w-full text-sm":"w-48",children:e.jsx(Be,{placeholder:"Filter Status"})}),e.jsxs(Le,{children:[e.jsx(le,{value:"all",children:"Semua Status"}),e.jsx(le,{value:"aktif",children:"Aktif"}),e.jsx(le,{value:"tidak aktif",children:"Tidak Aktif"}),e.jsx(le,{value:"habis",children:"Habis"})]})]})]})})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:_?"p-3 pb-2":"",children:[e.jsx(L,{className:_?"text-base":"",children:"Daftar Produk"}),e.jsxs(ye,{children:["Total ",Z.length," produk ditemukan"]})]}),e.jsx(O,{className:_?"p-3 pt-0":"",children:Z.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Vt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Belum ada produk"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Mulai dengan menambahkan produk pertama Anda"}),e.jsxs(S,{onClick:()=>d(!0),className:_?"w-full text-sm":"",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}):_?e.jsx("div",{className:"flex flex-col gap-2",children:Z.map(E=>e.jsxs("div",{className:"border rounded-lg p-3 shadow-sm flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-blue-700 text-xs",children:E.nama}),e.jsx(X,{variant:_e(E.status),className:"text-xs px-2 py-0",children:E.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Varian:"}),e.jsx("span",{className:"text-xs",children:E.variant})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Biaya:"}),e.jsx("span",{className:"text-xs",children:E.biaya_produksi?`Rp ${E.biaya_produksi.toLocaleString()}`:"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"HPP:"}),e.jsxs("span",{className:"text-xs font-bold",children:["Rp ",oe(E.id).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(S,{size:"icon",variant:"outline",className:"button-hover p-1.5 h-7 w-7",onClick:()=>q(E),children:e.jsx(ct,{className:"h-4 w-4"})}),e.jsx(S,{size:"icon",variant:"outline",className:"button-hover p-1.5 h-7 w-7",onClick:()=>se(E),children:e.jsx(st,{className:"h-4 w-4"})}),e.jsxs(kt,{children:[e.jsx(fa,{asChild:!0,children:e.jsx(S,{size:"icon",variant:"outline",className:"button-hover text-destructive p-1.5 h-7 w-7",children:e.jsx(We,{className:"h-4 w-4"})})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Produk"}),e.jsxs(pt,{children:['Apakah Anda yakin ingin menghapus produk "',E.nama," - ",E.variant,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:()=>j(E.id),children:"Hapus"})]})]})]})]})]},E.id))}):e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{children:"Varian"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Biaya Produksi"}),e.jsx(N,{children:"HPP"}),e.jsx(N,{children:"Aksi"})]})}),e.jsx(ke,{children:Z.map(E=>e.jsxs(V,{className:"smooth-transition hover:bg-muted/50",children:[e.jsx(k,{className:"font-medium",children:E.nama}),e.jsx(k,{children:E.variant}),e.jsx(k,{children:e.jsx(X,{variant:_e(E.status),children:E.status})}),e.jsx(k,{children:E.biaya_produksi?`Rp ${E.biaya_produksi.toLocaleString()}`:"-"}),e.jsxs(k,{className:"font-medium",children:["Rp ",oe(E.id).toLocaleString()]}),e.jsx(k,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:()=>q(E),children:e.jsx(ct,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:()=>se(E),children:e.jsx(st,{className:"h-4 w-4"})}),e.jsxs(kt,{children:[e.jsx(fa,{asChild:!0,children:e.jsx(S,{size:"sm",variant:"outline",className:"button-hover text-destructive",children:e.jsx(We,{className:"h-4 w-4"})})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Produk"}),e.jsxs(pt,{children:['Apakah Anda yakin ingin menghapus produk "',E.nama," - ",E.variant,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:()=>j(E.id),children:"Hapus"})]})]})]})]})})]},E.id))})]})})]}),e.jsx(ol,{open:g,onOpenChange:x,product:v})]})};function df(){const[t,s]=u.useState(""),[a,r]=u.useState(!1),[n,o]=u.useState(null),[i,l]=u.useState(!1),[c,d]=u.useState(!1),[h,p]=u.useState(!1),[m,f]=u.useState(null),[g,x]=u.useState(null);return{searchTerm:t,setSearchTerm:s,showSPKForm:a,setShowSPKForm:r,selectedSPK:n,setSelectedSPK:o,showDetailDialog:i,setShowDetailDialog:l,showDeleteDialog:c,setShowDeleteDialog:d,showEditDialog:h,setShowEditDialog:p,spkToDelete:m,setSPKToDelete:f,spkToEdit:g,setSPKToEdit:x}}const uf=(t={})=>{const{page:s=1,pageSize:a=10}=t;return Ne({queryKey:["spks","view",s,a],queryFn:async()=>{const{count:r}=await D.from("spk").select("no_spk",{count:"exact",head:!0}),n=(s-1)*a,o=n+a-1,{data:i,error:l}=await D.from("spk_status_view").select("*").order("tanggal",{ascending:!1}).range(n,o);if(l)throw l;return i?{data:await Promise.all(i.map(async d=>{const{data:h,error:p}=await D.from("item_spk").select(`
              *,
              produk:produk_id (
                nama,
                variant
              )
            `).eq("no_spk",d.no_spk);if(p)throw p;const m=await Promise.all(h.map(async f=>{const{data:g,error:x}=await D.from("transakasi_stok").select("masuk").eq("no_spk",d.no_spk).eq("produk_id",f.produk_id).eq("jenis_in","masuk");if(x)throw x;const v=g?.reduce((P,_)=>P+(_.masuk||0),0)||0,y=f.qty-v,b=y===0?"Selesai":y<f.qty?"Dalam Proses":"Pending";return{...f,produk:f.produk,sisa:y,diproses:v,status_item:b}}));return{...d,no_spk:d.no_spk,tanggal:d.tanggal,status:d.status_terkini||d.status||"Pending",total_qty:d.total_qty,items:m}})),count:r??0}:{data:[],count:0}}})},mf=async t=>{let a;for(let r=1;r<=3;r++)try{const{data:n,error:o}=await D.rpc("generate_spk_number");if(o)throw o;const i={no_spk:n,total_produk:t.items.length,total_qty:t.items.reduce((p,m)=>p+m.qty,0),status:"Pending"},{data:l,error:c}=await D.from("spk").insert(i).select().single();if(c){if(c.message?.includes("duplicate key")||c.message?.includes("spk_pkey")){a=c,console.warn(`SPK creation attempt ${r} failed due to duplicate key, retrying...`),await new Promise(p=>setTimeout(p,100*r));continue}throw c}const d=t.items.map(p=>({...p,no_spk:l.no_spk})),{error:h}=await D.from("item_spk").insert(d);if(h)throw await D.from("spk").delete().eq("no_spk",l.no_spk),h;return l}catch(n){if(a=n,r===3||!n.message?.includes("duplicate key")&&!n.message?.includes("spk_pkey"))throw n}throw a},hf=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{try{const{data:r,error:n}=await D.rpc("create_spk_safe",{p_total_produk:a.items.length,p_total_qty:a.items.reduce((d,h)=>d+h.qty,0),p_status:"Pending"});if(n)throw n;const o=r;if(!o||!Array.isArray(o)||o.length===0)throw new Error("Failed to create SPK");const i=o[0],l=a.items.map(d=>({...d,no_spk:i.no_spk})),{error:c}=await D.from("item_spk").insert(l);if(c)throw await D.from("spk").delete().eq("no_spk",i.no_spk),c;return i}catch(r){if(r.message?.includes("function create_spk_safe")||r.message?.includes("does not exist"))return console.warn("Using fallback SPK creation method"),await mf(a);throw r}},onSuccess:()=>{t.invalidateQueries({queryKey:["spks"]}),s({title:"Success",description:"SPK berhasil dibuat"})},onError:a=>{s({title:"Error",description:"Gagal membuat SPK: "+a.message,variant:"destructive"})}})},pf=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{error:r}=await D.from("item_spk").delete().eq("no_spk",a);if(r)throw r;const{error:n}=await D.from("spk").delete().eq("no_spk",a);if(n)throw n;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["spks"]}),t.invalidateQueries({queryKey:["active-spks"]}),s({title:"Success",description:"SPK berhasil dihapus"})},onError:a=>{s({title:"Error",description:"Gagal menghapus SPK: "+a.message,variant:"destructive"})}})},ff=()=>Ne({queryKey:["active-spks"],queryFn:async()=>{const{data:t,error:s}=await D.from("spk").select(`
          *,
          item_spk (
            *,
            produk:produk_id (
              nama,
              variant
            )
          )
        `).neq("status","Selesai").order("created_at",{ascending:!1});if(s)throw s;return(await Promise.all(t.map(async r=>{const n=await Promise.all(r.item_spk.map(async o=>{const{data:i,error:l}=await D.from("transakasi_stok").select("masuk").eq("no_spk",r.no_spk).eq("produk_id",o.produk_id).eq("jenis_in","masuk");if(l)throw l;const c=i?.reduce((h,p)=>h+(p.masuk||0),0)||0,d=o.qty-c;return{...o,sisa:d,diproses:c}}));return{...r,item_spk:n.filter(o=>o.sisa>0)}}))).filter(r=>r.item_spk.length>0)}}),ta=()=>Ne({queryKey:["products"],queryFn:async()=>{const{data:t,error:s}=await D.from("produk").select("*").eq("status","aktif").order("nama");if(s)throw s;return t}});function xf({open:t,onOpenChange:s}){const{register:a,handleSubmit:r,control:n,reset:o,setValue:i}=St({defaultValues:{items:[{produk_id:"",qty:1,catatan:""}]}}),{fields:l,append:c,remove:d}=Gs({control:n,name:"items"}),h=hf(),{data:p}=ta(),m=async f=>{const g=f.items.map(x=>({produk_id:x.produk_id,qty:x.qty,catatan:x.catatan||null,no_spk:""}));await h.mutateAsync({items:g}),o(),s(!1)};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Buat SPK Baru"}),e.jsx(Ke,{children:"Tambahkan produk dan jumlah untuk SPK baru"})]}),e.jsxs("form",{onSubmit:r(m),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Daftar Item"}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:()=>c({produk_id:"",qty:1,catatan:""}),children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah Item"]})]}),l.map((f,g)=>e.jsxs(F,{children:[e.jsx(I,{className:"pb-3",children:e.jsxs(L,{className:"text-sm flex items-center justify-between",children:["Item ",g+1,l.length>1&&e.jsx(S,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(g),children:e.jsx(We,{className:"h-4 w-4"})})]})}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:`items.${g}.produk_id`,children:"Produk"}),e.jsxs(He,{onValueChange:x=>i(`items.${g}.produk_id`,x),children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih produk"})}),e.jsx(Le,{children:p?.map(x=>e.jsxs(le,{value:x.id,children:[x.nama," - ",x.variant]},x.id))})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:`items.${g}.qty`,children:"Jumlah"}),e.jsx(G,{id:`items.${g}.qty`,type:"number",min:"1",...a(`items.${g}.qty`,{required:!0,min:1,valueAsNumber:!0})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:`items.${g}.catatan`,children:"Catatan"}),e.jsx(It,{id:`items.${g}.catatan`,placeholder:"Catatan opsional",...a(`items.${g}.catatan`)})]})]})]},f.id))]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",disabled:h.isPending,children:h.isPending?"Membuat...":"Buat SPK"})]})]})]})})}function gf(t){const s=new Us,a=s.internal.pageSize.getWidth(),r=18;let n=16;s.setFont("helvetica","bold"),s.setFontSize(17),s.text("SURAT PERINTAH KERJA (SPK)",a/2,n,{align:"center"}),n+=8,s.setLineWidth(.5),s.setDrawColor(51,51,51),s.line(r,n,a-r,n),n+=6,s.setFontSize(12),s.setFont("helvetica","normal"),s.text(`Nomor: ${t.no_spk}`,r,n),s.text(`Tanggal: ${new Date(t.tanggal).toLocaleDateString("id-ID")}`,a-r,n,{align:"right"}),n+=10,zt(s,{startY:n,theme:"plain",body:[[{content:"Total Qty",styles:{halign:"left",fontStyle:"bold"}},{content:(t.total_qty??0)+" unit",styles:{halign:"left"}}]],styles:{fontSize:11,cellPadding:2},margin:{left:r,right:r},tableWidth:"auto"});const o=s.lastAutoTable?s.lastAutoTable.finalY+8:n+16;s.setFont("helvetica","bold"),s.setFontSize(13),s.text("DAFTAR ITEM PRODUK",r,o),zt(s,{startY:o+3,head:[["No","Nama Produk","Variant","Qty","Catatan"]],body:t.items&&t.items.length>0?t.items.map((l,c)=>[c+1,l.produk.nama,l.produk.variant,l.qty,l.catatan||"-"]):[[{content:"Tidak ada item",colSpan:5,styles:{halign:"center"}}]],headStyles:{fillColor:[32,44,75],textColor:[255,255,255],fontStyle:"bold",halign:"center",fontSize:11},bodyStyles:{halign:"left",valign:"middle",fontSize:10},columnStyles:{0:{cellWidth:12,halign:"center"},1:{cellWidth:54},2:{cellWidth:32},3:{cellWidth:20,halign:"center"},4:{cellWidth:55}},margin:{left:r,right:r},styles:{overflow:"linebreak"}}),s.lastAutoTable?s.lastAutoTable.finalY+18:n+70,s.setFontSize(10),s.setFont("helvetica","italic"),s.text(`Dicetak pada: ${new Date().toLocaleDateString("id-ID")}`,r,s.internal.pageSize.getHeight()-12);const i=s.getNumberOfPages();for(let l=1;l<=i;l++)s.setPage(l),s.text(`Halaman ${l} dari ${i}`,a-r,s.internal.pageSize.getHeight()-12,{align:"right"});s.save(`SPK_Detail_${t.no_spk}.pdf`)}function vf({open:t,onOpenChange:s,spk:a}){if(!a)return null;const r=o=>{switch(o){case"Selesai":return"default";case"Dalam Proses":return"secondary";case"Pending":return"destructive";default:return"outline"}},n=()=>{gf(a)};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ce,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Pe,{children:["Detail SPK - ",a.no_spk]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:n,className:"flex items-center gap-2",children:[e.jsx(sr,{className:"h-4 w-4"}),"Export PDF"]})]}),e.jsx(Ke,{children:"Informasi lengkap Surat Perintah Kerja"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(L,{children:"Informasi SPK"})}),e.jsxs(O,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nomor SPK"}),e.jsx("p",{className:"font-semibold",children:a.no_spk})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tanggal"}),e.jsx("p",{className:"font-semibold",children:new Date(a.tanggal).toLocaleDateString("id-ID")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(X,{variant:r(a.status||""),children:a.status||"Pending"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Qty"}),e.jsxs("p",{className:"font-semibold",children:[a.total_qty||0," unit"]})]})]})]}),e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(L,{children:"Daftar Item"})}),e.jsx(O,{children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{className:"text-center",children:"Qty"}),e.jsx(N,{className:"text-center",children:"Diproses"}),e.jsx(N,{className:"text-center",children:"Sisa"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Catatan"})]})}),e.jsx(ke,{children:a.items.map(o=>e.jsxs(V,{children:[e.jsxs(k,{className:"font-medium",children:[o.produk.nama," - ",o.produk.variant]}),e.jsx(k,{className:"text-center",children:o.qty}),e.jsx(k,{className:"text-center",children:o.diproses}),e.jsx(k,{className:"text-center",children:o.sisa}),e.jsx(k,{children:e.jsx(X,{variant:r(o.status_item),children:o.status_item})}),e.jsx(k,{children:o.catatan||"-"})]},o.id))})]})})]})]})]})})}function bf({onCreateSPK:t}){const s=Ze();return e.jsxs("div",{className:`${s?"flex-col items-start gap-2 px-2 py-3":"flex-row items-center"} flex justify-between`,children:[e.jsxs("div",{className:`space-y-1 ${s?"":"space-y-2"}`,children:[e.jsxs("h1",{className:`flex items-center gap-2 font-bold ${s?"text-xl":"text-3xl"} tracking-tight`,children:[e.jsx(tr,{className:`${s?"h-6 w-6":"h-8 w-8"} text-primary`}),"Surat Perintah Kerja (SPK)"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Kelola dan monitor progress SPK"})]}),e.jsxs(S,{className:`button-hover ${s?"px-3 py-1 h-9 min-w-0 text-sm":""}`,onClick:t,size:s?"sm":"default",children:[e.jsx(Qe,{className:`mr-2 ${s?"h-3 w-3":"h-4 w-4"}`}),e.jsx("span",{className:s?"hidden sm:inline":"",children:"Buat SPK Baru"}),e.jsx("span",{className:s?"inline sm:hidden":"sr-only",children:"Tambah"})]})]})}function yf({searchTerm:t,onSearchChange:s}){return e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Filter & Pencarian"})}),e.jsx(O,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari SPK...",value:t,onChange:a=>s(a.target.value),className:"pl-10"})]}),e.jsx(S,{variant:"outline",children:"Filter Status"})]})})]})}function jf({spk:t,isExpanded:s,onToggleExpand:a,onDetail:r,onEdit:n,onDelete:o,isMobile:i}){const l=d=>{switch(d){case"Selesai":return"default";case"Dalam Proses":return"secondary";case"Pending":return"destructive";case"Proses":return"secondary";default:return"outline"}},c=typeof i=="boolean"?i:Ze();return e.jsx(ur,{open:s,onOpenChange:a,children:e.jsxs("div",{className:`border rounded-lg smooth-transition hover:shadow-md ${c?"p-2":"p-4"}`,children:[e.jsxs("div",{className:`flex items-center justify-between ${c?"gap-2":""}`,children:[e.jsxs(mr,{className:"flex items-center gap-3 flex-1 text-left",children:[e.jsx(Zt,{className:`transition-transform ${s?"rotate-90":""} ${c?"h-4 w-4":"h-5 w-5"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:`font-semibold ${c?"text-sm":""}`,children:t.no_spk}),e.jsx("p",{className:`text-xs text-muted-foreground ${c?"":"text-sm"}`,children:new Date(t.tanggal).toLocaleDateString("id-ID")})]})]}),e.jsxs("div",{className:`flex items-center gap-3 ${c?"":"gap-4"}`,children:[e.jsx(X,{variant:l(t.status||""),className:c?"px-1 py-0 text-xs":"",children:t.status||"Pending"}),e.jsxs("span",{className:`font-medium ${c?"text-xs":"text-sm"}`,children:["Total: ",t.total_qty||0," unit"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{size:c?"icon":"sm",variant:"outline",className:`button-hover ${c?"w-7 h-7 p-0":""}`,onClick:d=>{d.stopPropagation(),r(t)},children:e.jsx(ct,{className:c?"h-3 w-3":"h-4 w-4"})}),e.jsx(S,{size:c?"icon":"sm",variant:"outline",className:`button-hover ${c?"w-7 h-7 p-0":""}`,onClick:d=>{d.stopPropagation(),n(t)},children:e.jsx(st,{className:c?"h-3 w-3":"h-4 w-4"})}),e.jsx(S,{size:c?"icon":"sm",variant:"outline",className:`button-hover ${c?"w-7 h-7 p-0":""}`,onClick:d=>{d.stopPropagation(),o(t.no_spk)},children:e.jsx(We,{className:c?"h-3 w-3":"h-4 w-4"})})]})]})]}),e.jsxs(hr,{className:`mt-2 ${c?"pl-5":"mt-4 pl-9"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${c?"text-sm":"mb-3"}`,children:"Item SPK:"}),c?e.jsx("div",{className:"flex flex-col gap-2",children:t.items.map(d=>e.jsxs("div",{className:"bg-muted/50 rounded-md px-2 py-1 text-xs flex flex-col border",children:[e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-1 items-center",children:[e.jsxs("div",{className:"font-semibold truncate flex-1",children:[d.produk.nama," - ",d.produk.variant]}),e.jsx(X,{variant:l(d.status_item),className:"px-2 text-xs",children:d.status_item})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-5 gap-y-1 mt-0.5 w-full text-xs",children:[e.jsxs("span",{children:["Qty: ",d.qty]}),e.jsxs("span",{children:["Diproses: ",d.diproses]}),e.jsxs("span",{children:["Sisa: ",d.sisa]}),e.jsxs("span",{children:["Catatan: ",d.catatan||"-"]})]})]},d.id))}):e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{children:"Qty"}),e.jsx(N,{children:"Catatan"}),e.jsx(N,{children:"Diproses"}),e.jsx(N,{children:"Sisa"}),e.jsx(N,{children:"Status"})]})}),e.jsx(ke,{children:t.items.map(d=>e.jsxs(V,{children:[e.jsxs(k,{className:"font-medium",children:[d.produk.nama," - ",d.produk.variant]}),e.jsx(k,{children:d.qty}),e.jsx(k,{children:d.catatan||"-"}),e.jsx(k,{children:d.diproses}),e.jsx(k,{children:d.sisa}),e.jsx(k,{children:e.jsx(X,{variant:l(d.status_item),children:d.status_item})})]},d.id))})]})]})]})})}function wf({spks:t,isLoading:s,error:a,onDetail:r,onEdit:n,onDelete:o}){const[i,l]=u.useState(null),c=Ze();return s?e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Daftar SPK"})}),e.jsx(O,{children:e.jsx("div",{className:c?"space-y-2":"space-y-4",children:[1,2,3].map(d=>e.jsxs("div",{className:`border rounded-lg ${c?"p-2":"p-4"}`,children:[e.jsx(ae,{className:"h-5 w-24 mb-1"}),e.jsx(ae,{className:"h-4 w-16"})]},d))})})]}):a?e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Daftar SPK"})}),e.jsx(O,{children:e.jsxs("div",{className:"text-center py-8 text-destructive",children:["Error loading SPK data: ",a.message]})})]}):t.length===0?e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Daftar SPK"}),e.jsx(ye,{children:"Total 0 SPK ditemukan"})]}),e.jsx(O,{children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada SPK ditemukan"})})]}):e.jsxs(F,{className:`card-hover ${c?"p-1 pt-2":""}`,children:[e.jsxs(I,{children:[e.jsx(L,{className:c?"text-base":"",children:"Daftar SPK"}),e.jsxs(ye,{className:c?"text-xs":"",children:["Total ",t.length," SPK ditemukan"]})]}),e.jsx(O,{className:c?"px-0":"",children:e.jsx("div",{className:c?"space-y-1":"space-y-4",children:t.map(d=>e.jsx(jf,{spk:d,isExpanded:i===d.no_spk,onToggleExpand:()=>l(i===d.no_spk?null:d.no_spk),onDetail:r,onEdit:n,onDelete:o,isMobile:c},d.no_spk))})})]})}function il({control:t,name:s,products:a}){return e.jsx(qe,{control:t,name:s,render:({field:r})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Produk"}),e.jsxs(He,{onValueChange:r.onChange,value:r.value,children:[e.jsx(Fe,{children:e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih produk"})})}),e.jsx(Le,{children:a?.map(n=>e.jsxs(le,{value:n.id,children:[n.nama," - ",n.variant]},n.id))})]}),e.jsx(Ie,{})]})})}function Ks({control:t,name:s,label:a}){return e.jsx(qe,{control:t,name:s,render:({field:r})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:a}),e.jsx(Fe,{children:e.jsx(G,{type:"number",placeholder:"0",...r,onChange:n=>r.onChange(parseInt(n.target.value)||0)})}),e.jsx(Ie,{})]})})}function ll({control:t,name:s}){return e.jsx(qe,{control:t,name:s,render:({field:a})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Keterangan"}),e.jsx(Fe,{children:e.jsx(It,{placeholder:"Masukkan keterangan transaksi",...a})}),e.jsx(Ie,{})]})})}function kf({control:t,index:s,onRemove:a}){const{data:r}=ta();return e.jsx(F,{children:e.jsxs(O,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Item ",s+1]}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:a,className:"text-destructive hover:text-destructive",children:e.jsx(We,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(il,{control:t,name:`items.${s}.produk_id`,products:r}),e.jsx(Ks,{control:t,name:`items.${s}.qty`,label:"Quantity"}),e.jsx(ll,{control:t,name:`items.${s}.catatan`})]})]})})}const Nf=Rt({id:lt(),produk_id:lt().min(1,"Produk harus dipilih"),qty:Mt().min(1,"Qty harus lebih dari 0"),catatan:lt().optional()}),Sf=Rt({items:Xn(Nf)}),Cf=({open:t,onOpenChange:s,spk:a,onSuccess:r})=>{const{toast:n}=ve(),o=St({resolver:Na(Sf),defaultValues:{items:[]}}),{fields:i,append:l,remove:c}=Gs({control:o.control,name:"items"});u.useEffect(()=>{a&&t&&o.setValue("items",a.items.map(h=>({id:h.id,produk_id:h.produk_id,qty:h.qty,catatan:h.catatan||""})))},[a,t,o]);const d=async h=>{if(a)try{for(const m of h.items){const{error:f}=await D.from("item_spk").update({produk_id:m.produk_id,qty:m.qty,catatan:m.catatan||null}).eq("id",m.id);if(f)throw f}const{error:p}=await D.from("spk").update({updated_at:new Date().toISOString()}).eq("no_spk",a.no_spk);if(p)throw p;n({title:"Sukses",description:"SPK berhasil diperbarui"}),r(),s(!1)}catch(p){console.error("Error updating SPK:",p),n({title:"Error",description:"Gagal memperbarui SPK",variant:"destructive"})}};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Edit SPK"}),e.jsxs(Ke,{children:["Edit item SPK: ",a?.no_spk]})]}),e.jsx(Sa,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-6",children:[e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(L,{children:"Item SPK"})}),e.jsx(O,{className:"space-y-4",children:i.map((h,p)=>e.jsx(kf,{control:o.control,index:p,onRemove:()=>c(p)},h.id))})]}),e.jsxs(Ft,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",children:"Simpan"})]})]})})]})})},cl=({className:t,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:w("mx-auto flex w-full justify-center",t),...s});cl.displayName="Pagination";const dl=u.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,className:w("flex flex-row items-center gap-1",t),...s}));dl.displayName="PaginationContent";const Ka=u.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,className:w("",t),...s}));Ka.displayName="PaginationItem";const ls=({className:t,isActive:s,size:a="icon",...r})=>e.jsx("a",{"aria-current":s?"page":void 0,className:w(Gt({variant:s?"outline":"ghost",size:a}),t),...r});ls.displayName="PaginationLink";const ul=({className:t,...s})=>e.jsxs(ls,{"aria-label":"Go to previous page",size:"default",className:w("gap-1 pl-2.5",t),...s,children:[e.jsx(jo,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});ul.displayName="PaginationPrevious";const ml=({className:t,...s})=>e.jsxs(ls,{"aria-label":"Go to next page",size:"default",className:w("gap-1 pr-2.5",t),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(Zt,{className:"h-4 w-4"})]});ml.displayName="PaginationNext";function Pf(){return Ne({queryKey:["spk-summary"],queryFn:async()=>{const{count:t}=await D.from("spk").select("*",{count:"exact",head:!0}),{data:s,error:a}=await D.from("spk").select("no_spk").or("status.eq.Pending,status.eq.Dalam Proses");if(a)throw a;const r=(s??[]).map(i=>i.no_spk);let n=0,o=0;if(r.length>0){const{data:i,error:l}=await D.from("item_spk").select("no_spk, produk_id, qty").in("no_spk",r);if(l)throw l;n=i.length;for(const c of i){const{data:d,error:h}=await D.from("transakasi_stok").select("masuk").eq("no_spk",c.no_spk).eq("produk_id",c.produk_id).eq("jenis_in","masuk");if(h)throw h;const p=d.reduce((f,g)=>f+(g.masuk||0),0),m=(c.qty||0)-p;o+=m>0?m:0}}return{totalSPK:t??0,totalActiveSPK:r.length,totalProdukAktif:n,totalSisa:o}}})}function _f(){const{data:t,isLoading:s,error:a}=Pf(),r=Ze();if(s)return e.jsx("div",{className:`${r?"grid grid-cols-2 gap-2":"grid gap-4 md:grid-cols-2 lg:grid-cols-4"}`,children:[...Array(4)].map((o,i)=>e.jsxs(F,{className:`card-hover ${r?"p-2":""}`,children:[e.jsxs(I,{className:`pb-2 flex flex-row items-center justify-between space-y-0 ${r?"p-2":""}`,children:[e.jsx("div",{children:e.jsx("div",{className:`h-4 ${r?"w-16":"w-24"} bg-gray-200 animate-pulse rounded`})}),e.jsx("div",{className:`bg-gray-200 animate-pulse rounded-full ${r?"h-5 w-5":"h-6 w-6"}`})]}),e.jsxs(O,{className:r?"p-2 pt-0":"",children:[e.jsx("div",{className:`bg-gray-200 animate-pulse rounded mb-1 ${r?"h-6 w-9":"h-8 w-12"}`}),e.jsx("div",{className:`h-3 bg-gray-100 animate-pulse rounded ${r?"w-14":"w-20"}`})]})]},i))});if(a||!t)return e.jsx("div",{className:"text-destructive py-2 text-sm",children:"Gagal memuat ringkasan SPK"});const n=[{title:"Total SPK",value:t.totalSPK,description:"Seluruh SPK terbuat",icon:rr,valueColor:"text-blue-600",iconColor:"text-blue-600"},{title:"SPK Aktif",value:t.totalActiveSPK,description:"SPK status Pending/Proses",icon:Ad,valueColor:"text-yellow-600",iconColor:"text-yellow-600"},{title:"Produk SPK Aktif",value:t.totalProdukAktif,description:"Total produk dari SPK aktif",icon:Vt,valueColor:"text-cyan-600",iconColor:"text-cyan-600"},{title:"Sisa Produk",value:t.totalSisa,description:"Total sisa produk aktif",icon:Md,valueColor:"text-fuchsia-600",iconColor:"text-fuchsia-600"}];return e.jsx("div",{className:r?"grid grid-cols-2 gap-2 mb-1":"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:n.map((o,i)=>e.jsxs(F,{className:`card-hover transition-all ${r?"p-2":""}`,children:[e.jsxs(I,{className:`flex flex-row items-center justify-between space-y-0 pb-2 ${r?"p-2":""}`,children:[e.jsx(L,{className:`font-medium ${r?"text-xs":"text-sm"}`,children:o.title}),e.jsx(o.icon,{className:`${r?"h-4 w-4":"h-5 w-5"} ${o.iconColor}`})]}),e.jsxs(O,{className:r?"p-2 pt-0":"",children:[e.jsx("div",{className:`font-bold ${r?"text-lg":"text-2xl"} ${o.valueColor}`,children:o.value}),e.jsx("p",{className:`text-muted-foreground ${r?"text-[10px] mt-0.5":"text-xs"}`,children:o.description})]})]},i))})}const xn=10,Df=()=>{const t=Ze(),{searchTerm:s,setSearchTerm:a,showSPKForm:r,setShowSPKForm:n,selectedSPK:o,setSelectedSPK:i,showDetailDialog:l,setShowDetailDialog:c,showDeleteDialog:d,setShowDeleteDialog:h,showEditDialog:p,setShowEditDialog:m,spkToDelete:f,setSPKToDelete:g,spkToEdit:x,setSPKToEdit:v}=df(),[y,b]=u.useState(1),{data:P,isLoading:_,error:T,refetch:C}=uf({page:y,pageSize:xn}),A=pf(),ie=P?.data??[],xe=P?.count??0,ce=Math.ceil(xe/xn),U=ie.filter(j=>j.no_spk.toLowerCase().includes(s.toLowerCase())||(j.status||"").toLowerCase().includes(s.toLowerCase())),z=j=>{i(j),c(!0)},ge=j=>{v(j),m(!0)},K=j=>{g(j),h(!0)},oe=async()=>{f&&(await A.mutateAsync(f),h(!1),g(null),C())},J=()=>{C()},R=j=>{b(j)};return e.jsxs("div",{className:`${t?"p-2 space-y-3":"p-6 space-y-6"} fade-in`,children:[e.jsx(bf,{onCreateSPK:()=>n(!0)}),e.jsx(_f,{}),e.jsx(yf,{searchTerm:s,onSearchChange:a}),e.jsx(wf,{spks:U,isLoading:_,error:T,onDetail:z,onEdit:ge,onDelete:K}),e.jsx("div",{className:`flex justify-center mt-3 ${t?"":"mt-4"}`,children:e.jsx(cl,{children:e.jsxs(dl,{children:[e.jsx(Ka,{children:e.jsx(ul,{onClick:()=>R(Math.max(y-1,1)),"aria-disabled":y===1,tabIndex:y===1?-1:0})}),[...Array(ce).keys()].map(j=>e.jsx(Ka,{children:e.jsx(ls,{isActive:y===j+1,onClick:()=>R(j+1),children:j+1})},j+1)),e.jsx(Ka,{children:e.jsx(ml,{onClick:()=>R(Math.min(y+1,ce)),"aria-disabled":y===ce,tabIndex:y===ce?-1:0})})]})})}),e.jsx(xf,{open:r,onOpenChange:j=>{n(j),j||C()}}),e.jsx(vf,{open:l,onOpenChange:c,spk:o}),e.jsx(Cf,{open:p,onOpenChange:m,spk:x,onSuccess:J}),e.jsx(kt,{open:d,onOpenChange:h,children:e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus SPK"}),e.jsx(pt,{children:"Apakah Anda yakin ingin menghapus SPK ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:oe,disabled:A.isPending,children:A.isPending?"Menghapus...":"Hapus"})]})]})})]})},Tf=(t,s)=>Ne({queryKey:["stock-transactions",t,s],queryFn:async()=>{let a=D.from("transakasi_stok").select(`
          *,
          produk:produk_id (
            nama,
            variant
          )
        `).order("created_at",{ascending:!1});t&&s&&(a=a.gte("tanggal",t).lte("tanggal",s));const{data:r,error:n}=await a;if(n)throw n;return r}}),Mf=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{data:r,error:n}=await D.from("transakasi_stok").insert(a).select().single();if(n)throw n;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["stock-transactions"]}),t.invalidateQueries({queryKey:["spks"]}),s({title:"Success",description:"Transaksi stok berhasil ditambahkan"})},onError:a=>{s({title:"Error",description:"Gagal menambahkan transaksi stok: "+a.message,variant:"destructive"})}})},Ef=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{error:r}=await D.from("transakasi_stok").delete().eq("id",a);if(r)throw r;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["stock-transactions"]}),t.invalidateQueries({queryKey:["spks"]}),s({title:"Success",description:"Transaksi stok berhasil dihapus"})},onError:a=>{s({title:"Error",description:"Gagal menghapus transaksi stok: "+a.message,variant:"destructive"})}})},Rf=()=>Ne({queryKey:["stock-summary"],queryFn:async()=>{const{data:t,error:s}=await D.from("transakasi_stok").select("masuk, keluar");if(s)throw s;const a=t.reduce((o,i)=>o+(i.masuk||0),0),r=t.reduce((o,i)=>o+(i.keluar||0),0),n=a-r;return{totalMasuk:a,totalKeluar:r,saldoAkhir:n}}});function Af({value:t,onChange:s}){return e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"jenis_tr",children:"Jenis Transaksi"}),e.jsxs(He,{value:t,onValueChange:s,children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih jenis transaksi"})}),e.jsxs(Le,{children:[e.jsx(le,{value:"manual",children:"Manual"}),e.jsx(le,{value:"spk",children:"SPK"})]})]})]})}function Ff({spks:t,value:s,onChange:a}){return e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"no_spk",children:"SPK"}),e.jsxs(He,{value:s,onValueChange:a,children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih SPK"})}),e.jsx(Le,{children:t?.map(r=>e.jsxs(le,{value:r.no_spk,children:[r.no_spk," - ",r.tanggal]},r.no_spk))})]})]})}function If({products:t,spkItems:s,isFromSPK:a,onChange:r}){return e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"produk_id",children:"Produk"}),e.jsxs(He,{onValueChange:r,children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih produk"})}),e.jsx(Le,{children:a&&s?s.map(n=>e.jsxs(le,{value:n.produk_id,children:[n.produk.nama," - ",n.produk.variant," (Sisa: ",n.sisa,")"]},n.id)):t?.map(n=>e.jsxs(le,{value:n.id,children:[n.nama," - ",n.variant]},n.id))})]})]})}function Of({open:t,onOpenChange:s,type:a}){const[r,n]=u.useState("manual"),[o,i]=u.useState(""),{register:l,handleSubmit:c,reset:d,watch:h,setValue:p}=St({defaultValues:{tanggal:new Date().toISOString().split("T")[0],jenis_tr:"manual"}}),m=Mf(),{data:f}=ff(),{data:g}=ta(),{toast:x}=ve(),v=h("jenis_tr"),y=f?.find(T=>T.no_spk===o),b=async T=>{if(a==="masuk"&&T.jenis_tr==="spk"&&y){const A=y.item_spk.find(ie=>ie.produk_id===T.produk_id);if(A&&T.qty>A.sisa){x({title:"Error",description:`Jumlah tidak boleh lebih dari sisa produk (${A.sisa})`,variant:"destructive"});return}}const C={tanggal:T.tanggal,keterangan:T.keterangan,produk_id:T.produk_id,jenis_tr:a==="masuk"?T.jenis_tr:"manual",jenis_in:a==="masuk"?"masuk":"keluar",no_spk:T.jenis_tr==="spk"?T.no_spk:null};a==="masuk"?(C.masuk=T.qty,C.keluar=null):(C.keluar=T.qty,C.masuk=null),await m.mutateAsync(C),d(),i(""),s(!1)},P=T=>{n(T),p("jenis_tr",T),i(""),p("produk_id","")},_=T=>{i(T),p("no_spk",T),p("produk_id","")};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-md",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:a==="masuk"?"Stok Masuk":"Stok Keluar"}),e.jsx(Ke,{children:a==="masuk"?"Tambahkan transaksi stok masuk":"Tambahkan transaksi stok keluar"})]}),e.jsxs("form",{onSubmit:c(b),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"tanggal",children:"Tanggal"}),e.jsx(G,{id:"tanggal",type:"date",...l("tanggal",{required:!0})})]}),a==="masuk"&&e.jsx(Af,{value:r,onChange:P}),a==="masuk"&&v==="spk"&&e.jsx(Ff,{spks:f||[],value:o,onChange:_}),e.jsx(If,{products:g,spkItems:y?.item_spk,isFromSPK:a==="masuk"&&v==="spk",onChange:T=>p("produk_id",T)}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"qty",children:"Jumlah"}),e.jsx(G,{id:"qty",type:"number",min:"1",...l("qty",{required:!0,min:1,valueAsNumber:!0})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"keterangan",children:"Keterangan"}),e.jsx(It,{id:"keterangan",placeholder:a==="masuk"&&v==="spk"?"Keterangan akan diisi otomatis berdasarkan SPK":"Masukkan keterangan transaksi",...l("keterangan",{required:!0})})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",disabled:m.isPending,children:m.isPending?"Menyimpan...":"Simpan"})]})]})]})})}function Lf({open:t,onOpenChange:s,transaction:a}){return a?e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-2xl",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Detail Transaksi Stok"}),e.jsx(Ke,{children:"Informasi lengkap transaksi stok"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(L,{children:"Informasi Transaksi"})}),e.jsxs(O,{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tanggal"}),e.jsx("p",{className:"font-semibold",children:new Date(a.tanggal).toLocaleDateString("id-ID")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Produk"}),e.jsx("p",{className:"font-semibold",children:a.produk?`${a.produk.nama} - ${a.produk.variant}`:"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Jenis Transaksi"}),e.jsx(X,{variant:a.jenis_in==="masuk"?"default":"destructive",children:a.jenis_in==="masuk"?e.jsxs(e.Fragment,{children:[e.jsx(ha,{className:"h-3 w-3 mr-1"})," Masuk"]}):e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"h-3 w-3 mr-1"})," Keluar"]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah"}),e.jsx("p",{className:"font-semibold",children:a.masuk?e.jsxs("span",{className:"text-green-600",children:["+",a.masuk]}):a.keluar?e.jsxs("span",{className:"text-red-600",children:["-",a.keluar]}):"-"})]}),a.no_spk&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Referensi SPK"}),e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:a.no_spk})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Jenis Transaksi"}),e.jsx("p",{className:"font-semibold capitalize",children:a.jenis_tr||"-"})]})]})]}),a.keterangan&&e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(L,{children:"Keterangan"})}),e.jsx(O,{children:e.jsx("p",{className:"text-sm",children:a.keterangan})})]})]})]})}):null}function Kf({onFilter:t}){const[s,a]=u.useState(!1),[r,n]=u.useState(""),[o,i]=u.useState(""),l=()=>{r&&o&&(t(r,o),a(!1))},c=()=>{n(""),i(""),t("",""),a(!1)};return e.jsxs(Me,{open:s,onOpenChange:a,children:[e.jsx(Ri,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:[e.jsx(ma,{className:"h-4 w-4 mr-2"}),"Filter Periode"]})}),e.jsxs(Se,{className:"max-w-md",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Filter Periode"}),e.jsx(Ke,{children:"Pilih rentang tanggal untuk filter data stok"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"start-date",children:"Tanggal Mulai"}),e.jsx(G,{id:"start-date",type:"date",value:r,onChange:d=>n(d.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"end-date",children:"Tanggal Akhir"}),e.jsx(G,{id:"end-date",type:"date",value:o,onChange:d=>i(d.target.value)})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:c,children:"Reset"}),e.jsx(S,{onClick:l,disabled:!r||!o,children:"Terapkan Filter"})]})]})]})]})}function $f({onPeriodFilter:t}){return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(ja,{className:"h-8 w-8 text-primary"}),"Manajemen Stok"]}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor pergerakan stok masuk dan keluar"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Kf,{onFilter:t})})]})}function qf({totalMasuk:t,totalKeluar:s,saldoAkhir:a}){const r=Ze(),n=[{label:"Total Stok Masuk",value:t,icon:ha,valueClass:"text-green-600",iconClass:"text-green-600",desc:"Unit masuk periode ini"},{label:"Total Stok Keluar",value:s,icon:za,valueClass:"text-red-600",iconClass:"text-red-600",desc:"Unit keluar periode ini"},{label:"Saldo Stok",value:a,icon:ja,valueClass:"text-blue-600",iconClass:"text-blue-600",desc:"Unit tersedia saat ini"}];if(r){const o=n[2];return e.jsx("div",{className:"mb-2",children:e.jsx(F,{className:"card-hover p-2 flex flex-row items-center gap-2",children:e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 p-2 w-auto",children:[e.jsxs("div",{children:[e.jsx(L,{className:"text-xs font-semibold",children:o.label}),e.jsx("div",{className:`text-sm font-bold mt-1 ${o.valueClass}`,children:o.value}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:o.desc})]}),e.jsx(o.icon,{className:`${o.iconClass} h-5 w-5 ml-2`})]})})})}return e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:n.map(o=>e.jsxs(F,{className:"card-hover transition-all",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:o.label}),e.jsx(o.icon,{className:`h-7 w-7 ${o.iconClass}`})]}),e.jsxs(O,{children:[e.jsx("div",{className:`text-2xl font-bold mt-2 ${o.valueClass}`,children:o.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.desc})]})]},o.label))})}function zf({searchTerm:t,onSearchChange:s}){return e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Filter & Pencarian"})}),e.jsx(O,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari transaksi stok...",value:t,onChange:a=>s(a.target.value),className:"pl-10"})]}),e.jsx(S,{variant:"outline",children:"Filter Jenis"})]})})]})}function Wf({transactions:t,isLoading:s,error:a,onDetail:r,onEdit:n,onDelete:o}){const i=Ze();return s?e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Transaksi Stok"})}),e.jsx(O,{children:e.jsx("div",{className:i?"space-y-3":"space-y-4",children:[1,2,3,4,5].map(l=>i?e.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(ae,{className:"h-5 w-20"}),e.jsx(ae,{className:"h-5 w-12"})]}),e.jsx(ae,{className:"h-4 w-24"}),e.jsx(ae,{className:"h-5 w-1/2"}),e.jsx(ae,{className:"h-4 w-20"})]},l):e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx(ae,{className:"h-6 w-32 mb-2"}),e.jsx(ae,{className:"h-4 w-24"})]},l))})})]}):a?e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Transaksi Stok"})}),e.jsx(O,{children:e.jsxs("div",{className:"text-center py-8 text-destructive",children:["Error loading stock data: ",a.message]})})]}):t.length===0?e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Transaksi Stok"}),e.jsx(ye,{children:"Total 0 transaksi ditemukan"})]}),e.jsx(O,{children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada transaksi stok ditemukan"})})]}):i?e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Transaksi Stok"}),e.jsxs(ye,{children:["Total ",t.length," transaksi ditemukan"]})]}),e.jsx(O,{children:e.jsx("div",{className:"flex flex-col gap-3",children:t.map(l=>e.jsxs("div",{className:"rounded-xl border p-3 flex flex-col gap-1 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-sm text-blue-700",children:l.produk?`${l.produk.nama} - ${l.produk.variant}`:"-"}),l.masuk&&l.masuk>0?e.jsxs(X,{variant:"default",className:"bg-green-500",children:[e.jsx(ha,{className:"h-3 w-3 mr-1"}),"Masuk"]}):e.jsxs(X,{variant:"destructive",children:[e.jsx(za,{className:"h-3 w-3 mr-1"}),"Keluar"]})]}),e.jsxs("div",{className:"flex justify-between gap-3 text-xs my-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),e.jsx("span",{children:fe(new Date(l.tanggal),"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex justify-between gap-3 text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Jumlah:"}),e.jsx("span",{className:l.masuk?"text-green-600 font-bold":"text-red-600 font-bold",children:l.masuk||l.keluar})]}),l.no_spk&&e.jsxs("div",{className:"flex justify-between gap-3 text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"No SPK:"}),e.jsx(X,{variant:"outline",className:"px-1 py-0 min-w-[36px] text-xs",children:l.no_spk})]}),l.keterangan&&e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Ket.:"}),e.jsx("span",{className:"truncate text-xs",children:l.keterangan})]}),e.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[e.jsx(S,{size:"icon",variant:"outline",className:"button-hover p-2 h-8 w-8",onClick:()=>r(l),children:e.jsx(ct,{className:"h-4 w-4"})}),e.jsx(S,{size:"icon",variant:"outline",className:"button-hover p-2 h-8 w-8",onClick:()=>n(l),children:e.jsx(st,{className:"h-4 w-4"})}),e.jsx(S,{size:"icon",variant:"outline",className:"button-hover text-destructive p-2 h-8 w-8",onClick:()=>o(l.id),children:e.jsx(We,{className:"h-4 w-4"})})]})]},l.id))})})]}):e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Transaksi Stok"}),e.jsxs(ye,{children:["Total ",t.length," transaksi ditemukan"]})]}),e.jsx(O,{children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Tanggal"}),e.jsx(N,{children:"Produk"}),e.jsx(N,{children:"Jenis"}),e.jsx(N,{children:"Masuk"}),e.jsx(N,{children:"Keluar"}),e.jsx(N,{children:"No SPK"}),e.jsx(N,{children:"Keterangan"}),e.jsx(N,{children:"Aksi"})]})}),e.jsx(ke,{children:t.map(l=>e.jsxs(V,{className:"smooth-transition hover:bg-muted/50",children:[e.jsx(k,{children:fe(new Date(l.tanggal),"dd/MM/yyyy")}),e.jsx(k,{className:"font-medium",children:l.produk?`${l.produk.nama} - ${l.produk.variant}`:"-"}),e.jsx(k,{children:l.masuk&&l.masuk>0?e.jsxs(X,{variant:"default",className:"bg-green-500",children:[e.jsx(ha,{className:"h-3 w-3 mr-1"}),"Masuk"]}):e.jsxs(X,{variant:"destructive",children:[e.jsx(za,{className:"h-3 w-3 mr-1"}),"Keluar"]})}),e.jsx(k,{className:"text-green-600 font-medium",children:l.masuk||"-"}),e.jsx(k,{className:"text-red-600 font-medium",children:l.keluar||"-"}),e.jsx(k,{children:l.no_spk?e.jsx(X,{variant:"outline",children:l.no_spk}):"-"}),e.jsx(k,{className:"max-w-[200px] truncate",children:l.keterangan||"-"}),e.jsx(k,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:()=>r(l),children:e.jsx(ct,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:()=>n(l),children:e.jsx(st,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"button-hover text-destructive",onClick:()=>o(l.id),children:e.jsx(We,{className:"h-4 w-4"})})]})})]},l.id))})]})})]})}var $=function(){return $=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},$.apply(this,arguments)};function Hf(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function hl(t,s,a){for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}function Ca(t){return t.mode==="multiple"}function Pa(t){return t.mode==="range"}function cs(t){return t.mode==="single"}var Bf={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Vf(t,s){return fe(t,"LLLL y",s)}function Yf(t,s){return fe(t,"d",s)}function Gf(t,s){return fe(t,"LLLL",s)}function Uf(t){return"".concat(t)}function Qf(t,s){return fe(t,"cccccc",s)}function Xf(t,s){return fe(t,"yyyy",s)}var Jf=Object.freeze({__proto__:null,formatCaption:Vf,formatDay:Yf,formatMonthCaption:Gf,formatWeekNumber:Uf,formatWeekdayName:Qf,formatYearCaption:Xf}),Zf=function(t,s,a){return fe(t,"do MMMM (EEEE)",a)},ex=function(){return"Month: "},tx=function(){return"Go to next month"},ax=function(){return"Go to previous month"},sx=function(t,s){return fe(t,"cccc",s)},rx=function(t){return"Week n. ".concat(t)},nx=function(){return"Year: "},ox=Object.freeze({__proto__:null,labelDay:Zf,labelMonthDropdown:ex,labelNext:tx,labelPrevious:ax,labelWeekNumber:rx,labelWeekday:sx,labelYearDropdown:nx});function ix(){var t="buttons",s=Bf,a=Pi,r={},n={},o=1,i={},l=new Date;return{captionLayout:t,classNames:s,formatters:Jf,labels:ox,locale:a,modifiersClassNames:r,modifiers:n,numberOfMonths:o,styles:i,today:l,mode:"default"}}function lx(t){var s=t.fromYear,a=t.toYear,r=t.fromMonth,n=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=ze(r):s&&(o=new Date(s,0,1)),n?i=vr(n):a&&(i=new Date(a,11,31)),{fromDate:o?Ut(o):void 0,toDate:i?Ut(i):void 0}}var pl=u.createContext(void 0);function cx(t){var s,a=t.initialProps,r=ix(),n=lx(a),o=n.fromDate,i=n.toDate,l=(s=a.captionLayout)!==null&&s!==void 0?s:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(cs(a)||Ca(a)||Pa(a))&&(c=a.onSelect);var d=$($($({},r),a),{captionLayout:l,classNames:$($({},r.classNames),a.classNames),components:$({},a.components),formatters:$($({},r.formatters),a.formatters),fromDate:o,labels:$($({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:$($({},r.modifiers),a.modifiers),modifiersClassNames:$($({},r.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:$($({},r.styles),a.styles),toDate:i});return e.jsx(pl.Provider,{value:d,children:t.children})}function me(){var t=u.useContext(pl);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function fl(t){var s=me(),a=s.locale,r=s.classNames,n=s.styles,o=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:a})})}function dx(t){return e.jsx("svg",$({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xl(t){var s,a,r=t.onChange,n=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,d=me(),h=(a=(s=d.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&a!==void 0?a:dx;return e.jsxs("div",{className:l,style:c,children:[e.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:n,onChange:r,children:o}),e.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function ux(t){var s,a=me(),r=a.fromDate,n=a.toDate,o=a.styles,i=a.locale,l=a.formatters.formatMonthCaption,c=a.classNames,d=a.components,h=a.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var p=[];if(vp(r,n))for(var m=ze(r),f=r.getMonth();f<=n.getMonth();f++)p.push(js(m,f));else for(var m=ze(new Date),f=0;f<=11;f++)p.push(js(m,f));var g=function(v){var y=Number(v.target.value),b=js(ze(t.displayMonth),y);t.onChange(b)},x=(s=d?.Dropdown)!==null&&s!==void 0?s:xl;return e.jsx(x,{name:"months","aria-label":h(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:p.map(function(v){return e.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function mx(t){var s,a=t.displayMonth,r=me(),n=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,d=r.components,h=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,m=[];if(!n)return e.jsx(e.Fragment,{});if(!o)return e.jsx(e.Fragment,{});for(var f=n.getFullYear(),g=o.getFullYear(),x=f;x<=g;x++)m.push(pn(Si(new Date),x));var v=function(b){var P=pn(ze(a),Number(b.target.value));t.onChange(P)},y=(s=d?.Dropdown)!==null&&s!==void 0?s:xl;return e.jsx(y,{name:"years","aria-label":p(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:a.getFullYear(),caption:h(a,{locale:i}),children:m.map(function(b){return e.jsx("option",{value:b.getFullYear(),children:h(b,{locale:i})},b.getFullYear())})})}function hx(t,s){var a=u.useState(t),r=a[0],n=a[1],o=s===void 0?r:s;return[o,n]}function px(t){var s=t.month,a=t.defaultMonth,r=t.today,n=s||a||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&pa(o,n)<0){var d=-1*(c-1);n=Xe(o,d)}return i&&pa(n,i)<0&&(n=i),ze(n)}function fx(){var t=me(),s=px(t),a=hx(s,t.month),r=a[0],n=a[1],o=function(i){var l;if(!t.disableNavigation){var c=ze(i);n(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function xx(t,s){for(var a=s.reverseMonths,r=s.numberOfMonths,n=ze(t),o=ze(Xe(n,r)),i=pa(o,n),l=[],c=0;c<i;c++){var d=Xe(n,c);l.push(d)}return a&&(l=l.reverse()),l}function gx(t,s){if(!s.disableNavigation){var a=s.toDate,r=s.pagedNavigation,n=s.numberOfMonths,o=n===void 0?1:n,i=r?o:1,l=ze(t);if(!a)return Xe(l,i);var c=pa(a,t);if(!(c<o))return Xe(l,i)}}function vx(t,s){if(!s.disableNavigation){var a=s.fromDate,r=s.pagedNavigation,n=s.numberOfMonths,o=n===void 0?1:n,i=r?o:1,l=ze(t);if(!a)return Xe(l,-i);var c=pa(l,a);if(!(c<=0))return Xe(l,-i)}}var gl=u.createContext(void 0);function bx(t){var s=me(),a=fx(),r=a[0],n=a[1],o=xx(r,s),i=gx(r,s),l=vx(r,s),c=function(p){return o.some(function(m){return jr(p,m)})},d=function(p,m){c(p)||(m&&yr(p,m)?n(Xe(p,1+s.numberOfMonths*-1)):n(p))},h={currentMonth:r,displayMonths:o,goToMonth:n,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return e.jsx(gl.Provider,{value:h,children:t.children})}function _a(){var t=u.useContext(gl);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function gn(t){var s,a=me(),r=a.classNames,n=a.styles,o=a.components,i=_a().goToMonth,l=function(h){i(Xe(h,t.displayIndex?-t.displayIndex:0))},c=(s=o?.CaptionLabel)!==null&&s!==void 0?s:fl,d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:d}),e.jsx(ux,{onChange:l,displayMonth:t.displayMonth}),e.jsx(mx,{onChange:l,displayMonth:t.displayMonth})]})}function yx(t){return e.jsx("svg",$({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jx(t){return e.jsx("svg",$({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ya=u.forwardRef(function(t,s){var a=me(),r=a.classNames,n=a.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=$($({},n.button_reset),n.button);return t.style&&Object.assign(l,t.style),e.jsx("button",$({},t,{ref:s,type:"button",className:i,style:l}))});function wx(t){var s,a,r=me(),n=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,h=c.labelNext,p=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var m=d(t.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),g=h(t.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),v=(s=p?.IconRight)!==null&&s!==void 0?s:jx,y=(a=p?.IconLeft)!==null&&a!==void 0?a:yx;return e.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Ya,{name:"previous-month","aria-label":m,className:f,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(v,{className:i.nav_icon,style:l.nav_icon}):e.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Ya,{name:"next-month","aria-label":g,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:l.nav_icon}):e.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function vn(t){var s=me().numberOfMonths,a=_a(),r=a.previousMonth,n=a.nextMonth,o=a.goToMonth,i=a.displayMonths,l=i.findIndex(function(g){return jr(t.displayMonth,g)}),c=l===0,d=l===i.length-1,h=s>1&&(c||!d),p=s>1&&(d||!c),m=function(){r&&o(r)},f=function(){n&&o(n)};return e.jsx(wx,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:p,nextMonth:n,previousMonth:r,onPreviousClick:m,onNextClick:f})}function kx(t){var s,a=me(),r=a.classNames,n=a.disableNavigation,o=a.styles,i=a.captionLayout,l=a.components,c=(s=l?.CaptionLabel)!==null&&s!==void 0?s:fl,d;return n?d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?d=e.jsx(gn,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?d=e.jsxs(e.Fragment,{children:[e.jsx(gn,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(vn,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(vn,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:o.caption,children:d})}function Nx(t){var s=me(),a=s.footer,r=s.styles,n=s.classNames.tfoot;return a?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:a})})}):e.jsx(e.Fragment,{})}function Sx(t,s,a){for(var r=a?Et(new Date):rt(new Date,{locale:t,weekStartsOn:s}),n=[],o=0;o<7;o++){var i=Ee(r,o);n.push(i)}return n}function Cx(){var t=me(),s=t.classNames,a=t.styles,r=t.showWeekNumber,n=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=Sx(n,o,i);return e.jsxs("tr",{style:a.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:a.head_cell,className:s.head_cell}),d.map(function(h,p){return e.jsx("th",{scope:"col",className:s.head_cell,style:a.head_cell,"aria-label":c(h,{locale:n}),children:l(h,{locale:n})},p)})]})}function Px(){var t,s=me(),a=s.classNames,r=s.styles,n=s.components,o=(t=n?.HeadRow)!==null&&t!==void 0?t:Cx;return e.jsx("thead",{style:r.head,className:a.head,children:e.jsx(o,{})})}function _x(t){var s=me(),a=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:a})})}var kr=u.createContext(void 0);function Dx(t){if(!Ca(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(kr.Provider,{value:s,children:t.children})}return e.jsx(Tx,{initialProps:t.initialProps,children:t.children})}function Tx(t){var s=t.initialProps,a=t.children,r=s.selected,n=s.min,o=s.max,i=function(d,h,p){var m,f;(m=s.onDayClick)===null||m===void 0||m.call(s,d,h,p);var g=!!(h.selected&&n&&r?.length===n);if(!g){var x=!!(!h.selected&&o&&r?.length===o);if(!x){var v=r?hl([],r):[];if(h.selected){var y=v.findIndex(function(b){return $e(d,b)});v.splice(y,1)}else v.push(d);(f=s.onSelect)===null||f===void 0||f.call(s,v,d,h,p)}}},l={disabled:[]};r&&l.disabled.push(function(d){var h=o&&r.length>o-1,p=r.some(function(m){return $e(m,d)});return!!(h&&!p)});var c={selected:r,onDayClick:i,modifiers:l};return e.jsx(kr.Provider,{value:c,children:a})}function Nr(){var t=u.useContext(kr);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Mx(t,s){var a=s||{},r=a.from,n=a.to;return r&&n?$e(n,t)&&$e(r,t)?void 0:$e(n,t)?{from:n,to:void 0}:$e(r,t)?void 0:Ls(r,t)?{from:t,to:n}:{from:r,to:t}:n?Ls(t,n)?{from:n,to:t}:{from:t,to:n}:r?yr(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Sr=u.createContext(void 0);function Ex(t){if(!Pa(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Sr.Provider,{value:s,children:t.children})}return e.jsx(Rx,{initialProps:t.initialProps,children:t.children})}function Rx(t){var s=t.initialProps,a=t.children,r=s.selected,n=r||{},o=n.from,i=n.to,l=s.min,c=s.max,d=function(f,g,x){var v,y;(v=s.onDayClick)===null||v===void 0||v.call(s,f,g,x);var b=Mx(f,r);(y=s.onSelect)===null||y===void 0||y.call(s,b,f,g,x)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],$e(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),l&&(o&&!i&&h.disabled.push({after:bs(o,l-1),before:Ee(o,l-1)}),o&&i&&h.disabled.push({after:o,before:Ee(o,l-1)}),!o&&i&&h.disabled.push({after:bs(i,l-1),before:Ee(i,l-1)})),c){if(o&&!i&&(h.disabled.push({before:Ee(o,-c+1)}),h.disabled.push({after:Ee(o,c-1)})),o&&i){var p=at(i,o)+1,m=c-p;h.disabled.push({before:bs(o,m)}),h.disabled.push({after:Ee(i,m)})}!o&&i&&(h.disabled.push({before:Ee(i,-c+1)}),h.disabled.push({after:Ee(i,c-1)}))}return e.jsx(Sr.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:a})}function Cr(){var t=u.useContext(Sr);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function $a(t){return Array.isArray(t)?hl([],t):t!==void 0?[t]:[]}function Ax(t){var s={};return Object.entries(t).forEach(function(a){var r=a[0],n=a[1];s[r]=$a(n)}),s}var Je;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Je||(Je={}));var Fx=Je.Selected,it=Je.Disabled,Ix=Je.Hidden,Ox=Je.Today,ws=Je.RangeEnd,ks=Je.RangeMiddle,Ns=Je.RangeStart,Lx=Je.Outside;function Kx(t,s,a){var r,n=(r={},r[Fx]=$a(t.selected),r[it]=$a(t.disabled),r[Ix]=$a(t.hidden),r[Ox]=[t.today],r[ws]=[],r[ks]=[],r[Ns]=[],r[Lx]=[],r);return t.fromDate&&n[it].push({before:t.fromDate}),t.toDate&&n[it].push({after:t.toDate}),Ca(t)?n[it]=n[it].concat(s.modifiers[it]):Pa(t)&&(n[it]=n[it].concat(a.modifiers[it]),n[Ns]=a.modifiers[Ns],n[ks]=a.modifiers[ks],n[ws]=a.modifiers[ws]),n}var vl=u.createContext(void 0);function $x(t){var s=me(),a=Nr(),r=Cr(),n=Kx(s,a,r),o=Ax(s.modifiers),i=$($({},n),o);return e.jsx(vl.Provider,{value:i,children:t.children})}function bl(){var t=u.useContext(vl);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function qx(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function zx(t){return!!(t&&typeof t=="object"&&"from"in t)}function Wx(t){return!!(t&&typeof t=="object"&&"after"in t)}function Hx(t){return!!(t&&typeof t=="object"&&"before"in t)}function Bx(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Vx(t,s){var a,r=s.from,n=s.to;if(r&&n){var o=at(n,r)<0;o&&(a=[n,r],r=a[0],n=a[1]);var i=at(t,r)>=0&&at(n,t)>=0;return i}return n?$e(n,t):r?$e(r,t):!1}function Yx(t){return gr(t)}function Gx(t){return Array.isArray(t)&&t.every(gr)}function Ux(t,s){return s.some(function(a){if(typeof a=="boolean")return a;if(Yx(a))return $e(t,a);if(Gx(a))return a.includes(t);if(zx(a))return Vx(t,a);if(Bx(a))return a.dayOfWeek.includes(t.getDay());if(qx(a)){var r=at(a.before,t),n=at(a.after,t),o=r>0,i=n<0,l=Ls(a.before,a.after);return l?i&&o:o||i}return Wx(a)?at(t,a.after)>0:Hx(a)?at(a.before,t)>0:typeof a=="function"?a(t):!1})}function Pr(t,s,a){var r=Object.keys(s).reduce(function(o,i){var l=s[i];return Ux(t,l)&&o.push(i),o},[]),n={};return r.forEach(function(o){return n[o]=!0}),a&&!jr(t,a)&&(n.outside=!0),n}function Qx(t,s){for(var a=ze(t[0]),r=vr(t[t.length-1]),n,o,i=a;i<=r;){var l=Pr(i,s),c=!l.disabled&&!l.hidden;if(!c){i=Ee(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),n||(n=i),i=Ee(i,1)}return o||n}var Xx=365;function yl(t,s){var a=s.moveBy,r=s.direction,n=s.context,o=s.modifiers,i=s.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=n.weekStartsOn,d=n.fromDate,h=n.toDate,p=n.locale,m={day:Ee,week:Os,month:Xe,year:ph,startOfWeek:function(v){return n.ISOWeek?Et(v):rt(v,{locale:p,weekStartsOn:c})},endOfWeek:function(v){return n.ISOWeek?Ci(v):br(v,{locale:p,weekStartsOn:c})}},f=m[a](t,r==="after"?1:-1);r==="before"&&d?f=fh([d,f]):r==="after"&&h&&(f=xh([h,f]));var g=!0;if(o){var x=Pr(f,o);g=!x.disabled&&!x.hidden}return g?f:l.count>Xx?l.lastFocused:yl(f,{moveBy:a,direction:r,context:n,modifiers:o,retry:$($({},l),{count:l.count+1})})}var jl=u.createContext(void 0);function Jx(t){var s=_a(),a=bl(),r=u.useState(),n=r[0],o=r[1],i=u.useState(),l=i[0],c=i[1],d=Qx(s.displayMonths,a),h=n??(l&&s.isDateDisplayed(l))?l:d,p=function(){c(n),o(void 0)},m=function(v){o(v)},f=me(),g=function(v,y){if(n){var b=yl(n,{moveBy:v,direction:y,context:f,modifiers:a});$e(n,b)||(s.goToDate(b,n),m(b))}},x={focusedDay:n,focusTarget:h,blur:p,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return e.jsx(jl.Provider,{value:x,children:t.children})}function _r(){var t=u.useContext(jl);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Zx(t,s){var a=bl(),r=Pr(t,a,s);return r}var Dr=u.createContext(void 0);function eg(t){if(!cs(t.initialProps)){var s={selected:void 0};return e.jsx(Dr.Provider,{value:s,children:t.children})}return e.jsx(tg,{initialProps:t.initialProps,children:t.children})}function tg(t){var s=t.initialProps,a=t.children,r=function(o,i,l){var c,d,h;if((c=s.onDayClick)===null||c===void 0||c.call(s,o,i,l),i.selected&&!s.required){(d=s.onSelect)===null||d===void 0||d.call(s,void 0,o,i,l);return}(h=s.onSelect)===null||h===void 0||h.call(s,o,o,i,l)},n={selected:s.selected,onDayClick:r};return e.jsx(Dr.Provider,{value:n,children:a})}function wl(){var t=u.useContext(Dr);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function ag(t,s){var a=me(),r=wl(),n=Nr(),o=Cr(),i=_r(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,h=i.focusWeekBefore,p=i.blur,m=i.focus,f=i.focusMonthBefore,g=i.focusMonthAfter,x=i.focusYearBefore,v=i.focusYearAfter,y=i.focusStartOfWeek,b=i.focusEndOfWeek,P=function(R){var j,se,re,q;cs(a)?(j=r.onDayClick)===null||j===void 0||j.call(r,t,s,R):Ca(a)?(se=n.onDayClick)===null||se===void 0||se.call(n,t,s,R):Pa(a)?(re=o.onDayClick)===null||re===void 0||re.call(o,t,s,R):(q=a.onDayClick)===null||q===void 0||q.call(a,t,s,R)},_=function(R){var j;m(t),(j=a.onDayFocus)===null||j===void 0||j.call(a,t,s,R)},T=function(R){var j;p(),(j=a.onDayBlur)===null||j===void 0||j.call(a,t,s,R)},C=function(R){var j;(j=a.onDayMouseEnter)===null||j===void 0||j.call(a,t,s,R)},A=function(R){var j;(j=a.onDayMouseLeave)===null||j===void 0||j.call(a,t,s,R)},ie=function(R){var j;(j=a.onDayPointerEnter)===null||j===void 0||j.call(a,t,s,R)},xe=function(R){var j;(j=a.onDayPointerLeave)===null||j===void 0||j.call(a,t,s,R)},ce=function(R){var j;(j=a.onDayTouchCancel)===null||j===void 0||j.call(a,t,s,R)},U=function(R){var j;(j=a.onDayTouchEnd)===null||j===void 0||j.call(a,t,s,R)},z=function(R){var j;(j=a.onDayTouchMove)===null||j===void 0||j.call(a,t,s,R)},ge=function(R){var j;(j=a.onDayTouchStart)===null||j===void 0||j.call(a,t,s,R)},K=function(R){var j;(j=a.onDayKeyUp)===null||j===void 0||j.call(a,t,s,R)},oe=function(R){var j;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),a.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),a.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),d();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),h();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?x():f();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?v():g();break;case"Home":R.preventDefault(),R.stopPropagation(),y();break;case"End":R.preventDefault(),R.stopPropagation(),b();break}(j=a.onDayKeyDown)===null||j===void 0||j.call(a,t,s,R)},J={onClick:P,onFocus:_,onBlur:T,onKeyDown:oe,onKeyUp:K,onMouseEnter:C,onMouseLeave:A,onPointerEnter:ie,onPointerLeave:xe,onTouchCancel:ce,onTouchEnd:U,onTouchMove:z,onTouchStart:ge};return J}function sg(){var t=me(),s=wl(),a=Nr(),r=Cr(),n=cs(t)?s.selected:Ca(t)?a.selected:Pa(t)?r.selected:void 0;return n}function rg(t){return Object.values(Je).includes(t)}function ng(t,s){var a=[t.classNames.day];return Object.keys(s).forEach(function(r){var n=t.modifiersClassNames[r];if(n)a.push(n);else if(rg(r)){var o=t.classNames["day_".concat(r)];o&&a.push(o)}}),a}function og(t,s){var a=$({},t.styles.day);return Object.keys(s).forEach(function(r){var n;a=$($({},a),(n=t.modifiersStyles)===null||n===void 0?void 0:n[r])}),a}function ig(t,s,a){var r,n,o,i=me(),l=_r(),c=Zx(t,s),d=ag(t,c),h=sg(),p=!!(i.onDayClick||i.mode!=="default");u.useEffect(function(){var C;c.outside||l.focusedDay&&p&&$e(l.focusedDay,t)&&((C=a.current)===null||C===void 0||C.focus())},[l.focusedDay,t,a,p,c.outside]);var m=ng(i,c).join(" "),f=og(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(o=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&o!==void 0?o:_x,v=e.jsx(x,{date:t,displayMonth:s,activeModifiers:c}),y={style:f,className:m,children:v,role:"gridcell"},b=l.focusTarget&&$e(l.focusTarget,t)&&!c.outside,P=l.focusedDay&&$e(l.focusedDay,t),_=$($($({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=P||b?0:-1,r)),d),T={isButton:p,isHidden:g,activeModifiers:c,selectedDays:h,buttonProps:_,divProps:y};return T}function lg(t){var s=u.useRef(null),a=ig(t.date,t.displayMonth,s);return a.isHidden?e.jsx("div",{role:"gridcell"}):a.isButton?e.jsx(Ya,$({name:"day",ref:s},a.buttonProps)):e.jsx("div",$({},a.divProps))}function cg(t){var s=t.number,a=t.dates,r=me(),n=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(s),{locale:l});if(!n)return e.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var p=c(Number(s),{locale:l}),m=function(f){n(s,a,f)};return e.jsx(Ya,{name:"week-number","aria-label":p,className:i.weeknumber,style:o.weeknumber,onClick:m,children:h})}function dg(t){var s,a,r=me(),n=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(s=l?.Day)!==null&&s!==void 0?s:lg,d=(a=l?.WeekNumber)!==null&&a!==void 0?a:cg,h;return i&&(h=e.jsx("td",{className:o.cell,style:n.cell,children:e.jsx(d,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:o.row,style:n.row,children:[h,t.dates.map(function(p){return e.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:p})},fp(p))})]})}function bn(t,s,a){for(var r=a?.ISOWeek?Ci(s):br(s,a),n=a?.ISOWeek?Et(t):rt(t,a),o=at(r,n),i=[],l=0;l<=o;l++)i.push(Ee(n,l));var c=i.reduce(function(d,h){var p=a?.ISOWeek?_i(h):Ti(h,a),m=d.find(function(f){return f.weekNumber===p});return m?(m.dates.push(h),d):(d.push({weekNumber:p,dates:[h]}),d)},[]);return c}function ug(t,s){var a=bn(ze(t),vr(t),s);if(s?.useFixedWeeks){var r=gp(t,s);if(r<6){var n=a[a.length-1],o=n.dates[n.dates.length-1],i=Os(o,6-r),l=bn(Os(o,1),i,s);a.push.apply(a,l)}}return a}function mg(t){var s,a,r,n=me(),o=n.locale,i=n.classNames,l=n.styles,c=n.hideHead,d=n.fixedWeeks,h=n.components,p=n.weekStartsOn,m=n.firstWeekContainsDate,f=n.ISOWeek,g=ug(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:o,weekStartsOn:p,firstWeekContainsDate:m}),x=(s=h?.Head)!==null&&s!==void 0?s:Px,v=(a=h?.Row)!==null&&a!==void 0?a:dg,y=(r=h?.Footer)!==null&&r!==void 0?r:Nx;return e.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(x,{}),e.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(b){return e.jsx(v,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),e.jsx(y,{displayMonth:t.displayMonth})]})}function hg(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pg=hg()?u.useLayoutEffect:u.useEffect,Ss=!1,fg=0;function yn(){return"react-day-picker-".concat(++fg)}function xg(t){var s,a=t??(Ss?yn():null),r=u.useState(a),n=r[0],o=r[1];return pg(function(){n===null&&o(yn())},[]),u.useEffect(function(){Ss===!1&&(Ss=!0)},[]),(s=t??n)!==null&&s!==void 0?s:void 0}function gg(t){var s,a,r=me(),n=r.dir,o=r.classNames,i=r.styles,l=r.components,c=_a().displayMonths,d=xg(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,p=[o.month],m=i.month,f=t.displayIndex===0,g=t.displayIndex===c.length-1,x=!f&&!g;n==="rtl"&&(s=[f,g],g=s[0],f=s[1]),f&&(p.push(o.caption_start),m=$($({},m),i.caption_start)),g&&(p.push(o.caption_end),m=$($({},m),i.caption_end)),x&&(p.push(o.caption_between),m=$($({},m),i.caption_between));var v=(a=l?.Caption)!==null&&a!==void 0?a:kx;return e.jsxs("div",{className:p.join(" "),style:m,children:[e.jsx(v,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(mg,{id:h,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function vg(t){var s=me(),a=s.classNames,r=s.styles;return e.jsx("div",{className:a.months,style:r.months,children:t.children})}function bg(t){var s,a,r=t.initialProps,n=me(),o=_r(),i=_a(),l=u.useState(!1),c=l[0],d=l[1];u.useEffect(function(){n.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[n.initialFocus,c,o.focus,o.focusTarget,o]);var h=[n.classNames.root,n.className];n.numberOfMonths>1&&h.push(n.classNames.multiple_months),n.showWeekNumber&&h.push(n.classNames.with_weeknumber);var p=$($({},n.styles.root),n.style),m=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,x){var v;return $($({},g),(v={},v[x]=r[x],v))},{}),f=(a=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&a!==void 0?a:vg;return e.jsx("div",$({className:h.join(" "),style:p,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:e.jsx(f,{children:i.displayMonths.map(function(g,x){return e.jsx(gg,{displayIndex:x,displayMonth:g},x)})})}))}function yg(t){var s=t.children,a=Hf(t,["children"]);return e.jsx(cx,{initialProps:a,children:e.jsx(bx,{children:e.jsx(eg,{initialProps:a,children:e.jsx(Dx,{initialProps:a,children:e.jsx(Ex,{initialProps:a,children:e.jsx($x,{children:e.jsx(Jx,{children:s})})})})})})})}function jg(t){return e.jsx(yg,$({},t,{children:e.jsx(bg,{initialProps:t})}))}function Ga({className:t,classNames:s,showOutsideDays:a=!0,...r}){return e.jsx(jg,{showOutsideDays:a,className:w("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:w(Gt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:w(Gt({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({...n})=>e.jsx(jo,{className:"h-4 w-4"}),IconRight:({...n})=>e.jsx(Zt,{className:"h-4 w-4"})},...r})}Ga.displayName="Calendar";var Tr="Popover",[kl,Zv]=Xt(Tr,[Qa]),Da=Qa(),[wg,Pt]=kl(Tr),Nl=t=>{const{__scopePopover:s,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:i=!1}=t,l=Da(s),c=u.useRef(null),[d,h]=u.useState(!1),[p=!1,m]=xa({prop:r,defaultProp:n,onChange:o});return e.jsx(_n,{...l,children:e.jsx(wg,{scope:s,contentId:Xa(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:d,onCustomAnchorAdd:u.useCallback(()=>h(!0),[]),onCustomAnchorRemove:u.useCallback(()=>h(!1),[]),modal:i,children:a})})};Nl.displayName=Tr;var Sl="PopoverAnchor",kg=u.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Pt(Sl,a),o=Da(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=n;return u.useEffect(()=>(i(),()=>l()),[i,l]),e.jsx(Hs,{...o,...r,ref:s})});kg.displayName=Sl;var Cl="PopoverTrigger",Pl=u.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Pt(Cl,a),o=Da(a),i=gt(s,n.triggerRef),l=e.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":El(n.open),...r,ref:i,onClick:ue(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:e.jsx(Hs,{asChild:!0,...o,children:l})});Pl.displayName=Cl;var Mr="PopoverPortal",[Ng,Sg]=kl(Mr,{forceMount:void 0}),_l=t=>{const{__scopePopover:s,forceMount:a,children:r,container:n}=t,o=Pt(Mr,s);return e.jsx(Ng,{scope:s,forceMount:a,children:e.jsx(Jt,{present:a||o.open,children:e.jsx(wn,{asChild:!0,container:n,children:r})})})};_l.displayName=Mr;var Qt="PopoverContent",Dl=u.forwardRef((t,s)=>{const a=Sg(Qt,t.__scopePopover),{forceMount:r=a.forceMount,...n}=t,o=Pt(Qt,t.__scopePopover);return e.jsx(Jt,{present:r||o.open,children:o.modal?e.jsx(Cg,{...n,ref:s}):e.jsx(Pg,{...n,ref:s})})});Dl.displayName=Qt;var Cg=u.forwardRef((t,s)=>{const a=Pt(Qt,t.__scopePopover),r=u.useRef(null),n=gt(s,r),o=u.useRef(!1);return u.useEffect(()=>{const i=r.current;if(i)return wc(i)},[]),e.jsx(kc,{as:Nt,allowPinchZoom:!0,children:e.jsx(Tl,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{i.preventDefault(),o.current||a.triggerRef.current?.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pg=u.forwardRef((t,s)=>{const a=Pt(Qt,t.__scopePopover),r=u.useRef(!1),n=u.useRef(!1);return e.jsx(Tl,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||a.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=o.target;a.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),Tl=u.forwardRef((t,s)=>{const{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...p}=t,m=Pt(Qt,a),f=Da(a);return Nc(),e.jsx(Sc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(Nn,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:e.jsx(Sn,{"data-state":El(m.open),role:"dialog",id:m.contentId,...f,...p,ref:s,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ml="PopoverClose",_g=u.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Pt(Ml,a);return e.jsx(be.button,{type:"button",...r,ref:s,onClick:ue(t.onClick,()=>n.onOpenChange(!1))})});_g.displayName=Ml;var Dg="PopoverArrow",Tg=u.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Da(a);return e.jsx(Pn,{...n,...r,ref:s})});Tg.displayName=Dg;function El(t){return t?"open":"closed"}var Mg=Nl,Eg=Pl,Rg=_l,Rl=Dl;const $s=Mg,qs=Eg,Ua=u.forwardRef(({className:t,align:s="center",sideOffset:a=4,...r},n)=>e.jsx(Rg,{children:e.jsx(Rl,{ref:n,align:s,sideOffset:a,className:w("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ua.displayName=Rl.displayName;function Ag({control:t,name:s}){return e.jsx(qe,{control:t,name:s,render:({field:a})=>e.jsxs(Re,{className:"flex flex-col",children:[e.jsx(Ae,{children:"Tanggal"}),e.jsxs($s,{children:[e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{children:e.jsxs(S,{variant:"outline",className:"w-full pl-3 text-left font-normal",children:[a.value?fe(a.value,"PPP"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(ma,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(Ua,{className:"w-auto p-0",align:"start",children:e.jsx(Ga,{mode:"single",selected:a.value,onSelect:a.onChange,disabled:r=>r>new Date||r<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(Ie,{})]})})}const Fg=Rt({tanggal:Ps(),produk_id:lt().min(1,"Produk harus dipilih"),masuk:Mt().optional(),keluar:Mt().optional(),keterangan:lt().optional()}),Ig=({open:t,onOpenChange:s,transaction:a,onSuccess:r})=>{const{toast:n}=ve(),{data:o}=ta(),i=St({resolver:Na(Fg),defaultValues:{tanggal:new Date,produk_id:"",masuk:0,keluar:0,keterangan:""}});u.useEffect(()=>{a&&t&&(i.setValue("tanggal",new Date(a.tanggal)),i.setValue("produk_id",a.produk_id||""),i.setValue("masuk",a.masuk||0),i.setValue("keluar",a.keluar||0),i.setValue("keterangan",a.keterangan||""))},[a,t,i]);const l=a?.masuk&&a.masuk>0,c=async d=>{if(a)try{const h={tanggal:fe(d.tanggal,"yyyy-MM-dd"),produk_id:d.produk_id,keterangan:d.keterangan};l?h.masuk=d.masuk:h.keluar=d.keluar;const{error:p}=await D.from("transakasi_stok").update(h).eq("id",a.id);if(p)throw p;n({title:"Sukses",description:"Transaksi stok berhasil diperbarui"}),r(),s(!1)}catch(h){console.error("Error updating stock transaction:",h),n({title:"Error",description:"Gagal memperbarui transaksi stok",variant:"destructive"})}};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"sm:max-w-md",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Edit Transaksi Stok"}),e.jsxs(Ke,{children:["Edit transaksi stok ",l?"masuk":"keluar"]})]}),e.jsx(Sa,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-4",children:[e.jsx(Ag,{control:i.control,name:"tanggal"}),e.jsx(il,{control:i.control,name:"produk_id",products:o}),l?e.jsx(Ks,{control:i.control,name:"masuk",label:"Jumlah Masuk"}):e.jsx(Ks,{control:i.control,name:"keluar",label:"Jumlah Keluar"}),e.jsx(ll,{control:i.control,name:"keterangan"}),e.jsxs(Ft,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",children:"Simpan"})]})]})})]})})},Og=()=>{const[t,s]=u.useState(""),[a,r]=u.useState(!1),[n,o]=u.useState("masuk"),[i,l]=u.useState(""),[c,d]=u.useState(""),[h,p]=u.useState(null),[m,f]=u.useState(!1),[g,x]=u.useState(!1),[v,y]=u.useState(!1),[b,P]=u.useState(null),[_,T]=u.useState(null),{data:C,isLoading:A,error:ie,refetch:xe}=Tf(i,c),{data:ce}=Rf(),U=Ef(),z=C?.filter(re=>(re.keterangan||"").toLowerCase().includes(t.toLowerCase())||(re.no_spk||"").toLowerCase().includes(t.toLowerCase())||(re.produk?.nama||"").toLowerCase().includes(t.toLowerCase()))||[],ge=re=>{o(re),r(!0)},K=(re,q)=>{l(re),d(q)},oe=re=>{p(re),f(!0)},J=re=>{T(re),y(!0)},R=re=>{P(re),x(!0)},j=async()=>{b&&(await U.mutateAsync(b),x(!1),P(null),xe())},se=()=>{xe()};return e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsx($f,{onPeriodFilter:K}),e.jsx(qf,{totalMasuk:ce?.totalMasuk||0,totalKeluar:ce?.totalKeluar||0,saldoAkhir:ce?.saldoAkhir||0}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-2 mb-2",children:[e.jsxs(S,{className:"flex-1 py-6 text-xl font-bold button-hover bg-blue-600 text-white rounded-lg",onClick:()=>ge("masuk"),children:[e.jsx(Nd,{className:"w-7 h-7 mr-3"}),"Stok Masuk"]}),e.jsxs(S,{className:"flex-1 py-6 text-xl font-bold button-hover rounded-lg",variant:"destructive",onClick:()=>ge("keluar"),children:[e.jsx(kd,{className:"w-7 h-7 mr-3"}),"Stok Keluar"]})]}),e.jsx(zf,{searchTerm:t,onSearchChange:s}),e.jsx(Wf,{transactions:z,isLoading:A,error:ie,onDetail:oe,onEdit:J,onDelete:R}),e.jsx(Of,{open:a,onOpenChange:re=>{r(re),re||xe()},type:n}),e.jsx(Lf,{open:m,onOpenChange:f,transaction:h}),e.jsx(Ig,{open:v,onOpenChange:y,transaction:_,onSuccess:se}),e.jsx(kt,{open:g,onOpenChange:x,children:e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Transaksi Stok"}),e.jsx(pt,{children:"Apakah Anda yakin ingin menghapus transaksi stok ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:j,disabled:U.isPending,children:U.isPending?"Menghapus...":"Hapus"})]})]})})]})},Lg=({open:t,onOpenChange:s,component:a})=>{const[r,n]=u.useState({nama:a?.nama||"",jenis:a?.jenis||"",satuan:a?.satuan||"",harga:a?.harga?.toString()||"",nilai_konversi:a?.nilai_konversi?.toString()||"",satuan_konversi:a?.satuan_konversi||""});u.useEffect(()=>{n(a?{nama:a.nama||"",jenis:a.jenis||"",satuan:a.satuan||"",harga:a.harga?.toString()||"",nilai_konversi:a.nilai_konversi?.toString()||"",satuan_konversi:a.satuan_konversi||""}:{nama:"",jenis:"",satuan:"",harga:"",nilai_konversi:"",satuan_konversi:""})},[a,t]);const o=sf(),i=rf(),l=async d=>{d.preventDefault();const h={nama:r.nama,jenis:r.jenis,satuan:r.satuan,harga:r.harga?parseFloat(r.harga):null,nilai_konversi:r.nilai_konversi?parseFloat(r.nilai_konversi):null,satuan_konversi:r.satuan_konversi||null};a?await i.mutateAsync({id:a.id,data:h}):await o.mutateAsync(h),s(!1),n({nama:"",jenis:"",satuan:"",harga:"",nilai_konversi:"",satuan_konversi:""})},c=o.isPending||i.isPending;return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"sm:max-w-[340px] p-4",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:a?"Edit Komponen":"Tambah Komponen"}),e.jsx(Ke,{children:a?"Perbarui informasi komponen":"Tambahkan komponen baru ke sistem"})]}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"grid gap-3 py-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"nama",children:"Nama Komponen"}),e.jsx(G,{id:"nama",value:r.nama,onChange:d=>n({...r,nama:d.target.value}),placeholder:"Masukkan nama komponen",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"jenis",children:"Jenis"}),e.jsxs(He,{value:r.jenis,onValueChange:d=>n({...r,jenis:d}),children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih jenis komponen"})}),e.jsxs(Le,{children:[e.jsx(le,{value:"material",children:"Material"}),e.jsx(le,{value:"produksi",children:"Produksi"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"satuan",children:"Satuan"}),e.jsxs(He,{value:r.satuan,onValueChange:d=>n({...r,satuan:d}),children:[e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih satuan"})}),e.jsxs(Le,{children:[e.jsx(le,{value:"pcs",children:"Pcs"}),e.jsx(le,{value:"cm",children:"Cm"}),e.jsx(le,{value:"cm/l",children:"Cm/L"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"harga",children:"Harga"}),e.jsx(G,{id:"harga",type:"number",value:r.harga,onChange:d=>n({...r,harga:d.target.value}),placeholder:"Masukkan harga",min:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"nilai_konversi",children:"Nilai Konversi"}),e.jsx(G,{id:"nilai_konversi",type:"number",min:"0",step:"any",value:r.nilai_konversi,onChange:d=>n({...r,nilai_konversi:d.target.value}),placeholder:"Contoh: 2400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"satuan_konversi",children:"Satuan Konversi"}),e.jsx(G,{id:"satuan_konversi",value:r.satuan_konversi,onChange:d=>n({...r,satuan_konversi:d.target.value}),placeholder:"Contoh: roll"})]})]}),e.jsxs(Ft,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",disabled:c,children:c?"Menyimpan...":a?"Perbarui":"Tambah"})]})]})]})})},Kg=()=>{const[t,s]=u.useState(""),[a,r]=u.useState(!1),[n,o]=u.useState(null),{data:i,isLoading:l}=wr(),c=nf(),d=i?.filter(g=>g.nama?.toLowerCase().includes(t.toLowerCase())||g.jenis?.toLowerCase().includes(t.toLowerCase()))||[],h=g=>{switch(g){case"material":return"default";case"produksi":return"secondary";default:return"outline"}},p=g=>{o(g),r(!0)},m=async g=>{await c.mutateAsync(g)},f=()=>{r(!1),o(null)};return l?e.jsx("div",{className:"p-6 space-y-6 fade-in",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ae,{className:"h-8 w-64"}),e.jsx(ae,{className:"h-4 w-96"})]}),e.jsx(ae,{className:"h-10 w-32"})]})}):e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(wo,{className:"h-8 w-8 text-primary"}),"Manajemen Komponen"]}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola komponen dan bahan baku produksi"})]}),e.jsxs(S,{className:"button-hover",onClick:()=>r(!0),children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah Komponen"]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Filter & Pencarian"})}),e.jsx(O,{children:e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari komponen...",value:t,onChange:g=>s(g.target.value),className:"pl-10"})]})})})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Daftar Komponen"}),e.jsxs(ye,{children:["Total ",d.length," komponen ditemukan"]})]}),e.jsx(O,{children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama"}),e.jsx(N,{children:"Jenis"}),e.jsx(N,{children:"Satuan"}),e.jsx(N,{children:"Harga"}),e.jsx(N,{children:"Nilai Konversi"}),e.jsx(N,{children:"Satuan Konversi"}),e.jsx(N,{children:"Aksi"})]})}),e.jsx(ke,{children:d.map(g=>e.jsxs(V,{className:"smooth-transition hover:bg-muted/50",children:[e.jsx(k,{className:"font-medium",children:g.nama}),e.jsx(k,{children:e.jsx(X,{variant:h(g.jenis),children:g.jenis})}),e.jsx(k,{children:g.satuan}),e.jsx(k,{children:g.harga?`Rp ${g.harga.toLocaleString()}`:"-"}),e.jsx(k,{children:g.nilai_konversi?g.nilai_konversi:"-"}),e.jsx(k,{children:g.satuan_konversi?g.satuan_konversi:"-"}),e.jsx(k,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:()=>p(g),children:e.jsx(st,{className:"h-4 w-4"})}),e.jsxs(kt,{children:[e.jsx(fa,{asChild:!0,children:e.jsx(S,{size:"sm",variant:"outline",className:"button-hover text-destructive",children:e.jsx(We,{className:"h-4 w-4"})})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Komponen"}),e.jsxs(pt,{children:['Apakah Anda yakin ingin menghapus komponen "',g.nama,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:()=>m(g.id),className:"bg-destructive text-destructive-foreground",children:"Hapus"})]})]})]})]})})]},g.id))})]})})]}),e.jsx(Lg,{open:a,onOpenChange:f,component:n})]})},$g=Rt({komponen_id:lt().min(1,"Komponen harus dipilih"),qty:Mt().min(1,"Qty harus lebih dari 0"),harga:Mt().min(0,"Harga tidak boleh negatif")}),qg=Rt({produk_id:lt().min(1,"Produk harus dipilih"),components:Xn($g).min(1,"Minimal harus ada satu komponen")}),zg=({open:t,onOpenChange:s})=>{const{data:a}=ta(),{data:r}=wr(),n=Jp(),o=St({resolver:Na(qg),defaultValues:{produk_id:"",components:[{komponen_id:"",qty:1,harga:0}]}}),{fields:i,append:l,remove:c}=Gs({control:o.control,name:"components"}),d=(m,f)=>{const g=r?.find(x=>x.id===m);g?.harga&&o.setValue(`components.${f}.harga`,g.harga)},h=()=>o.watch("components").reduce((f,g)=>f+g.qty*g.harga,0),p=async m=>{try{for(const f of m.components){const g={produk_id:m.produk_id,komponen_id:f.komponen_id,qty:f.qty,harga:f.harga,subtotal:f.qty*f.harga};await n.mutateAsync(g)}o.reset(),s(!1)}catch(f){console.error("Error creating multiple consumptions:",f)}};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"sm:max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:"Tambah HPP Produk"}),e.jsx(Ke,{children:"Tambahkan beberapa komponen sekaligus untuk menghitung HPP produk"})]}),e.jsx(Sa,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(p),className:"space-y-4",children:[e.jsx(qe,{control:o.control,name:"produk_id",render:({field:m})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Produk"}),e.jsxs(He,{onValueChange:m.onChange,defaultValue:m.value,children:[e.jsx(Fe,{children:e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih produk"})})}),e.jsx(Le,{children:a?.map(f=>e.jsxs(le,{value:f.id,children:[f.nama," - ",f.variant]},f.id))})]}),e.jsx(Ie,{})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Komponen"}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:()=>l({komponen_id:"",qty:1,harga:0}),children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah Komponen"]})]}),i.map((m,f)=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end p-4 border rounded-lg",children:[e.jsx("div",{className:"col-span-5",children:e.jsx(qe,{control:o.control,name:`components.${f}.komponen_id`,render:({field:g})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Komponen"}),e.jsxs(He,{onValueChange:x=>{g.onChange(x),d(x,f)},defaultValue:g.value,children:[e.jsx(Fe,{children:e.jsx(Oe,{children:e.jsx(Be,{placeholder:"Pilih komponen"})})}),e.jsx(Le,{children:r?.map(x=>e.jsxs(le,{value:x.id,children:[x.nama," - ",x.satuan]},x.id))})]}),e.jsx(Ie,{})]})})}),e.jsx("div",{className:"col-span-2",children:e.jsx(qe,{control:o.control,name:`components.${f}.qty`,render:({field:g})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Qty"}),e.jsx(Fe,{children:e.jsx(G,{type:"number",min:"1",...g,onChange:x=>g.onChange(parseInt(x.target.value)||0)})}),e.jsx(Ie,{})]})})}),e.jsx("div",{className:"col-span-2",children:e.jsx(qe,{control:o.control,name:`components.${f}.harga`,render:({field:g})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Harga"}),e.jsx(Fe,{children:e.jsx(G,{type:"number",min:"0",...g,onChange:x=>g.onChange(parseFloat(x.target.value)||0)})}),e.jsx(Ie,{})]})})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"text-sm font-medium",children:["Rp ",(o.watch(`components.${f}.qty`)*o.watch(`components.${f}.harga`)).toLocaleString()]})}),e.jsx("div",{className:"col-span-1",children:i.length>1&&e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>c(f),className:"text-destructive",children:e.jsx(We,{className:"h-4 w-4"})})})]},m.id))]}),e.jsx("div",{className:"p-4 bg-muted rounded-md",children:e.jsxs("div",{className:"text-lg font-semibold",children:["Total HPP: Rp ",h().toLocaleString()]})}),e.jsxs(Ft,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",disabled:n.isPending,children:n.isPending?"Menyimpan...":"Simpan"})]})]})})]})})},Wg=()=>{const[t,s]=u.useState(""),[a,r]=u.useState(!1),[n,o]=u.useState(!1),[i,l]=u.useState(null),{data:c,isLoading:d}=sl(),h=c?.filter(m=>m.nama?.toLowerCase().includes(t.toLowerCase())||m.variant?.toLowerCase().includes(t.toLowerCase()))||[],p=m=>{l(m),o(!0)};return d?e.jsx("div",{className:"p-6 space-y-6 fade-in",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ae,{className:"h-8 w-64"}),e.jsx(ae,{className:"h-4 w-96"})]}),e.jsx(ae,{className:"h-10 w-32"})]})}):(h.length,h.reduce((m,f)=>m+(f.total_hpp||0),0),e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(Zs,{className:"h-8 w-8 text-primary"}),"HPP Produk"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manajemen Harga Pokok Produksi dan konsumsi komponen"})]}),e.jsxs(S,{className:"button-hover",onClick:()=>r(!0),children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah HPP"]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Filter & Pencarian"})}),e.jsx(O,{children:e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari produk...",value:t,onChange:m=>s(m.target.value),className:"pl-10"})]})})})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Daftar HPP Produk"}),e.jsxs(ye,{children:["Total ",h.length," produk ditemukan"]})]}),e.jsx(O,{children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{children:"Total HPP"}),e.jsx(N,{children:"Jumlah Komponen"}),e.jsx(N,{children:"Aksi"})]})}),e.jsx(ke,{children:h.map(m=>e.jsxs(V,{className:"smooth-transition hover:bg-muted/50",children:[e.jsxs(k,{className:"font-medium",children:[m.nama," - ",m.variant]}),e.jsxs(k,{className:"font-medium",children:["Rp ",(m.total_hpp||0).toLocaleString()]}),e.jsx(k,{children:e.jsxs(X,{variant:"secondary",children:[m.consumption?.length||0," item"]})}),e.jsx(k,{children:e.jsxs(S,{size:"sm",variant:"outline",className:"button-hover",onClick:()=>p(m),children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"Detail"]})})]},m.id))})]})})]}),e.jsx(zg,{open:a,onOpenChange:r}),e.jsx(ol,{open:n,onOpenChange:o,product:i})]}))},Hg=()=>Ne({queryKey:["pembiayaan-list"],queryFn:async()=>{const{data:t,error:s}=await D.from("pembiayaan").select(`
          *,
          items:item_pembiayaan (
            *,
            produk:produk_id (
              nama,
              variant
            ),
            spk:no_spk (
              no_spk
            )
          )
        `).order("created_at",{ascending:!1});if(s)throw s;return t}}),Bg=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{data:r,error:n}=await D.from("pembiayaan").insert({no_pembiayaan:"",periode_awal:a.periode_awal,periode_akhir:a.periode_akhir,catatan:a.catatan||null}).select().single();if(n)throw n;const{error:o}=await D.rpc("populate_item_pembiayaan",{p_pembiayaan_id:r.id,p_periode_awal:a.periode_awal,p_periode_akhir:a.periode_akhir});if(o)throw o;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["pembiayaan-list"]}),s({title:"Sukses",description:"Pembiayaan berhasil dibuat dan item otomatis ditambahkan"})},onError:a=>{s({title:"Error",description:"Gagal membuat pembiayaan: "+a.message,variant:"destructive"})}})},Vg=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async({id:a,data:r})=>{const{data:n,error:o}=await D.from("pembiayaan").update({periode_awal:r.periode_awal,periode_akhir:r.periode_akhir,catatan:r.catatan||null,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(o)throw o;const{error:i}=await D.from("item_pembiayaan").delete().eq("pembiayaan_id",a);if(i)throw i;const{error:l}=await D.rpc("populate_item_pembiayaan",{p_pembiayaan_id:a,p_periode_awal:r.periode_awal,p_periode_akhir:r.periode_akhir});if(l)throw l;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["pembiayaan-list"]}),t.invalidateQueries({queryKey:["pembiayaan-detail"]}),s({title:"Sukses",description:"Pembiayaan berhasil diperbarui dan item otomatis diperbarui"})},onError:a=>{s({title:"Error",description:"Gagal memperbarui pembiayaan: "+a.message,variant:"destructive"})}})},Yg=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{error:r}=await D.from("pembiayaan").delete().eq("id",a);if(r)throw r},onSuccess:()=>{t.invalidateQueries({queryKey:["pembiayaan-list"]}),s({title:"Sukses",description:"Pembiayaan berhasil dihapus"})},onError:a=>{s({title:"Error",description:"Gagal menghapus pembiayaan: "+a.message,variant:"destructive"})}})},Al=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{data:r,error:n}=await D.from("pembiayaan").select("periode_awal, periode_akhir").eq("id",a).single();if(n)throw n;const{error:o}=await D.from("item_pembiayaan").delete().eq("pembiayaan_id",a);if(o)throw o;const{error:i}=await D.rpc("populate_item_pembiayaan",{p_pembiayaan_id:a,p_periode_awal:r.periode_awal,p_periode_akhir:r.periode_akhir});if(i)throw i},onSuccess:()=>{t.invalidateQueries({queryKey:["pembiayaan-list"]}),t.invalidateQueries({queryKey:["pembiayaan-detail"]}),s({title:"Sukses",description:"Item pembiayaan berhasil diperbarui dari data stok terbaru"})},onError:a=>{s({title:"Error",description:"Gagal memperbarui item pembiayaan: "+a.message,variant:"destructive"})}})},Gg=Rt({periode_awal:Ps(),periode_akhir:Ps(),catatan:lt().optional()}),Ug=({open:t,onOpenChange:s,editData:a})=>{const r=Bg(),n=Vg(),o=St({resolver:Na(Gg),defaultValues:{periode_awal:new Date,periode_akhir:new Date,catatan:""}});u.useEffect(()=>{a?o.reset({periode_awal:new Date(a.periode_awal),periode_akhir:new Date(a.periode_akhir),catatan:a.catatan||""}):o.reset({periode_awal:new Date,periode_akhir:new Date,catatan:""})},[a,o]);const i=async c=>{try{const d={periode_awal:fe(c.periode_awal,"yyyy-MM-dd"),periode_akhir:fe(c.periode_akhir,"yyyy-MM-dd"),catatan:c.catatan||void 0};a?await n.mutateAsync({id:a.id,data:d}):await r.mutateAsync(d),s(!1),o.reset()}catch(d){console.error("Error saving pembiayaan:",d)}},l=r.isPending||n.isPending;return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"sm:max-w-md",children:[e.jsxs(Ce,{children:[e.jsx(Pe,{children:a?"Edit Pembiayaan":"Buat Pembiayaan Baru"}),e.jsx(Ke,{children:a?"Edit pembiayaan dan perbarui item berdasarkan periode":"Buat pembiayaan berdasarkan periode produksi"})]}),e.jsx(Sa,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-4",children:[e.jsx(qe,{control:o.control,name:"periode_awal",render:({field:c})=>e.jsxs(Re,{className:"flex flex-col",children:[e.jsx(Ae,{children:"Periode Awal"}),e.jsxs($s,{children:[e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{children:e.jsxs(S,{variant:"outline",className:w("w-full pl-3 text-left font-normal",!c.value&&"text-muted-foreground"),children:[c.value?fe(c.value,"dd/MM/yyyy"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(ma,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(Ua,{className:"w-auto p-0",align:"start",children:e.jsx(Ga,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:d=>d>new Date||d<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(Ie,{})]})}),e.jsx(qe,{control:o.control,name:"periode_akhir",render:({field:c})=>e.jsxs(Re,{className:"flex flex-col",children:[e.jsx(Ae,{children:"Periode Akhir"}),e.jsxs($s,{children:[e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{children:e.jsxs(S,{variant:"outline",className:w("w-full pl-3 text-left font-normal",!c.value&&"text-muted-foreground"),children:[c.value?fe(c.value,"dd/MM/yyyy"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(ma,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(Ua,{className:"w-auto p-0",align:"start",children:e.jsx(Ga,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:d=>d<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(Ie,{})]})}),e.jsx(qe,{control:o.control,name:"catatan",render:({field:c})=>e.jsxs(Re,{children:[e.jsx(Ae,{children:"Catatan"}),e.jsx(Fe,{children:e.jsx(It,{placeholder:"Catatan pembiayaan...",...c})}),e.jsx(Ie,{})]})}),e.jsxs(Ft,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(S,{type:"submit",disabled:l,children:l?"Menyimpan...":"Simpan"})]})]})})]})})},Qg=({open:t,onOpenChange:s,pembiayaan:a,onEdit:r})=>{const n=Al(),o=Yg();if(!a)return null;const i=d=>{switch(d){case"disetujui":return"default";case"pending":return"secondary";case"lunas":return"destructive";case"ditolak":return"outline";default:return"outline"}},l=async()=>{await n.mutateAsync(a.id)},c=async()=>{await o.mutateAsync(a.id),s(!1)};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-6xl",children:[e.jsx(Ce,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Pe,{className:"text-xl",children:["Detail Pembiayaan ",a.no_pembiayaan]}),e.jsxs(Ke,{children:["Periode: ",fe(new Date(a.periode_awal),"dd/MM/yyyy")," - ",fe(new Date(a.periode_akhir),"dd/MM/yyyy")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:i(a.status),children:a.status}),e.jsxs(S,{size:"sm",variant:"outline",onClick:l,disabled:n.isPending,children:[e.jsx(ko,{className:`h-4 w-4 mr-2 ${n.isPending?"animate-spin":""}`}),"Refresh Items"]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:r,children:[e.jsx(st,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(kt,{children:[e.jsx(fa,{asChild:!0,children:e.jsxs(S,{size:"sm",variant:"destructive",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Hapus"]})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Pembiayaan"}),e.jsxs(pt,{children:["Apakah Anda yakin ingin menghapus pembiayaan ",a.no_pembiayaan,"? Tindakan ini tidak dapat dibatalkan."]})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:c,disabled:o.isPending,children:o.isPending?"Menghapus...":"Hapus"})]})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tanggal"}),e.jsx("p",{className:"font-medium",children:fe(new Date(a.tanggal),"dd/MM/yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pembiayaan"}),e.jsxs("p",{className:"font-bold text-lg",children:["Rp ",Number(a.total_pembiayaan).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(X,{variant:i(a.status),children:a.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Item"}),e.jsxs("p",{className:"font-medium",children:[a.items?.length||0," item"]})]}),a.catatan&&e.jsxs("div",{className:"col-span-full",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Catatan"}),e.jsx("p",{className:"font-medium",children:a.catatan})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Item Pembiayaan"}),e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"No. SPK"}),e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{children:"Qty"}),e.jsx(N,{children:"Harga Produksi"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Subtotal"})]})}),e.jsxs(ke,{children:[a.items?.map(d=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:d.no_spk}),e.jsx(k,{children:d.produk?`${d.produk.nama} - ${d.produk.variant}`:"N/A"}),e.jsx(k,{children:d.qty}),e.jsxs(k,{children:["Rp ",Number(d.harga_produksi).toLocaleString()]}),e.jsx(k,{children:e.jsx(X,{variant:d.status_pembayaran==="lunas"?"default":"secondary",children:d.status_pembayaran})}),e.jsxs(k,{className:"font-medium",children:["Rp ",Number(d.subtotal).toLocaleString()]})]},d.id)),(!a.items||a.items.length===0)&&e.jsx(V,{children:e.jsx(k,{colSpan:6,className:"text-center text-muted-foreground",children:"Tidak ada item pembiayaan"})}),a.items&&a.items.length>0&&e.jsxs(V,{className:"border-t-2",children:[e.jsx(k,{colSpan:5,className:"font-bold text-right",children:"Total Pembiayaan:"}),e.jsxs(k,{className:"font-bold text-lg",children:["Rp ",Number(a.total_pembiayaan).toLocaleString()]})]})]})]})]})]})]})})},Xg=()=>{const[t,s]=u.useState(""),[a,r]=u.useState(null),[n,o]=u.useState(!1),[i,l]=u.useState(null),[c,d]=u.useState(!1),[h,p]=u.useState(null),{data:m=[],isLoading:f}=Hg(),g=Al(),x=m.filter(C=>C.no_pembiayaan.toLowerCase().includes(t.toLowerCase())||C.status?.toLowerCase().includes(t.toLowerCase())),v=C=>{switch(C){case"disetujui":return"default";case"pending":return"secondary";case"lunas":return"destructive";case"ditolak":return"outline";default:return"outline"}},y=C=>{l(C),d(!0)},b=C=>{p(C),o(!0)},P=()=>{p(i),d(!1),o(!0)},_=async C=>{await g.mutateAsync(C)},T=()=>{o(!1),p(null)};return f?e.jsx("div",{className:"p-6 space-y-6 fade-in",children:e.jsx("div",{className:"text-center",children:"Loading pembiayaan data..."})}):e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(ar,{className:"h-8 w-8 text-primary"}),"Manajemen Pembiayaan"]}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola pembiayaan produksi dan cash flow"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",className:"button-hover",children:[e.jsx(ma,{className:"h-4 w-4 mr-2"}),"Filter Periode"]}),e.jsxs(S,{className:"button-hover",onClick:()=>o(!0),children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Buat Pembiayaan"]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari pembiayaan...",value:t,onChange:C=>s(C.target.value),className:"pl-10"})]}),e.jsx(S,{variant:"outline",children:"Filter Status"}),e.jsx(S,{variant:"outline",children:"Filter Periode"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-lg font-semibold mb-2",children:["Daftar Pembiayaan (Total ",x.length," data)"]}),x.length===0&&e.jsx("div",{className:"text-muted-foreground text-center my-12",children:"Tidak ada data pembiayaan ditemukan."}),x.map(C=>e.jsx(ur,{open:a===C.id,onOpenChange:()=>r(a===C.id?null:C.id),children:e.jsxs("div",{className:"border rounded-lg p-4 smooth-transition hover:shadow-md bg-background",children:[e.jsx(mr,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Zt,{className:`h-5 w-5 transition-transform ${a===C.id?"rotate-90":""}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold",children:C.no_pembiayaan}),e.jsx("p",{className:"text-sm text-muted-foreground",children:fe(new Date(C.tanggal),"dd/MM/yyyy")})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),e.jsxs("p",{className:"font-medium text-sm",children:[fe(new Date(C.periode_awal),"dd/MM/yyyy")," - ",fe(new Date(C.periode_akhir),"dd/MM/yyyy")]})]}),e.jsx(X,{variant:v(C.status),children:C.status}),e.jsxs("span",{className:"text-lg font-bold",children:["Rp ",Number(C.total_pembiayaan).toLocaleString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:A=>{A.stopPropagation(),y(C)},children:e.jsx(ct,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:A=>{A.stopPropagation(),b(C)},children:e.jsx(st,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"button-hover",onClick:A=>{A.stopPropagation(),_(C.id)},disabled:g.isPending,children:e.jsx(ko,{className:`h-4 w-4 ${g.isPending?"animate-spin":""}`})})]})]})]})}),e.jsx(hr,{className:"mt-4",children:e.jsxs("div",{className:"pl-9",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Item Pembiayaan:"}),e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"No. SPK"}),e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{children:"Qty"}),e.jsx(N,{children:"Harga Produksi"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Subtotal"})]})}),e.jsxs(ke,{children:[C.items?.map(A=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:A.no_spk}),e.jsx(k,{children:A.produk?`${A.produk.nama} - ${A.produk.variant}`:"N/A"}),e.jsx(k,{children:A.qty}),e.jsxs(k,{children:["Rp ",Number(A.harga_produksi).toLocaleString()]}),e.jsx(k,{children:e.jsx(X,{variant:A.status_pembayaran==="lunas"?"default":"secondary",children:A.status_pembayaran})}),e.jsxs(k,{className:"font-medium",children:["Rp ",Number(A.subtotal).toLocaleString()]})]},A.id)),e.jsxs(V,{className:"border-t-2",children:[e.jsx(k,{colSpan:5,className:"font-bold text-right",children:"Total Pembiayaan:"}),e.jsxs(k,{className:"font-bold text-lg",children:["Rp ",Number(C.total_pembiayaan).toLocaleString()]})]})]})]})]})})]})},C.id))]}),e.jsx(Ug,{open:n,onOpenChange:T,editData:h}),e.jsx(Qg,{open:c,onOpenChange:d,pembiayaan:i,onEdit:P})]})};var Er="Tabs",[Jg,eb]=Xt(Er,[Ln]),Fl=Ln(),[Zg,Rr]=Jg(Er),Il=u.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=Cc(l),[p,m]=xa({prop:r,onChange:n,defaultProp:o});return e.jsx(Zg,{scope:a,baseId:Xa(),value:p,onValueChange:m,orientation:i,dir:h,activationMode:c,children:e.jsx(be.div,{dir:h,"data-orientation":i,...d,ref:s})})});Il.displayName=Er;var Ol="TabsList",Ll=u.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,o=Rr(Ol,a),i=Fl(a);return e.jsx(Pc,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:e.jsx(be.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});Ll.displayName=Ol;var Kl="TabsTrigger",$l=u.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...o}=t,i=Rr(Kl,a),l=Fl(a),c=Wl(i.baseId,r),d=Hl(i.baseId,r),h=r===i.value;return e.jsx(_c,{asChild:!0,...l,focusable:!n,active:h,children:e.jsx(be.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...o,ref:s,onMouseDown:ue(t.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?i.onValueChange(r):p.preventDefault()}),onKeyDown:ue(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const p=i.activationMode!=="manual";!h&&!n&&p&&i.onValueChange(r)})})})});$l.displayName=Kl;var ql="TabsContent",zl=u.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:o,...i}=t,l=Rr(ql,a),c=Wl(l.baseId,r),d=Hl(l.baseId,r),h=r===l.value,p=u.useRef(h);return u.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(Jt,{present:n||h,children:({present:m})=>e.jsx(be.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&o})})});zl.displayName=ql;function Wl(t,s){return`${t}-trigger-${s}`}function Hl(t,s){return`${t}-content-${s}`}var ev=Il,Bl=Ll,Vl=$l,Yl=zl;const Gl=ev,Ar=u.forwardRef(({className:t,...s},a)=>e.jsx(Bl,{ref:a,className:w("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Ar.displayName=Bl.displayName;const Dt=u.forwardRef(({className:t,...s},a)=>e.jsx(Vl,{ref:a,className:w("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Dt.displayName=Vl.displayName;const Tt=u.forwardRef(({className:t,...s},a)=>e.jsx(Yl,{ref:a,className:w("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Tt.displayName=Yl.displayName;function tv({start:t,end:s}){return Ne({queryKey:["laporan-summary",t,s],queryFn:async()=>{const[{data:a},{data:r},{data:n},{data:o}]=await Promise.all([D.from("produk").select("*"),D.from("spk").select("*").gte("tanggal",t).lte("tanggal",s),D.from("transakasi_stok").select("*").gte("tanggal",t).lte("tanggal",s),D.from("pembiayaan").select("*").gte("tanggal",t).lte("tanggal",s)]);return{produk:a??[],spk:r??[],stok:n??[],pembiayaan:o??[]}}})}function av({start:t,end:s}){return Ne({queryKey:["laporan-produk",t,s],queryFn:async()=>{const{data:a,error:r}=await D.from("item_spk").select(`
          produk_id,
          qty,
          no_spk,
          spk(tanggal, status),
          produk(nama, status)
        `).gte("spk.tanggal",t).lte("spk.tanggal",s);if(r)throw r;const n=(a||[]).reduce((o,i)=>{const l=i.produk_id;return o[l]||(o[l]={nama:i.produk?.nama||"Unknown",totalProduksi:0,nilaiProduksi:0,status:i.produk?.status||"-"}),o[l].totalProduksi+=i.qty||0,o},{});return Object.values(n)}})}function sv({start:t,end:s}){return Ne({queryKey:["laporan-spk",t,s],queryFn:async()=>{const{data:a,error:r}=await D.from("spk").select(`
          no_spk,
          tanggal,
          status,
          item_spk: item_spk(
            qty
          )
        `).gte("tanggal",t).lte("tanggal",s);if(r)throw r;return(a||[]).map(n=>({noSPK:n.no_spk,tanggal:n.tanggal,status:n.status,totalQty:n.item_spk?.reduce((o,i)=>o+(i.qty||0),0)||0,progress:n.status==="Selesai"?100:60}))}})}function rv({start:t,end:s}){return Ne({queryKey:["laporan-stok",t,s],queryFn:async()=>{const{data:a,error:r}=await D.from("transakasi_stok").select(`
          tanggal,
          jenis_in,
          keluar,
          masuk,
          no_spk,
          produk_id,
          keterangan,
          produk(nama)
        `).gte("tanggal",t).lte("tanggal",s);if(r)throw r;return(a||[]).map(n=>({tanggal:n.tanggal,jenis:n.jenis_in==="masuk"?"Masuk":"Keluar",qty:n.masuk??n.keluar,nilai:0,keterangan:n.keterangan||"-",produkNama:n.produk?.nama||""}))}})}function nv({start:t,end:s}){return Ne({queryKey:["laporan-pembiayaan",t,s],queryFn:async()=>{const{data:a,error:r}=await D.from("pembiayaan").select("*").gte("tanggal",t).lte("tanggal",s);if(r)throw r;return a||[]}})}function ov({start:t,end:s,onChange:a}){return e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex gap-4 items-end",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tanggal Mulai"}),e.jsx(G,{type:"date",value:t,onChange:r=>a({start:r.target.value,end:s})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tanggal Akhir"}),e.jsx(G,{type:"date",value:s,onChange:r=>a({start:t,end:r.target.value})})]})]})})}function iv({totalProduksi:t,nilaiProduksi:s,totalSPK:a,spkSelesai:r,totalStokMasuk:n,totalStokKeluar:o,totalPembiayaan:i}){return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Produksi"}),e.jsx(Vt,{className:"h-5 w-5 text-blue-600"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Unit diproduksi"})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"SPK Selesai"}),e.jsx(Wt,{className:"h-5 w-5 text-green-600"})]}),e.jsxs(O,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a>0?Math.round(r/a*100):0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r," dari ",a," SPK"]})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Net Stok"}),e.jsx(ja,{className:"h-5 w-5 text-orange-600"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n-o}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Masuk: ",n,", Keluar: ",o]})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Pembiayaan"}),e.jsx(ar,{className:"h-5 w-5 text-purple-600"})]}),e.jsxs(O,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["Rp ",i.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Periode ini"})]})]})]})}function lv({data:t,isLoading:s,isError:a,dateRange:r}){return e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Laporan Produk"}),e.jsxs(ye,{children:["Analisis kinerja produk periode ",r.start," - ",r.end]})]}),e.jsxs(O,{children:[s&&e.jsx("div",{children:"Loading..."}),a&&e.jsx("div",{children:"Error loading produk"}),e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Nama Produk"}),e.jsx(N,{children:"Total Produksi"}),e.jsx(N,{children:"Status"})]})}),e.jsx(ke,{children:t&&t.map((n,o)=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:n.nama}),e.jsxs(k,{children:[n.totalProduksi," unit"]}),e.jsx(k,{children:e.jsx(X,{variant:"default",children:n.status})})]},o))})]})]})]})}function cv({data:t,isLoading:s,isError:a,dateRange:r}){return e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Laporan SPK"}),e.jsxs(ye,{children:["Status dan progress SPK periode ",r.start," - ",r.end]})]}),e.jsxs(O,{children:[s&&e.jsx("div",{children:"Loading..."}),a&&e.jsx("div",{children:"Error loading SPK"}),e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"No. SPK"}),e.jsx(N,{children:"Tanggal"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Total Qty"}),e.jsx(N,{children:"Progress"})]})}),e.jsx(ke,{children:t&&t.map((n,o)=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:n.noSPK}),e.jsx(k,{children:n.tanggal}),e.jsx(k,{children:e.jsx(X,{variant:n.status==="Selesai"?"default":"secondary",children:n.status})}),e.jsxs(k,{children:[n.totalQty," unit"]}),e.jsx(k,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${n.progress}%`}})}),e.jsxs("span",{className:"text-sm",children:[n.progress,"%"]})]})})]},o))})]})]})]})}function dv({data:t,isLoading:s,isError:a,dateRange:r}){return e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Laporan Stok"}),e.jsxs(ye,{children:["Pergerakan stok periode ",r.start," - ",r.end]})]}),e.jsxs(O,{children:[s&&e.jsx("div",{children:"Loading..."}),a&&e.jsx("div",{children:"Error loading stok"}),e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Tanggal"}),e.jsx(N,{children:"Jenis"}),e.jsx(N,{children:"Qty"}),e.jsx(N,{children:"Keterangan"})]})}),e.jsx(ke,{children:t&&t.map((n,o)=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:n.tanggal}),e.jsx(k,{children:e.jsx(X,{variant:n.jenis==="Masuk"?"default":"destructive",children:n.jenis})}),e.jsxs(k,{children:[n.qty," unit"]}),e.jsx(k,{children:n.keterangan})]},o))})]})]})]})}function uv({data:t,isLoading:s,isError:a,dateRange:r}){return e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Laporan Pembiayaan"}),e.jsxs(ye,{children:["Rekapitulasi pembiayaan periode ",r.start," - ",r.end]})]}),e.jsxs(O,{children:[s&&e.jsx("div",{children:"Loading..."}),a&&e.jsx("div",{children:"Error loading pembiayaan"}),e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"No. Pembiayaan"}),e.jsx(N,{children:"Tanggal"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Total"})]})}),e.jsx(ke,{children:t&&t.map((n,o)=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:n.no_pembiayaan}),e.jsx(k,{children:n.tanggal}),e.jsx(k,{children:e.jsx(X,{variant:n.status==="Disetujui"?"default":n.status==="Pending"?"secondary":"destructive",children:n.status})}),e.jsxs(k,{children:["Rp ",(n.total_pembiayaan||0).toLocaleString()]})]},o))})]})]})]})}const mv=()=>{const[t,s]=u.useState({start:"2024-01-01",end:"2024-01-31"});tv(t);const a=av(t),r=sv(t),n=rv(t),o=nv(t),i={totalProduksi:a.data?.reduce((l,c)=>l+c.totalProduksi,0)||0,nilaiProduksi:a.data?.reduce((l,c)=>l+(c.nilaiProduksi||0),0)||0,totalSPK:r.data?.length||0,spkSelesai:r.data?.filter(l=>l.status==="Selesai").length||0,totalStokMasuk:n.data?.filter(l=>l.jenis==="Masuk").reduce((l,c)=>l+(c.qty||0),0)||0,totalStokKeluar:n.data?.filter(l=>l.jenis==="Keluar").reduce((l,c)=>l+(c.qty||0),0)||0,totalPembiayaan:o.data?.reduce((l,c)=>l+(c.total_pembiayaan||0),0)||0};return e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(rr,{className:"h-8 w-8 text-primary"}),"Laporan & Analisis"]}),e.jsx("p",{className:"text-muted-foreground",children:"Analisis kinerja bisnis dan laporan komprehensif"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",className:"button-hover",disabled:!0,children:[e.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Export PDF (coming soon)"]}),e.jsxs(S,{variant:"outline",className:"button-hover",disabled:!0,children:[e.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Export Excel (coming soon)"]})]})]}),e.jsx(ov,{start:t.start,end:t.end,onChange:s}),e.jsx(iv,{...i}),e.jsxs(Gl,{defaultValue:"produk",className:"space-y-4",children:[e.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[e.jsx(Dt,{value:"produk",children:"Laporan Produk"}),e.jsx(Dt,{value:"spk",children:"Laporan SPK"}),e.jsx(Dt,{value:"stok",children:"Laporan Stok"}),e.jsx(Dt,{value:"pembiayaan",children:"Laporan Pembiayaan"})]}),e.jsx(Tt,{value:"produk",children:e.jsx(lv,{data:a.data||[],isLoading:a.isLoading,isError:a.isError,dateRange:t})}),e.jsx(Tt,{value:"spk",children:e.jsx(cv,{data:r.data||[],isLoading:r.isLoading,isError:r.isError,dateRange:t})}),e.jsx(Tt,{value:"stok",children:e.jsx(dv,{data:n.data||[],isLoading:n.isLoading,isError:n.isError,dateRange:t})}),e.jsx(Tt,{value:"pembiayaan",children:e.jsx(uv,{data:o.data||[],isLoading:o.isLoading,isError:o.isError,dateRange:t})})]})]})},hv=Tc,pv=Mc,fv=u.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(Kn,{ref:n,className:w("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...r,children:[a,e.jsx(Zt,{className:"ml-auto h-4 w-4"})]}));fv.displayName=Kn.displayName;const xv=u.forwardRef(({className:t,...s},a)=>e.jsx($n,{ref:a,className:w("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));xv.displayName=$n.displayName;const Ul=u.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(Dc,{children:e.jsx(qn,{ref:r,sideOffset:s,className:w("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Ul.displayName=qn.displayName;const da=u.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(zn,{ref:r,className:w("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));da.displayName=zn.displayName;const gv=u.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(Wn,{ref:n,className:w("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Hn,{children:e.jsx(yo,{className:"h-4 w-4"})})}),s]}));gv.displayName=Wn.displayName;const vv=u.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Bn,{ref:r,className:w("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Hn,{children:e.jsx(Cd,{className:"h-2 w-2 fill-current"})})}),s]}));vv.displayName=Bn.displayName;const Ql=u.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(Vn,{ref:r,className:w("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));Ql.displayName=Vn.displayName;const Xl=u.forwardRef(({className:t,...s},a)=>e.jsx(Yn,{ref:a,className:w("-mx-1 my-1 h-px bg-muted",t),...s}));Xl.displayName=Yn.displayName;const bv=()=>Ne({queryKey:["users"],queryFn:async()=>{const{data:t,error:s}=await D.from("profiles").select(`
          id,
          email,
          full_name,
          created_at
        `);if(s)throw s;const a=[];for(const r of t||[]){const{data:n,error:o}=await D.from("user_roles").select("role").eq("user_id",r.id).single();o&&o.code!=="PGRST116"&&console.error("Error fetching role for user:",r.id,o),a.push({id:r.id,email:r.email||"",full_name:r.full_name||"",created_at:r.created_at,role:n?.role||"staff"})}return a}}),yv=()=>{const[t,s]=u.useState(""),{data:a,isLoading:r,error:n}=bv(),{toast:o}=ve(),i=a?.filter(x=>x.full_name.toLowerCase().includes(t.toLowerCase())||x.email.toLowerCase().includes(t.toLowerCase())||x.role.toLowerCase().includes(t.toLowerCase()))||[],l=x=>{switch(x){case"admin":return"destructive";case"manager":return"default";case"supervisor":return"secondary";case"staff":return"outline";case"operator":return"outline";default:return"outline"}},c=x=>{switch(x){case"admin":return"Administrator";case"manager":return"Manager";case"supervisor":return"Supervisor";case"staff":return"Staff";case"operator":return"Operator";default:return"Staff"}},d=x=>x.split(" ").map(v=>v.charAt(0)).join("").toUpperCase().slice(0,2),h=x=>new Date(x).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});n&&o({title:"Error",description:"Gagal memuat data pengguna",variant:"destructive"});const p=a?.length||0,m=a?.length||0,f=a?.filter(x=>x.role==="admin"||x.role==="manager").length||0,g=new Set(a?.map(x=>x.role)||[]).size;return e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(Es,{className:"h-8 w-8 text-primary"}),"Manajemen Pengguna"]}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola akses pengguna dan hak akses sistem"})]}),e.jsxs(S,{className:"button-hover",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah Pengguna"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Pengguna"}),e.jsx(Es,{className:"h-5 w-5 text-blue-600"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pengguna terdaftar"})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Pengguna Aktif"}),e.jsx(Qr,{className:"h-5 w-5 text-green-600"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[p>0?Math.round(m/p*100):0,"% dari total"]})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Admin & Manager"}),e.jsx(X,{variant:"default",className:"text-xs",children:"High Access"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hak akses tinggi"})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Role"}),e.jsx(X,{variant:"outline",className:"text-xs",children:"Various"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Role berbeda"})]})]})]}),e.jsxs(F,{className:"card-hover",children:[e.jsx(I,{children:e.jsx(L,{children:"Filter & Pencarian"})}),e.jsx(O,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Cari pengguna...",value:t,onChange:x=>s(x.target.value),className:"pl-10"})]}),e.jsx(S,{variant:"outline",children:"Filter Role"}),e.jsx(S,{variant:"outline",children:"Filter Status"})]})})]}),e.jsxs(F,{className:"card-hover",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Daftar Pengguna"}),e.jsxs(ye,{children:["Total ",i.length," pengguna ditemukan"]})]}),e.jsx(O,{children:r?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((x,v)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ae,{className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ae,{className:"h-4 w-[200px]"}),e.jsx(ae,{className:"h-4 w-[150px]"})]})]},v))}):e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"Pengguna"}),e.jsx(N,{children:"Email"}),e.jsx(N,{children:"Role"}),e.jsx(N,{children:"Tanggal Daftar"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Aksi"})]})}),e.jsx(ke,{children:i.map(x=>e.jsxs(V,{className:"smooth-transition hover:bg-muted/50",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-medium",children:d(x.full_name)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.full_name||"No Name"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",x.id.slice(0,8),"..."]})]})]})}),e.jsx(k,{children:x.email}),e.jsx(k,{children:e.jsx(X,{variant:l(x.role),children:c(x.role)})}),e.jsx(k,{className:"text-sm",children:h(x.created_at)}),e.jsx(k,{children:e.jsx(X,{variant:"default",children:"Aktif"})}),e.jsx(k,{children:e.jsxs(hv,{children:[e.jsx(pv,{asChild:!0,children:e.jsx(S,{variant:"ghost",className:"h-8 w-8 p-0 button-hover",children:e.jsx(Pd,{className:"h-4 w-4"})})}),e.jsxs(Ul,{align:"end",className:"bg-popover",children:[e.jsx(Ql,{children:"Aksi"}),e.jsxs(da,{className:"cursor-pointer",children:[e.jsx(ct,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),e.jsxs(da,{className:"cursor-pointer",children:[e.jsx(st,{className:"mr-2 h-4 w-4"}),"Edit Pengguna"]}),e.jsxs(da,{className:"cursor-pointer",children:[e.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Atur Hak Akses"]}),e.jsx(Xl,{}),e.jsxs(da,{className:"cursor-pointer text-destructive",children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),"Hapus Pengguna"]})]})]})})]},x.id))})]})})]})]})},jv=At("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zs=u.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:w(jv({variant:s}),t),...a}));zs.displayName="Alert";const wv=u.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:w("mb-1 font-medium leading-none tracking-tight",t),...s}));wv.displayName="AlertTitle";const Ws=u.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:w("text-sm [&_p]:leading-relaxed",t),...s}));Ws.displayName="AlertDescription";const kv=()=>{const[t,s]=u.useState(""),[a,r]=u.useState(""),[n,o]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(""),[h,p]=u.useState(""),{signIn:m,signUp:f,user:g}=wa(),x=Qn();u.useEffect(()=>{g&&x("/")},[g,x]);const v=async b=>{b.preventDefault(),l(!0),d(""),p("");const{error:P}=await m(t,a);P?d(P.message):(p("Login berhasil! Mengarahkan..."),setTimeout(()=>x("/"),1e3)),l(!1)},y=async b=>{b.preventDefault(),l(!0),d(""),p("");const{error:P}=await f(t,a,n);P?d(P.message):p("Akun berhasil dibuat! Silakan login."),l(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4",children:e.jsxs(F,{className:"w-full max-w-md",children:[e.jsxs(I,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(Wt,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Bisnis Manager"})]}),e.jsx(L,{children:"Sistem Manajemen Bisnis"}),e.jsx(ye,{children:"Masuk atau daftar untuk mengakses sistem"})]}),e.jsxs(O,{children:[e.jsxs(Gl,{defaultValue:"login",className:"w-full",children:[e.jsxs(Ar,{className:"grid w-full grid-cols-2",children:[e.jsx(Dt,{value:"login",children:"Masuk"}),e.jsx(Dt,{value:"register",children:"Daftar"})]}),e.jsx(Tt,{value:"login",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"login-email",children:"Email"}),e.jsx(G,{id:"login-email",type:"email",placeholder:"contoh@email.com",value:t,onChange:b=>s(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"login-password",children:"Password"}),e.jsx(G,{id:"login-password",type:"password",placeholder:"Masukkan password",value:a,onChange:b=>r(b.target.value),required:!0})]}),e.jsx(S,{type:"submit",className:"w-full",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Masuk"})]})}),e.jsx(Tt,{value:"register",children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"register-name",children:"Nama Lengkap"}),e.jsx(G,{id:"register-name",type:"text",placeholder:"Nama lengkap",value:n,onChange:b=>o(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"register-email",children:"Email"}),e.jsx(G,{id:"register-email",type:"email",placeholder:"contoh@email.com",value:t,onChange:b=>s(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"register-password",children:"Password"}),e.jsx(G,{id:"register-password",type:"password",placeholder:"Minimal 6 karakter",value:a,onChange:b=>r(b.target.value),required:!0,minLength:6})]}),e.jsx(S,{type:"submit",className:"w-full",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Daftar"})]})})]}),c&&e.jsx(zs,{variant:"destructive",className:"mt-4",children:e.jsx(Ws,{children:c})}),h&&e.jsx(zs,{className:"mt-4",children:e.jsx(Ws,{children:h})})]})]})})},Nv=()=>{const t=Ys();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Sv=()=>Ne({queryKey:["kebutuhan-produksi-list"],queryFn:async()=>{const{data:t,error:s}=await D.from("kebutuhan_produksi").select("*").order("created_at",{ascending:!1});if(s)throw s;return t}}),Cv=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{data:r,error:n}=await D.from("kebutuhan_produksi").insert({no_kebutuhan:"",tanggal:a.tanggal,keterangan:a.keterangan||null}).select().single();if(n)throw n;if(a.items.length>0){const{error:o}=await D.from("item_kebutuhan_produksi").insert(a.items.map(l=>({kebutuhan_produksi_id:r.id,produk_id:l.produk_id,qty:l.qty})));if(o)throw o;const{error:i}=await D.rpc("populate_kebutuhan_komponen",{p_kebutuhan_produksi_id:r.id});if(i)throw i}return r},onSuccess:()=>{t.invalidateQueries({queryKey:["kebutuhan-produksi-list"]}),s({title:"Sukses",description:"Kebutuhan produksi berhasil dibuat dan komponen otomatis dihitung"})},onError:a=>{s({title:"Error",description:"Gagal membuat kebutuhan produksi: "+a.message,variant:"destructive"})}})},Pv=t=>Ne({queryKey:["kebutuhan-produksi-detail",t],queryFn:async()=>{const{data:s,error:a}=await D.from("kebutuhan_produksi").select(`
          *,
          items:item_kebutuhan_produksi (
            *,
            produk:produk_id (
              nama,
              variant
            )
          ),
          komponen:kebutuhan_komponen (
            *,
            komponen:komponen_id (
              nama,
              satuan,
              nilai_konversi,
              satuan_konversi
            )
          )
        `).eq("id",t).single();if(a)throw a;return s},enabled:!!t}),_v=()=>{const t=De(),{toast:s}=ve();return Te({mutationFn:async a=>{const{error:r}=await D.from("kebutuhan_produksi").delete().eq("id",a);if(r)throw r},onSuccess:()=>{t.invalidateQueries({queryKey:["kebutuhan-produksi-list"]}),s({title:"Sukses",description:"Kebutuhan produksi berhasil dihapus"})},onError:a=>{s({title:"Error",description:"Gagal menghapus kebutuhan produksi: "+a.message,variant:"destructive"})}})},Dv=({open:t,onOpenChange:s})=>{const[a,r]=u.useState({tanggal:new Date().toISOString().split("T")[0],keterangan:"",items:[{produk_id:"",qty:0}]}),{data:n}=ta(),o=Cv(),i=async h=>{h.preventDefault();const p=a.items.filter(m=>m.produk_id&&m.qty>0);p.length!==0&&(await o.mutateAsync({...a,items:p}),s(!1),r({tanggal:new Date().toISOString().split("T")[0],keterangan:"",items:[{produk_id:"",qty:0}]}))},l=()=>{r(h=>({...h,items:[...h.items,{produk_id:"",qty:0}]}))},c=h=>{r(p=>({...p,items:p.items.filter((m,f)=>f!==h)}))},d=(h,p,m)=>{r(f=>({...f,items:f.items.map((g,x)=>x===h?{...g,[p]:m}:g)}))};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-xl p-3 sm:p-4 !pb-3 max-h-[90vh] overflow-y-auto",children:[e.jsx(Ce,{className:"mb-1",children:e.jsx(Pe,{className:"text-base font-semibold",children:"Tambah Kebutuhan Produksi"})}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(Q,{htmlFor:"tanggal",className:"text-xs",children:"Tanggal"}),e.jsx(G,{id:"tanggal",type:"date",value:a.tanggal,onChange:h=>r(p=>({...p,tanggal:h.target.value})),required:!0,className:"h-9 px-2 py-1 text-sm"})]})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(Q,{htmlFor:"keterangan",className:"text-xs",children:"Keterangan"}),e.jsx(It,{id:"keterangan",value:a.keterangan,onChange:h=>r(p=>({...p,keterangan:h.target.value})),placeholder:"Keterangan kebutuhan produksi...",className:"min-h-[32px] h-20 text-sm px-2 py-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Q,{className:"text-xs",children:"Item Produk"}),e.jsxs(S,{type:"button",onClick:l,size:"sm",className:"h-7 px-2 py-1 text-xs",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-1"}),"Tambah"]})]}),a.items.map((h,p)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[e.jsxs("div",{className:"col-span-6 flex flex-col gap-1",children:[e.jsx(Q,{className:"text-xs",children:"Produk"}),e.jsxs(He,{value:h.produk_id,onValueChange:m=>d(p,"produk_id",m),children:[e.jsx(Oe,{className:"h-9 text-sm px-2",children:e.jsx(Be,{placeholder:"Pilih produk"})}),e.jsx(Le,{children:n?.map(m=>e.jsxs(le,{value:m.id,className:"text-xs",children:[m.nama," - ",m.variant]},m.id))})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx(Q,{className:"text-xs",children:"Qty"}),e.jsx(G,{type:"number",min:"0",value:h.qty,onChange:m=>d(p,"qty",parseInt(m.target.value)||0),className:"h-9 px-2 text-sm"})]}),e.jsx("div",{className:"col-span-2 flex justify-end",children:a.items.length>1&&e.jsx(S,{type:"button",variant:"ghost",size:"icon",onClick:()=>c(p),className:"h-8 w-8","aria-label":"Hapus",children:e.jsx(We,{className:"h-4 w-4"})})})]},p))]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-1",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),size:"sm",className:"h-8 px-4 py-1 text-xs",children:"Batal"}),e.jsx(S,{type:"submit",disabled:o.isPending,size:"sm",className:"h-8 px-4 py-1 text-xs",children:o.isPending?"Menyimpan...":"Simpan"})]})]})]})})},Tv=t=>{const s=new Us,a=s.internal.pageSize.getWidth();s.setFontSize(16),s.setFont("helvetica","bold"),s.text("Detail Kebutuhan Produksi",a/2,16,{align:"center"}),zt(s,{startY:22,head:[["No. Kebutuhan","Tanggal","Total Kebutuhan","Keterangan"]],body:[[t.no_kebutuhan,t.tanggal?new Date(t.tanggal).toLocaleDateString("id-ID"):"-",`Rp ${t.total_kebutuhan.toLocaleString("id-ID")}`,t.keterangan||"-"]],headStyles:{fillColor:[33,37,41],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"center"},margin:{left:14,right:14}});let r=0;s.lastAutoTable&&s.lastAutoTable.finalY?r=s.lastAutoTable.finalY+8:r=35,s.setFont("helvetica","bold"),s.setFontSize(13),s.text("Item Produk",14,r),r+=2,zt(s,{startY:r+4,head:[["No","Nama Produk","Variant","Qty"]],body:t.items&&t.items.length>0?t.items.map((i,l)=>[l+1,i.produk?.nama||"-",i.produk?.variant||"-",i.qty]):[[{content:"Tidak ada item produk",colSpan:4,styles:{halign:"center"}}]],headStyles:{fillColor:[31,41,55],textColor:[255,255,255],fontStyle:"bold"},bodyStyles:{halign:"center"},margin:{left:14,right:14},columnStyles:{0:{cellWidth:12},1:{cellWidth:55},2:{cellWidth:32},3:{cellWidth:22}},styles:{fontSize:10}});let n=s.lastAutoTable?.finalY?s.lastAutoTable.finalY+10:r+30;s.setFont("helvetica","bold"),s.setFontSize(13),s.text("Kebutuhan Komponen",14,n),zt(s,{startY:n+4,head:[["No","Nama Komponen","Qty","Satuan","Konversi","Subtotal"]],body:t.komponen&&t.komponen.length>0?t.komponen.map((i,l)=>{const c=i.komponen?.nilai_konversi;let d="-";if(typeof i.qty_kebutuhan=="number"&&typeof c=="number"&&c>0){const h=i.qty_kebutuhan/c,p=i.komponen?.satuan_konversi||"-";d=`${h.toFixed(1)} ${p}`}return[l+1,i.komponen?.nama||"-",i.qty_kebutuhan,i.komponen?.satuan||"-",d,`Rp ${i.subtotal.toLocaleString("id-ID")}`]}):[[{content:"Tidak ada kebutuhan komponen",colSpan:6,styles:{halign:"center"}}]],headStyles:{fillColor:[17,17,31],textColor:[255,255,255],fontStyle:"bold",halign:"left"},bodyStyles:{halign:"left"},margin:{left:14,right:14},columnStyles:{0:{cellWidth:12,halign:"left"},1:{cellWidth:55,halign:"left"},2:{cellWidth:22,halign:"left"},3:{cellWidth:18,halign:"left"},4:{cellWidth:28,halign:"left"},5:{cellWidth:36,halign:"left"}},styles:{fontSize:10}});const o=s.getNumberOfPages();s.setFontSize(10);for(let i=1;i<=o;i++)s.setPage(i),s.text(`Halaman ${i} dari ${o}`,a-38,s.internal.pageSize.getHeight()-8,{align:"right"}),s.text(`Dicetak pada: ${new Date().toLocaleDateString("id-ID")}`,14,s.internal.pageSize.getHeight()-8);s.save(`Kebutuhan_Produksi_${t.no_kebutuhan}.pdf`)},Mv=({open:t,onOpenChange:s,kebutuhan:a})=>{if(!a)return null;const r=()=>{Tv(a)};return e.jsx(Me,{open:t,onOpenChange:s,children:e.jsxs(Se,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:[e.jsx(Ce,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Pe,{className:"text-base",children:["Detail Kebutuhan Produksi - ",a.no_kebutuhan]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[e.jsx(sr,{className:"h-4 w-4"}),"Export PDF"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 py-1 border-b text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500 mb-0.5",children:"Tanggal"}),e.jsx("p",{children:new Date(a.tanggal).toLocaleDateString("id-ID")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500 mb-0.5",children:"Total Kebutuhan"}),e.jsxs("p",{className:"font-semibold",children:["Rp ",a.total_kebutuhan.toLocaleString("id-ID")]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500 mb-0.5",children:"Status"}),e.jsx(X,{variant:"secondary",className:"text-xs",children:"Aktif"})]})]}),a.keterangan&&e.jsxs("div",{className:"py-1 border-b text-xs",children:[e.jsx("p",{className:"font-medium text-gray-500 mb-0.5",children:"Keterangan"}),e.jsx("p",{children:a.keterangan})]}),e.jsxs(F,{className:"border-0 shadow-sm",children:[e.jsx(I,{className:"pb-1 pt-2",children:e.jsx(L,{className:"text-sm",children:"Item Produk"})}),e.jsx(O,{className:"pt-0 pb-2",children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{className:"h-6",children:[e.jsx(N,{className:"text-xs py-1",children:"Produk"}),e.jsx(N,{className:"text-right text-xs py-1",children:"Qty"})]})}),e.jsx(ke,{children:a.items?.map(n=>e.jsxs(V,{className:"h-6",children:[e.jsxs(k,{className:"text-xs py-0.5",children:[n.produk?.nama," - ",n.produk?.variant]}),e.jsx(k,{className:"text-right text-xs py-0.5",children:n.qty})]},n.id))})]})})]}),e.jsxs(F,{className:"border-0 shadow-sm",children:[e.jsx(I,{className:"pb-1 pt-2",children:e.jsx(L,{className:"text-sm",children:"Kebutuhan Komponen"})}),e.jsx(O,{className:"pt-0 pb-2",children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{className:"h-6",children:[e.jsx(N,{className:"text-xs py-1",children:"Nama Komponen"}),e.jsx(N,{className:"text-right text-xs py-1",children:"Qty"}),e.jsx(N,{className:"text-right text-xs py-1",children:"Satuan"}),e.jsx(N,{className:"text-right text-xs py-1",children:"Konversi"}),e.jsx(N,{className:"text-right text-xs py-1",children:"Harga"}),e.jsx(N,{className:"text-right text-xs py-1",children:"Subtotal"})]})}),e.jsx(ke,{children:a.komponen?.map(n=>{const o=n.komponen?.nilai_konversi,i=n.komponen?.satuan_konversi||"-";let l="-";return typeof n.qty_kebutuhan=="number"&&typeof o=="number"&&o>0&&(l=`${(n.qty_kebutuhan/o).toFixed(1)} ${i}`),e.jsxs(V,{className:"h-6",children:[e.jsxs(k,{className:"text-xs py-0.5",children:[n.komponen?.nama,n.komponen?.satuan&&e.jsxs("span",{className:"text-gray-500 ml-1 text-[9px]",children:["(",n.komponen.satuan,")"]})]}),e.jsx(k,{className:"text-right text-xs py-0.5",children:n.qty_kebutuhan}),e.jsx(k,{className:"text-right text-xs py-0.5",children:n.komponen?.satuan||"-"}),e.jsx(k,{className:"text-right text-xs py-0.5",children:l}),e.jsxs(k,{className:"text-right text-xs py-0.5",children:["Rp ",n.harga.toLocaleString("id-ID")]}),e.jsxs(k,{className:"text-right text-xs py-0.5",children:["Rp ",n.subtotal.toLocaleString("id-ID")]})]},n.id)})})]})})]})]})]})})},Ev=({onAddClick:t,onExportClick:s})=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Kebutuhan Produksi"}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola kebutuhan produksi dan komponen"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",onClick:s,children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.jsxs(S,{onClick:t,children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Tambah Kebutuhan"]})]})]}),Rv=({value:t,onChange:s})=>e.jsxs(F,{children:[e.jsx(I,{children:e.jsx(L,{children:"Filter & Pencarian"})}),e.jsx(O,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(G,{placeholder:"Cari berdasarkan nomor kebutuhan atau keterangan...",value:t,onChange:a=>s(a.target.value),className:"pl-10"})]})})]}),Av=({kebutuhanList:t,onDetail:s,onDelete:a,searchTerm:r})=>e.jsxs(F,{children:[e.jsx(I,{children:e.jsxs(L,{children:["Daftar Kebutuhan Produksi (",t.length,")"]})}),e.jsx(O,{children:e.jsxs(je,{children:[e.jsx(we,{children:e.jsxs(V,{children:[e.jsx(N,{children:"No. Kebutuhan"}),e.jsx(N,{children:"Tanggal"}),e.jsx(N,{children:"Keterangan"}),e.jsx(N,{className:"text-right",children:"Total Kebutuhan"}),e.jsx(N,{className:"text-center",children:"Aksi"})]})}),e.jsx(ke,{children:t.length===0?e.jsx(V,{children:e.jsx(k,{colSpan:5,className:"text-center py-8 text-gray-500",children:r?"Tidak ada data yang sesuai dengan pencarian":"Belum ada data kebutuhan produksi"})}):t.map(n=>e.jsxs(V,{children:[e.jsx(k,{className:"font-medium",children:n.no_kebutuhan}),e.jsx(k,{children:new Date(n.tanggal).toLocaleDateString("id-ID")}),e.jsx(k,{children:n.keterangan||"-"}),e.jsxs(k,{className:"text-right",children:["Rp ",n.total_kebutuhan.toLocaleString("id-ID")]}),e.jsx(k,{className:"text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",onClick:()=>s(n),children:e.jsx(ct,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>a(n.id),children:e.jsx(We,{className:"h-4 w-4"})})]})})]},n.id))})]})})]}),Fv=t=>{const s=new Us,a=s.internal.pageSize.getWidth();s.setFontSize(16),s.setFont("helvetica","bold"),s.text("Daftar Kebutuhan Produksi",a/2,16,{align:"center"}),s.setFontSize(10),s.setFont("helvetica","normal"),s.text(`Dicetak pada: ${new Date().toLocaleDateString("id-ID")}`,14,24);const r=t.map((i,l)=>[l+1,i.no_kebutuhan,i.tanggal?new Date(i.tanggal).toLocaleDateString("id-ID"):"-",i.keterangan??"-",`Rp ${Number(i.total_kebutuhan).toLocaleString("id-ID")}`]);zt(s,{startY:32,head:[["No","No. Kebutuhan","Tanggal","Keterangan","Total Kebutuhan"]],body:r,headStyles:{fillColor:[33,37,41],textColor:[255,255,255],halign:"center",valign:"middle",fontStyle:"bold"},bodyStyles:{valign:"middle"},columnStyles:{0:{halign:"center",cellWidth:12},1:{cellWidth:38},2:{cellWidth:30,halign:"center"},3:{cellWidth:60},4:{cellWidth:33,halign:"right"}},didDrawPage:i=>{const l=s.getNumberOfPages();s.setFontSize(9),s.setTextColor(100);const c=i.pageNumber||1;s.text(`Halaman ${c} dari ${l}`,a-38,s.internal.pageSize.getHeight()-8,{align:"right"})}});const n=s.lastAutoTable?.finalY?s.lastAutoTable.finalY+8:45,o=t.reduce((i,l)=>i+Number(l.total_kebutuhan),0);s.setFont("helvetica","bold"),s.setFontSize(11),s.text(`Total Kebutuhan: Rp ${o.toLocaleString("id-ID")}`,14,n),s.save(`Daftar_Kebutuhan_Produksi_${new Date().toISOString().split("T")[0]}.pdf`)},Iv=()=>{const[t,s]=u.useState(""),[a,r]=u.useState(!1),[n,o]=u.useState(!1),[i,l]=u.useState(!1),[c,d]=u.useState(null),[h,p]=u.useState(null),{data:m,isLoading:f,error:g,refetch:x}=Sv(),{data:v}=Pv(c?.id||""),y=_v(),b=m?.filter(A=>A.no_kebutuhan.toLowerCase().includes(t.toLowerCase())||(A.keterangan||"").toLowerCase().includes(t.toLowerCase()))||[],P=A=>{d(A),o(!0)},_=A=>{p(A),l(!0)},T=()=>{Fv(b)},C=async()=>{h&&(await y.mutateAsync(h),l(!1),p(null),x())};return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Memuat data..."})]})}):g?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center text-red-600",children:["Error: ",g.message]})}):e.jsxs("div",{className:"p-6 space-y-6 fade-in",children:[e.jsx(Ev,{onAddClick:()=>r(!0),onExportClick:T}),e.jsx(Rv,{value:t,onChange:s}),e.jsx(Av,{kebutuhanList:b,onDetail:P,onDelete:_,searchTerm:t}),e.jsx(Dv,{open:a,onOpenChange:A=>{r(A),A||x()}}),e.jsx(Mv,{open:n,onOpenChange:o,kebutuhan:v||null}),e.jsx(kt,{open:i,onOpenChange:l,children:e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(ht,{children:"Hapus Kebutuhan Produksi"}),e.jsx(pt,{children:"Apakah Anda yakin ingin menghapus kebutuhan produksi ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ft,{onClick:C,disabled:y.isPending,children:y.isPending?"Menghapus...":"Hapus"})]})]})})]})},Ov=new $c,Lv=()=>e.jsx(qc,{client:Ov,children:e.jsx(Km,{children:e.jsxs(zo,{children:[e.jsx(gu,{}),e.jsx(Vu,{}),e.jsx(zc,{children:e.jsxs(Wr,{children:[e.jsx(Ve,{path:"/auth",element:e.jsx(kv,{})}),e.jsx(Ve,{path:"/*",element:e.jsx(rn,{children:e.jsx(Qo,{children:e.jsxs("div",{className:"min-h-screen flex w-full",children:[e.jsx(Bm,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"p-2",children:e.jsx(Jo,{className:"mb-2"})}),e.jsxs(Wr,{children:[e.jsx(Ve,{path:"/",element:e.jsx(Ip,{})}),e.jsx(Ve,{path:"/produk",element:e.jsx(cf,{})}),e.jsx(Ve,{path:"/spk",element:e.jsx(Df,{})}),e.jsx(Ve,{path:"/stok",element:e.jsx(Og,{})}),e.jsx(Ve,{path:"/komponen",element:e.jsx(Kg,{})}),e.jsx(Ve,{path:"/hpp-produk",element:e.jsx(Wg,{})}),e.jsx(Ve,{path:"/kebutuhan-produksi",element:e.jsx(Iv,{})}),e.jsx(Ve,{path:"/pembiayaan",element:e.jsx(Xg,{})}),e.jsx(Ve,{path:"/laporan",element:e.jsx(mv,{})}),e.jsx(Ve,{path:"/pengguna",element:e.jsx(rn,{requiredRole:"admin",children:e.jsx(yv,{})})}),e.jsx(Ve,{path:"*",element:e.jsx(Nv,{})})]})]})]})})})})]})})]})})});Jn(document.getElementById("root")).render(e.jsx(Lv,{}));
